{"version":3,"file":"Layout.BqCPlncL.js","sources":["../../../../../../node_modules/svelte/src/runtime/internal/await_block.js","../../../../../../node_modules/svelte/src/runtime/internal/each.js","../../../../../../node_modules/svelte/src/runtime/easing/index.js","../../../../../../node_modules/svelte/src/runtime/transition/index.js","../../../../../../src/lib/utils/index.ts","../../../../../../src/lib/utils/ui-framework.ts","../../../../../../node_modules/flexlayout-react/lib/Orientation.js","../../../../../../node_modules/flexlayout-react/lib/Rect.js","../../../../../../node_modules/flexlayout-react/lib/DockLocation.js","../../../../../../node_modules/flexlayout-react/lib/DragDrop.js","../../../../../../node_modules/flexlayout-react/lib/model/Action.js","../../../../../../node_modules/flexlayout-react/lib/model/Actions.js","../../../../../../node_modules/flexlayout-react/lib/Attribute.js","../../../../../../node_modules/flexlayout-react/lib/AttributeDefinitions.js","../../../../../../node_modules/flexlayout-react/lib/DropInfo.js","../../../../../../node_modules/flexlayout-react/lib/Types.js","../../../../../../node_modules/flexlayout-react/lib/model/Node.js","../../../../../../node_modules/flexlayout-react/lib/model/SplitterNode.js","../../../../../../node_modules/flexlayout-react/lib/model/TabNode.js","../../../../../../node_modules/flexlayout-react/lib/model/RowNode.js","../../../../../../node_modules/flexlayout-react/lib/model/TabSetNode.js","../../../../../../node_modules/flexlayout-react/lib/model/Utils.js","../../../../../../node_modules/flexlayout-react/lib/model/BorderNode.js","../../../../../../node_modules/flexlayout-react/lib/I18nLabel.js","../../../../../../node_modules/flexlayout-react/lib/model/ICloseType.js","../../../../../../node_modules/flexlayout-react/lib/view/Utils.js","../../../../../../node_modules/flexlayout-react/lib/view/BorderButton.js","../../../../../../node_modules/flexlayout-react/lib/view/TabButtonStamp.js","../../../../../../node_modules/flexlayout-react/lib/PopupMenu.js","../../../../../../node_modules/flexlayout-react/lib/view/TabOverflowHook.js","../../../../../../node_modules/flexlayout-react/lib/view/BorderTabSet.js","../../../../../../node_modules/flexlayout-react/lib/view/Splitter.js","../../../../../../node_modules/flexlayout-react/lib/view/ErrorBoundary.js","../../../../../../node_modules/flexlayout-react/lib/view/Tab.js","../../../../../../node_modules/flexlayout-react/lib/view/TabButton.js","../../../../../../node_modules/flexlayout-react/lib/view/TabSet.js","../../../../../../node_modules/flexlayout-react/lib/view/FloatingWindow.js","../../../../../../node_modules/flexlayout-react/lib/view/FloatingWindowTab.js","../../../../../../node_modules/flexlayout-react/lib/view/TabFloating.js","../../../../../../node_modules/flexlayout-react/lib/view/Icons.js","../../../../../../node_modules/flexlayout-react/lib/view/Layout.js","../../../../../../node_modules/flexlayout-react/lib/model/BorderSet.js","../../../../../../node_modules/flexlayout-react/lib/model/IDraggable.js","../../../../../../node_modules/flexlayout-react/lib/model/IDropTarget.js","../../../../../../node_modules/flexlayout-react/lib/model/IJsonModel.js","../../../../../../node_modules/flexlayout-react/lib/model/Model.js","../../../../../../node_modules/flexlayout-react/lib/index.js","../../../../../../src/lib/layout/Layout.svelte"],"sourcesContent":["import { is_promise } from './utils.js';\nimport { check_outros, group_outros, transition_in, transition_out } from './transitions.js';\nimport { flush } from './scheduler.js';\nimport { get_current_component, set_current_component } from './lifecycle.js';\n\n/**\n * @template T\n * @param {Promise<T>} promise\n * @param {import('./private.js').PromiseInfo<T>} info\n * @returns {boolean}\n */\nexport function handle_promise(promise, info) {\n\tconst token = (info.token = {});\n\t/**\n\t * @param {import('./private.js').FragmentFactory} type\n\t * @param {0 | 1 | 2} index\n\t * @param {number} [key]\n\t * @param {any} [value]\n\t * @returns {void}\n\t */\n\tfunction update(type, index, key, value) {\n\t\tif (info.token !== token) return;\n\t\tinfo.resolved = value;\n\t\tlet child_ctx = info.ctx;\n\t\tif (key !== undefined) {\n\t\t\tchild_ctx = child_ctx.slice();\n\t\t\tchild_ctx[key] = value;\n\t\t}\n\t\tconst block = type && (info.current = type)(child_ctx);\n\t\tlet needs_flush = false;\n\t\tif (info.block) {\n\t\t\tif (info.blocks) {\n\t\t\t\tinfo.blocks.forEach((block, i) => {\n\t\t\t\t\tif (i !== index && block) {\n\t\t\t\t\t\tgroup_outros();\n\t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n\t\t\t\t\t\t\tif (info.blocks[i] === block) {\n\t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcheck_outros();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinfo.block.d(1);\n\t\t\t}\n\t\t\tblock.c();\n\t\t\ttransition_in(block, 1);\n\t\t\tblock.m(info.mount(), info.anchor);\n\t\t\tneeds_flush = true;\n\t\t}\n\t\tinfo.block = block;\n\t\tif (info.blocks) info.blocks[index] = block;\n\t\tif (needs_flush) {\n\t\t\tflush();\n\t\t}\n\t}\n\tif (is_promise(promise)) {\n\t\tconst current_component = get_current_component();\n\t\tpromise.then(\n\t\t\t(value) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.then, 1, info.value, value);\n\t\t\t\tset_current_component(null);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.catch, 2, info.error, error);\n\t\t\t\tset_current_component(null);\n\t\t\t\tif (!info.hasCatch) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// if we previously had a then/catch block, destroy it\n\t\tif (info.current !== info.pending) {\n\t\t\tupdate(info.pending, 0);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\tif (info.current !== info.then) {\n\t\t\tupdate(info.then, 1, info.value, promise);\n\t\t\treturn true;\n\t\t}\n\t\tinfo.resolved = /** @type {T} */ (promise);\n\t}\n}\n\n/** @returns {void} */\nexport function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\tinfo.block.p(child_ctx, dirty);\n}\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nexport { identity as linear } from '../internal/index.js';\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t: t < c\n\t\t? ca * t2 - cb * t + cc\n\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n","export type EventOnElement<T extends HTMLElement> = Event & {\n    currentTarget: EventTarget & T;\n};\n\nexport type EventForDispatch<TName extends string, TPayload extends any> = {\n    Event: CustomEvent<TPayload>;\n    Dispatch: { [key in TName]: TPayload };\n}\n\nexport type AbstractConstructor = abstract new (...args: any) => any;\n\nexport const invokeEachFrameForSeconds = (callback: () => void, duration: number) => {\n    const startTime = performance.now();\n    const ms = duration * 1000;\n    const step = (timestamp: DOMHighResTimeStamp) => {\n        callback();\n        if (timestamp - startTime > ms) return;\n        requestAnimationFrame(step);\n    }\n    step(startTime);\n}\n\nexport const objectIs =\n    <Target extends {}>(key: keyof Target) =>\n        (obj: {}): obj is Target =>\n            key in obj;\n\nexport const messageFromError = (e: any) => e instanceof Error ? e.message : `${e}`;\n\nexport const invalid = (x: any): x is undefined | null => x === undefined || x === null;\n\nexport const scrollDown = (element: HTMLElement) => (element.scrollTop = element.scrollHeight);\n\nexport type Expand<T> = T extends infer O ? { [K in keyof O]: O[K] } : never;\n\nexport type ExpandRecursively<T> = T extends object\n    ? T extends infer O ? { [K in keyof O]: ExpandRecursively<O[K]> } : never\n    : T;\n\nconst proxyPattern = \"^Proxy<(.+)>$\";\n\nexport const unproxy = (name: string) =>\n    name.match(new RegExp(proxyPattern))?.at(1) ?? name;\n\nexport const findElementWithValue = (element: HTMLElement, value: string) => {\n    const children = element.querySelectorAll(`[data-value=\"${value}\"]`);\n    return children.length > 0 ? children[0] : null;\n};\n\nexport type MakeOptionalIfNull<T> = {\n    [K in keyof T as null extends T[K] ? K : never]?: Exclude<T[K], null>;\n} & {\n    [K in keyof T as null extends T[K] ? never : K]: T[K];\n};\n\nexport type MakeOptionalIfUndefined<T> = {\n    [K in keyof T as undefined extends T[K] ? K : never]?: Exclude<T[K], undefined>;\n} & {\n    [K in keyof T as undefined extends T[K] ? never : K]: T[K];\n};\n\nexport type RequiredKeys<T> = {\n    [K in keyof T]-?: {} extends Pick<T, K> ? never : K\n}[keyof T];","import type React from \"react\";\nimport type { SvelteComponent, ComponentType } from \"svelte\";\n// @ts-ignore\n// NOTE: This could be removed by the svelte people at any time!\nimport { get_current_component } from \"svelte/internal\";\nimport { unproxy, type MakeOptionalIfUndefined } from \".\";\n\n/**\n * What Parker's typescript infers react components to. \n * None of the react built-in types seemed to be correct (but that's hard to believe).\n */\nexport type ReactFunctionalComponent<T = any> = (props: T) => React.ReactNode;\n\n/**\n * Extracts the props type from a component type (whether it's a svelte or react component).\n */\nexport type Props<T> =\n    T extends SvelteComponent<infer P> ? P :\n    T extends React.FunctionComponent<infer P> ? Expand<Omit<P, \"children\">> :\n    T extends React.ComponentType<infer P> ? Expand<Omit<P, \"children\">> :\n    never;\n\n/**\n * Type representing the result of when the generic argument passed to `Props<...>` is a component with no props.\n */\nexport type NoInferredProps = Record<string, never>;\n\nexport type Framework = \"svelte\" | \"react\";\n\ntype SvelteComponentName = string;\ntype SvelteRegistrationCallback<T extends SvelteComponent = SvelteComponent> = (component: T) => void;\nexport const svelte = {\n\n    /**\n     * NOTE: Component name is a 'fragile' key mechanism\n     */\n    registrationCallbacks: new Map<SvelteComponentName, SvelteRegistrationCallback>(),\n    deleteOnCallback: new Map<SvelteComponentName, boolean>(),\n\n    /**\n     * This is a hack to be able to capture a reference to a created svelte component, \n     * which is helpful when using the `Layout` component, as svelte components effectively get 'wrapped'\n     * by react components and thus aren't directly accessible (but directly accessing svelte components is awesome, since they are effectively class instances). \n     */\n    register() {\n        const instance: SvelteComponent = get_current_component();\n        const identifier = instance.constructor.name;\n        const callback = this.registrationCallbacks.get(identifier);\n        callback?.(instance);\n        if (callback && this.deleteOnCallback.get(identifier)) {\n            this.registrationCallbacks.delete(identifier);\n            this.deleteOnCallback.delete(identifier);\n        }\n    },\n\n    onRegister<T extends SvelteComponent>(component: ComponentType<T>, callback: SvelteRegistrationCallback, deleteOnCallback = true) {\n        const identifier = unproxy(component.name);\n        this.registrationCallbacks.set(identifier, callback);\n        this.deleteOnCallback.set(identifier, deleteOnCallback);\n    },\n}","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Orientation = void 0;\r\nclass Orientation {\r\n    static flip(from) {\r\n        if (from === Orientation.HORZ) {\r\n            return Orientation.VERT;\r\n        }\r\n        else {\r\n            return Orientation.HORZ;\r\n        }\r\n    }\r\n    /** @internal */\r\n    constructor(name) {\r\n        this._name = name;\r\n    }\r\n    getName() {\r\n        return this._name;\r\n    }\r\n    toString() {\r\n        return this._name;\r\n    }\r\n}\r\nexports.Orientation = Orientation;\r\nOrientation.HORZ = new Orientation(\"horz\");\r\nOrientation.VERT = new Orientation(\"vert\");\r\n//# sourceMappingURL=Orientation.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Rect = void 0;\r\nconst Orientation_1 = require(\"./Orientation\");\r\nclass Rect {\r\n    static empty() {\r\n        return new Rect(0, 0, 0, 0);\r\n    }\r\n    constructor(x, y, width, height) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    static fromElement(element) {\r\n        let { x, y, width, height } = element.getBoundingClientRect();\r\n        return new Rect(x, y, width, height);\r\n    }\r\n    clone() {\r\n        return new Rect(this.x, this.y, this.width, this.height);\r\n    }\r\n    equals(rect) {\r\n        return this.x === (rect === null || rect === void 0 ? void 0 : rect.x) && this.y === (rect === null || rect === void 0 ? void 0 : rect.y) && this.width === (rect === null || rect === void 0 ? void 0 : rect.width) && this.height === (rect === null || rect === void 0 ? void 0 : rect.height);\r\n    }\r\n    getBottom() {\r\n        return this.y + this.height;\r\n    }\r\n    getRight() {\r\n        return this.x + this.width;\r\n    }\r\n    getCenter() {\r\n        return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\r\n    }\r\n    positionElement(element, position) {\r\n        this.styleWithPosition(element.style, position);\r\n    }\r\n    styleWithPosition(style, position = \"absolute\") {\r\n        style.left = this.x + \"px\";\r\n        style.top = this.y + \"px\";\r\n        style.width = Math.max(0, this.width) + \"px\"; // need Math.max to prevent -ve, cause error in IE\r\n        style.height = Math.max(0, this.height) + \"px\";\r\n        style.position = position;\r\n        return style;\r\n    }\r\n    contains(x, y) {\r\n        if (this.x <= x && x <= this.getRight() && this.y <= y && y <= this.getBottom()) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    removeInsets(insets) {\r\n        return new Rect(this.x + insets.left, this.y + insets.top, Math.max(0, this.width - insets.left - insets.right), Math.max(0, this.height - insets.top - insets.bottom));\r\n    }\r\n    centerInRect(outerRect) {\r\n        this.x = (outerRect.width - this.width) / 2;\r\n        this.y = (outerRect.height - this.height) / 2;\r\n    }\r\n    /** @internal */\r\n    _getSize(orientation) {\r\n        let prefSize = this.width;\r\n        if (orientation === Orientation_1.Orientation.VERT) {\r\n            prefSize = this.height;\r\n        }\r\n        return prefSize;\r\n    }\r\n    toString() {\r\n        return \"(Rect: x=\" + this.x + \", y=\" + this.y + \", width=\" + this.width + \", height=\" + this.height + \")\";\r\n    }\r\n}\r\nexports.Rect = Rect;\r\n//# sourceMappingURL=Rect.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DockLocation = void 0;\r\nconst Orientation_1 = require(\"./Orientation\");\r\nconst Rect_1 = require(\"./Rect\");\r\nclass DockLocation {\r\n    /** @internal */\r\n    static getByName(name) {\r\n        return DockLocation.values[name];\r\n    }\r\n    /** @internal */\r\n    static getLocation(rect, x, y) {\r\n        x = (x - rect.x) / rect.width;\r\n        y = (y - rect.y) / rect.height;\r\n        if (x >= 0.25 && x < 0.75 && y >= 0.25 && y < 0.75) {\r\n            return DockLocation.CENTER;\r\n        }\r\n        // Whether or not the point is in the bottom-left half of the rect\r\n        // +-----+\r\n        // |\\    |\r\n        // |x\\   |\r\n        // |xx\\  |\r\n        // |xxx\\ |\r\n        // |xxxx\\|\r\n        // +-----+\r\n        const bl = y >= x;\r\n        // Whether or not the point is in the bottom-right half of the rect\r\n        // +-----+\r\n        // |    /|\r\n        // |   /x|\r\n        // |  /xx|\r\n        // | /xxx|\r\n        // |/xxxx|\r\n        // +-----+\r\n        const br = y >= 1 - x;\r\n        if (bl) {\r\n            return br ? DockLocation.BOTTOM : DockLocation.LEFT;\r\n        }\r\n        else {\r\n            return br ? DockLocation.RIGHT : DockLocation.TOP;\r\n        }\r\n    }\r\n    /** @internal */\r\n    constructor(name, orientation, indexPlus) {\r\n        this._name = name;\r\n        this._orientation = orientation;\r\n        this._indexPlus = indexPlus;\r\n        DockLocation.values[this._name] = this;\r\n    }\r\n    getName() {\r\n        return this._name;\r\n    }\r\n    getOrientation() {\r\n        return this._orientation;\r\n    }\r\n    /** @internal */\r\n    getDockRect(r) {\r\n        if (this === DockLocation.TOP) {\r\n            return new Rect_1.Rect(r.x, r.y, r.width, r.height / 2);\r\n        }\r\n        else if (this === DockLocation.BOTTOM) {\r\n            return new Rect_1.Rect(r.x, r.getBottom() - r.height / 2, r.width, r.height / 2);\r\n        }\r\n        if (this === DockLocation.LEFT) {\r\n            return new Rect_1.Rect(r.x, r.y, r.width / 2, r.height);\r\n        }\r\n        else if (this === DockLocation.RIGHT) {\r\n            return new Rect_1.Rect(r.getRight() - r.width / 2, r.y, r.width / 2, r.height);\r\n        }\r\n        else {\r\n            return r.clone();\r\n        }\r\n    }\r\n    /** @internal */\r\n    split(rect, size) {\r\n        if (this === DockLocation.TOP) {\r\n            const r1 = new Rect_1.Rect(rect.x, rect.y, rect.width, size);\r\n            const r2 = new Rect_1.Rect(rect.x, rect.y + size, rect.width, rect.height - size);\r\n            return { start: r1, end: r2 };\r\n        }\r\n        else if (this === DockLocation.LEFT) {\r\n            const r1 = new Rect_1.Rect(rect.x, rect.y, size, rect.height);\r\n            const r2 = new Rect_1.Rect(rect.x + size, rect.y, rect.width - size, rect.height);\r\n            return { start: r1, end: r2 };\r\n        }\r\n        if (this === DockLocation.RIGHT) {\r\n            const r1 = new Rect_1.Rect(rect.getRight() - size, rect.y, size, rect.height);\r\n            const r2 = new Rect_1.Rect(rect.x, rect.y, rect.width - size, rect.height);\r\n            return { start: r1, end: r2 };\r\n        }\r\n        else {\r\n            // if (this === DockLocation.BOTTOM) {\r\n            const r1 = new Rect_1.Rect(rect.x, rect.getBottom() - size, rect.width, size);\r\n            const r2 = new Rect_1.Rect(rect.x, rect.y, rect.width, rect.height - size);\r\n            return { start: r1, end: r2 };\r\n        }\r\n    }\r\n    /** @internal */\r\n    reflect() {\r\n        if (this === DockLocation.TOP) {\r\n            return DockLocation.BOTTOM;\r\n        }\r\n        else if (this === DockLocation.LEFT) {\r\n            return DockLocation.RIGHT;\r\n        }\r\n        if (this === DockLocation.RIGHT) {\r\n            return DockLocation.LEFT;\r\n        }\r\n        else {\r\n            // if (this === DockLocation.BOTTOM) {\r\n            return DockLocation.TOP;\r\n        }\r\n    }\r\n    toString() {\r\n        return \"(DockLocation: name=\" + this._name + \", orientation=\" + this._orientation + \")\";\r\n    }\r\n}\r\nexports.DockLocation = DockLocation;\r\nDockLocation.values = {};\r\nDockLocation.TOP = new DockLocation(\"top\", Orientation_1.Orientation.VERT, 0);\r\nDockLocation.BOTTOM = new DockLocation(\"bottom\", Orientation_1.Orientation.VERT, 1);\r\nDockLocation.LEFT = new DockLocation(\"left\", Orientation_1.Orientation.HORZ, 0);\r\nDockLocation.RIGHT = new DockLocation(\"right\", Orientation_1.Orientation.HORZ, 1);\r\nDockLocation.CENTER = new DockLocation(\"center\", Orientation_1.Orientation.VERT, 0);\r\n//# sourceMappingURL=DockLocation.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DragDrop = void 0;\r\nconst Rect_1 = require(\"./Rect\");\r\n/** @internal */\r\nconst canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\r\nclass DragDrop {\r\n    /** @internal */\r\n    constructor() {\r\n        /** @internal */\r\n        this._manualGlassManagement = false;\r\n        /** @internal */\r\n        this._startX = 0;\r\n        /** @internal */\r\n        this._startY = 0;\r\n        /** @internal */\r\n        this._dragDepth = 0;\r\n        /** @internal */\r\n        this._glassShowing = false;\r\n        /** @internal */\r\n        this._dragging = false;\r\n        /** @internal */\r\n        this._active = false; // drag and drop is in progress, can be used on ios to prevent body scrolling (see demo)\r\n        if (canUseDOM) {\r\n            // check for serverside rendering\r\n            this._glass = document.createElement(\"div\");\r\n            this._glass.style.zIndex = \"998\";\r\n            this._glass.style.backgroundColor = \"transparent\";\r\n            this._glass.style.outline = \"none\";\r\n        }\r\n        this._defaultGlassCursor = \"default\";\r\n        this._onMouseMove = this._onMouseMove.bind(this);\r\n        this._onMouseUp = this._onMouseUp.bind(this);\r\n        this._onKeyPress = this._onKeyPress.bind(this);\r\n        this._onDragCancel = this._onDragCancel.bind(this);\r\n        this._onDragEnter = this._onDragEnter.bind(this);\r\n        this._onDragLeave = this._onDragLeave.bind(this);\r\n        this.resizeGlass = this.resizeGlass.bind(this);\r\n        this._lastClick = 0;\r\n        this._clickX = 0;\r\n        this._clickY = 0;\r\n    }\r\n    // if you add the glass pane then you should remove it\r\n    addGlass(fCancel) {\r\n        var _a;\r\n        if (!this._glassShowing) {\r\n            if (!this._document) {\r\n                this._document = window.document;\r\n            }\r\n            if (!this._rootElement) {\r\n                this._rootElement = this._document.body;\r\n            }\r\n            this.resizeGlass();\r\n            (_a = this._document.defaultView) === null || _a === void 0 ? void 0 : _a.addEventListener('resize', this.resizeGlass);\r\n            this._document.body.appendChild(this._glass);\r\n            this._glass.tabIndex = -1;\r\n            this._glass.focus();\r\n            this._glass.addEventListener(\"keydown\", this._onKeyPress);\r\n            this._glass.addEventListener(\"dragenter\", this._onDragEnter, { passive: false });\r\n            this._glass.addEventListener(\"dragover\", this._onMouseMove, { passive: false });\r\n            this._glass.addEventListener(\"dragleave\", this._onDragLeave, { passive: false });\r\n            this._glassShowing = true;\r\n            this._fDragCancel = fCancel;\r\n            this._manualGlassManagement = false;\r\n        }\r\n        else {\r\n            // second call to addGlass (via dragstart)\r\n            this._manualGlassManagement = true;\r\n        }\r\n    }\r\n    resizeGlass() {\r\n        const glassRect = Rect_1.Rect.fromElement(this._rootElement);\r\n        glassRect.positionElement(this._glass, \"fixed\");\r\n    }\r\n    hideGlass() {\r\n        var _a;\r\n        if (this._glassShowing) {\r\n            this._document.body.removeChild(this._glass);\r\n            (_a = this._document.defaultView) === null || _a === void 0 ? void 0 : _a.removeEventListener('resize', this.resizeGlass);\r\n            this._glassShowing = false;\r\n            this._document = undefined;\r\n            this._rootElement = undefined;\r\n            this.setGlassCursorOverride(undefined);\r\n        }\r\n    }\r\n    /** @internal */\r\n    _updateGlassCursor() {\r\n        var _a;\r\n        this._glass.style.cursor = (_a = this._glassCursorOverride) !== null && _a !== void 0 ? _a : this._defaultGlassCursor;\r\n    }\r\n    /** @internal */\r\n    _setDefaultGlassCursor(cursor) {\r\n        this._defaultGlassCursor = cursor;\r\n        this._updateGlassCursor();\r\n    }\r\n    setGlassCursorOverride(cursor) {\r\n        this._glassCursorOverride = cursor;\r\n        this._updateGlassCursor();\r\n    }\r\n    startDrag(event, fDragStart, fDragMove, fDragEnd, fDragCancel, fClick, fDblClick, currentDocument, rootElement) {\r\n        // prevent 'duplicate' action (mouse event for same action as previous touch event (a fix for ios))\r\n        if (event && this._lastEvent && this._lastEvent.type.startsWith(\"touch\") && event.type.startsWith(\"mouse\") && event.timeStamp - this._lastEvent.timeStamp < 500) {\r\n            return;\r\n        }\r\n        if (this._dragging) {\r\n            return;\r\n        }\r\n        this._lastEvent = event;\r\n        if (currentDocument) {\r\n            this._document = currentDocument;\r\n        }\r\n        else {\r\n            this._document = window.document;\r\n        }\r\n        if (rootElement) {\r\n            this._rootElement = rootElement;\r\n        }\r\n        else {\r\n            this._rootElement = this._document.body;\r\n        }\r\n        const posEvent = this._getLocationEvent(event);\r\n        this.addGlass(fDragCancel);\r\n        if (event) {\r\n            this._startX = posEvent.clientX;\r\n            this._startY = posEvent.clientY;\r\n            if (!window.matchMedia || window.matchMedia(\"(pointer: fine)\").matches) {\r\n                this._setDefaultGlassCursor(getComputedStyle(event.target).cursor);\r\n            }\r\n            this._stopPropagation(event);\r\n            this._preventDefault(event);\r\n        }\r\n        else {\r\n            this._startX = 0;\r\n            this._startY = 0;\r\n            this._setDefaultGlassCursor(\"default\");\r\n        }\r\n        this._dragging = false;\r\n        this._fDragStart = fDragStart;\r\n        this._fDragMove = fDragMove;\r\n        this._fDragEnd = fDragEnd;\r\n        this._fDragCancel = fDragCancel;\r\n        this._fClick = fClick;\r\n        this._fDblClick = fDblClick;\r\n        this._active = true;\r\n        if ((event === null || event === void 0 ? void 0 : event.type) === 'dragenter') {\r\n            this._dragDepth = 1;\r\n            this._rootElement.addEventListener(\"dragenter\", this._onDragEnter, { passive: false });\r\n            this._rootElement.addEventListener(\"dragover\", this._onMouseMove, { passive: false });\r\n            this._rootElement.addEventListener(\"dragleave\", this._onDragLeave, { passive: false });\r\n            this._document.addEventListener(\"dragend\", this._onDragCancel, { passive: false });\r\n            this._document.addEventListener(\"drop\", this._onMouseUp, { passive: false });\r\n        }\r\n        else {\r\n            this._document.addEventListener(\"mouseup\", this._onMouseUp, { passive: false });\r\n            this._document.addEventListener(\"mousemove\", this._onMouseMove, { passive: false });\r\n            this._document.addEventListener(\"touchend\", this._onMouseUp, { passive: false });\r\n            this._document.addEventListener(\"touchmove\", this._onMouseMove, { passive: false });\r\n        }\r\n    }\r\n    isDragging() {\r\n        return this._dragging;\r\n    }\r\n    isActive() {\r\n        return this._active;\r\n    }\r\n    toString() {\r\n        const rtn = \"(DragDrop: \" + \"startX=\" + this._startX + \", startY=\" + this._startY + \", dragging=\" + this._dragging + \")\";\r\n        return rtn;\r\n    }\r\n    /** @internal */\r\n    _onKeyPress(event) {\r\n        if (event.code === 'Escape') {\r\n            // esc\r\n            this._onDragCancel();\r\n        }\r\n    }\r\n    /** @internal */\r\n    _onDragCancel() {\r\n        this._rootElement.removeEventListener(\"dragenter\", this._onDragEnter);\r\n        this._rootElement.removeEventListener(\"dragover\", this._onMouseMove);\r\n        this._rootElement.removeEventListener(\"dragleave\", this._onDragLeave);\r\n        this._document.removeEventListener(\"dragend\", this._onDragCancel);\r\n        this._document.removeEventListener(\"drop\", this._onMouseUp);\r\n        this._document.removeEventListener(\"mousemove\", this._onMouseMove);\r\n        this._document.removeEventListener(\"mouseup\", this._onMouseUp);\r\n        this._document.removeEventListener(\"touchend\", this._onMouseUp);\r\n        this._document.removeEventListener(\"touchmove\", this._onMouseMove);\r\n        this.hideGlass();\r\n        if (this._fDragCancel !== undefined) {\r\n            this._fDragCancel(this._dragging);\r\n        }\r\n        this._dragging = false;\r\n        this._active = false;\r\n    }\r\n    /** @internal */\r\n    _getLocationEvent(event) {\r\n        let posEvent = event;\r\n        if (event && event.touches) {\r\n            posEvent = event.touches[0];\r\n        }\r\n        return posEvent;\r\n    }\r\n    /** @internal */\r\n    _getLocationEventEnd(event) {\r\n        let posEvent = event;\r\n        if (event.changedTouches) {\r\n            posEvent = event.changedTouches[0];\r\n        }\r\n        return posEvent;\r\n    }\r\n    /** @internal */\r\n    _stopPropagation(event) {\r\n        if (event.stopPropagation) {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n    /** @internal */\r\n    _preventDefault(event) {\r\n        if (event.preventDefault && event.cancelable) {\r\n            event.preventDefault();\r\n        }\r\n        return event;\r\n    }\r\n    /** @internal */\r\n    _onMouseMove(event) {\r\n        this._lastEvent = event;\r\n        const posEvent = this._getLocationEvent(event);\r\n        this._stopPropagation(event);\r\n        this._preventDefault(event);\r\n        if (!this._dragging && (Math.abs(this._startX - posEvent.clientX) > 5 || Math.abs(this._startY - posEvent.clientY) > 5)) {\r\n            this._dragging = true;\r\n            if (this._fDragStart) {\r\n                this._setDefaultGlassCursor(\"move\");\r\n                this._dragging = this._fDragStart({ clientX: this._startX, clientY: this._startY });\r\n            }\r\n        }\r\n        if (this._dragging) {\r\n            if (this._fDragMove) {\r\n                this._fDragMove(posEvent);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /** @internal */\r\n    _onMouseUp(event) {\r\n        this._lastEvent = event;\r\n        const posEvent = this._getLocationEventEnd(event);\r\n        this._stopPropagation(event);\r\n        this._preventDefault(event);\r\n        this._active = false;\r\n        this._rootElement.removeEventListener(\"dragenter\", this._onDragEnter);\r\n        this._rootElement.removeEventListener(\"dragover\", this._onMouseMove);\r\n        this._rootElement.removeEventListener(\"dragleave\", this._onDragLeave);\r\n        this._document.removeEventListener(\"dragend\", this._onDragCancel);\r\n        this._document.removeEventListener(\"drop\", this._onMouseUp);\r\n        this._document.removeEventListener(\"mousemove\", this._onMouseMove);\r\n        this._document.removeEventListener(\"mouseup\", this._onMouseUp);\r\n        this._document.removeEventListener(\"touchend\", this._onMouseUp);\r\n        this._document.removeEventListener(\"touchmove\", this._onMouseMove);\r\n        if (!this._manualGlassManagement) {\r\n            this.hideGlass();\r\n        }\r\n        if (this._dragging) {\r\n            this._dragging = false;\r\n            if (this._fDragEnd) {\r\n                this._fDragEnd(event);\r\n            }\r\n            // dump(\"set dragging = false\\n\");\r\n        }\r\n        else {\r\n            if (this._fDragCancel) {\r\n                this._fDragCancel(this._dragging);\r\n            }\r\n            if (Math.abs(this._startX - posEvent.clientX) <= 5 && Math.abs(this._startY - posEvent.clientY) <= 5) {\r\n                let isDoubleClick = false;\r\n                const clickTime = new Date().getTime();\r\n                // check for double click\r\n                if (Math.abs(this._clickX - posEvent.clientX) <= 5 && Math.abs(this._clickY - posEvent.clientY) <= 5) {\r\n                    if (clickTime - this._lastClick < 500) {\r\n                        if (this._fDblClick) {\r\n                            this._fDblClick(event);\r\n                            isDoubleClick = true;\r\n                        }\r\n                    }\r\n                }\r\n                if (!isDoubleClick && this._fClick) {\r\n                    this._fClick(event);\r\n                }\r\n                this._lastClick = clickTime;\r\n                this._clickX = posEvent.clientX;\r\n                this._clickY = posEvent.clientY;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /** @internal */\r\n    _onDragEnter(event) {\r\n        this._preventDefault(event);\r\n        this._stopPropagation(event);\r\n        this._dragDepth++;\r\n        return false;\r\n    }\r\n    /** @internal */\r\n    _onDragLeave(event) {\r\n        this._preventDefault(event);\r\n        this._stopPropagation(event);\r\n        this._dragDepth--;\r\n        if (this._dragDepth <= 0) {\r\n            this._onDragCancel();\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexports.DragDrop = DragDrop;\r\nDragDrop.instance = new DragDrop();\r\n//# sourceMappingURL=DragDrop.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Action = void 0;\r\nclass Action {\r\n    constructor(type, data) {\r\n        this.type = type;\r\n        this.data = data;\r\n    }\r\n}\r\nexports.Action = Action;\r\n//# sourceMappingURL=Action.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Actions = void 0;\r\nconst Action_1 = require(\"./Action\");\r\n/**\r\n * The Action creator class for FlexLayout model actions\r\n */\r\nclass Actions {\r\n    /**\r\n     * Adds a tab node to the given tabset node\r\n     * @param json the json for the new tab node e.g {type:\"tab\", component:\"table\"}\r\n     * @param toNodeId the new tab node will be added to the tabset with this node id\r\n     * @param location the location where the new tab will be added, one of the DockLocation enum values.\r\n     * @param index for docking to the center this value is the index of the tab, use -1 to add to the end.\r\n     * @param select (optional) whether to select the new tab, overriding autoSelectTab\r\n     * @returns {Action} the action\r\n     */\r\n    static addNode(json, toNodeId, location, index, select) {\r\n        return new Action_1.Action(Actions.ADD_NODE, {\r\n            json,\r\n            toNode: toNodeId,\r\n            location: location.getName(),\r\n            index,\r\n            select,\r\n        });\r\n    }\r\n    /**\r\n     * Moves a node (tab or tabset) from one location to another\r\n     * @param fromNodeId the id of the node to move\r\n     * @param toNodeId the id of the node to receive the moved node\r\n     * @param location the location where the moved node will be added, one of the DockLocation enum values.\r\n     * @param index for docking to the center this value is the index of the tab, use -1 to add to the end.\r\n     * @param select (optional) whether to select the moved tab(s) in new tabset, overriding autoSelectTab\r\n     * @returns {Action} the action\r\n     */\r\n    static moveNode(fromNodeId, toNodeId, location, index, select) {\r\n        return new Action_1.Action(Actions.MOVE_NODE, {\r\n            fromNode: fromNodeId,\r\n            toNode: toNodeId,\r\n            location: location.getName(),\r\n            index,\r\n            select,\r\n        });\r\n    }\r\n    /**\r\n     * Deletes a tab node from the layout\r\n     * @param tabsetNodeId the id of the tab node to delete\r\n     * @returns {Action} the action\r\n     */\r\n    static deleteTab(tabNodeId) {\r\n        return new Action_1.Action(Actions.DELETE_TAB, { node: tabNodeId });\r\n    }\r\n    /**\r\n     * Deletes a tabset node and all it's child tab nodes from the layout\r\n     * @param tabsetNodeId the id of the tabset node to delete\r\n     * @returns {Action} the action\r\n     */\r\n    static deleteTabset(tabsetNodeId) {\r\n        return new Action_1.Action(Actions.DELETE_TABSET, { node: tabsetNodeId });\r\n    }\r\n    /**\r\n     * Change the given nodes tab text\r\n     * @param tabNodeId the id of the node to rename\r\n     * @param text the test of the tab\r\n     * @returns {Action} the action\r\n     */\r\n    static renameTab(tabNodeId, text) {\r\n        return new Action_1.Action(Actions.RENAME_TAB, { node: tabNodeId, text });\r\n    }\r\n    /**\r\n     * Selects the given tab in its parent tabset\r\n     * @param tabNodeId the id of the node to set selected\r\n     * @returns {Action} the action\r\n     */\r\n    static selectTab(tabNodeId) {\r\n        return new Action_1.Action(Actions.SELECT_TAB, { tabNode: tabNodeId });\r\n    }\r\n    /**\r\n     * Set the given tabset node as the active tabset\r\n     * @param tabsetNodeId the id of the tabset node to set as active\r\n     * @returns {Action} the action\r\n     */\r\n    static setActiveTabset(tabsetNodeId) {\r\n        return new Action_1.Action(Actions.SET_ACTIVE_TABSET, { tabsetNode: tabsetNodeId });\r\n    }\r\n    /**\r\n     * Adjust the splitter between two tabsets\r\n     * @example\r\n     *  Actions.adjustSplit({node1: \"1\", weight1:30, pixelWidth1:300, node2: \"2\", weight2:70, pixelWidth2:700});\r\n     *\r\n     * @param splitSpec an object the defines the new split between two tabsets, see example below.\r\n     * @returns {Action} the action\r\n     */\r\n    static adjustSplit(splitSpec) {\r\n        const node1 = splitSpec.node1Id;\r\n        const node2 = splitSpec.node2Id;\r\n        return new Action_1.Action(Actions.ADJUST_SPLIT, {\r\n            node1,\r\n            weight1: splitSpec.weight1,\r\n            pixelWidth1: splitSpec.pixelWidth1,\r\n            node2,\r\n            weight2: splitSpec.weight2,\r\n            pixelWidth2: splitSpec.pixelWidth2,\r\n        });\r\n    }\r\n    static adjustBorderSplit(nodeId, pos) {\r\n        return new Action_1.Action(Actions.ADJUST_BORDER_SPLIT, { node: nodeId, pos });\r\n    }\r\n    /**\r\n     * Maximizes the given tabset\r\n     * @param tabsetNodeId the id of the tabset to maximize\r\n     * @returns {Action} the action\r\n     */\r\n    static maximizeToggle(tabsetNodeId) {\r\n        return new Action_1.Action(Actions.MAXIMIZE_TOGGLE, { node: tabsetNodeId });\r\n    }\r\n    /**\r\n     * Updates the global model jsone attributes\r\n     * @param attributes the json for the model attributes to update (merge into the existing attributes)\r\n     * @returns {Action} the action\r\n     */\r\n    static updateModelAttributes(attributes) {\r\n        return new Action_1.Action(Actions.UPDATE_MODEL_ATTRIBUTES, { json: attributes });\r\n    }\r\n    /**\r\n     * Updates the given nodes json attributes\r\n     * @param nodeId the id of the node to update\r\n     * @param attributes the json attributes to update (merge with the existing attributes)\r\n     * @returns {Action} the action\r\n     */\r\n    static updateNodeAttributes(nodeId, attributes) {\r\n        return new Action_1.Action(Actions.UPDATE_NODE_ATTRIBUTES, { node: nodeId, json: attributes });\r\n    }\r\n    static floatTab(nodeId) {\r\n        return new Action_1.Action(Actions.FLOAT_TAB, { node: nodeId });\r\n    }\r\n    static unFloatTab(nodeId) {\r\n        return new Action_1.Action(Actions.UNFLOAT_TAB, { node: nodeId });\r\n    }\r\n}\r\nexports.Actions = Actions;\r\nActions.ADD_NODE = \"FlexLayout_AddNode\";\r\nActions.MOVE_NODE = \"FlexLayout_MoveNode\";\r\nActions.DELETE_TAB = \"FlexLayout_DeleteTab\";\r\nActions.DELETE_TABSET = \"FlexLayout_DeleteTabset\";\r\nActions.RENAME_TAB = \"FlexLayout_RenameTab\";\r\nActions.SELECT_TAB = \"FlexLayout_SelectTab\";\r\nActions.SET_ACTIVE_TABSET = \"FlexLayout_SetActiveTabset\";\r\nActions.ADJUST_SPLIT = \"FlexLayout_AdjustSplit\";\r\nActions.ADJUST_BORDER_SPLIT = \"FlexLayout_AdjustBorderSplit\";\r\nActions.MAXIMIZE_TOGGLE = \"FlexLayout_MaximizeToggle\";\r\nActions.UPDATE_MODEL_ATTRIBUTES = \"FlexLayout_UpdateModelAttributes\";\r\nActions.UPDATE_NODE_ATTRIBUTES = \"FlexLayout_UpdateNodeAttributes\";\r\nActions.FLOAT_TAB = \"FlexLayout_FloatTab\";\r\nActions.UNFLOAT_TAB = \"FlexLayout_UnFloatTab\";\r\n//# sourceMappingURL=Actions.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Attribute = void 0;\r\n/** @internal */\r\nclass Attribute {\r\n    constructor(name, modelName, defaultValue, alwaysWriteJson) {\r\n        this.name = name;\r\n        this.modelName = modelName;\r\n        this.defaultValue = defaultValue;\r\n        this.alwaysWriteJson = alwaysWriteJson;\r\n        this.required = false;\r\n        this.fixed = false;\r\n        this.type = \"any\";\r\n    }\r\n    setType(value) {\r\n        this.type = value;\r\n        return this;\r\n    }\r\n    setRequired() {\r\n        this.required = true;\r\n        return this;\r\n    }\r\n    setFixed() {\r\n        this.fixed = true;\r\n        return this;\r\n    }\r\n}\r\nexports.Attribute = Attribute;\r\nAttribute.NUMBER = \"number\";\r\nAttribute.STRING = \"string\";\r\nAttribute.BOOLEAN = \"boolean\";\r\n//# sourceMappingURL=Attribute.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AttributeDefinitions = void 0;\r\nconst Attribute_1 = require(\"./Attribute\");\r\n/** @internal */\r\nclass AttributeDefinitions {\r\n    constructor() {\r\n        this.attributes = [];\r\n        this.nameToAttribute = {};\r\n    }\r\n    addWithAll(name, modelName, defaultValue, alwaysWriteJson) {\r\n        const attr = new Attribute_1.Attribute(name, modelName, defaultValue, alwaysWriteJson);\r\n        this.attributes.push(attr);\r\n        this.nameToAttribute[name] = attr;\r\n        return attr;\r\n    }\r\n    addInherited(name, modelName) {\r\n        return this.addWithAll(name, modelName, undefined, false);\r\n    }\r\n    add(name, defaultValue, alwaysWriteJson) {\r\n        return this.addWithAll(name, undefined, defaultValue, alwaysWriteJson);\r\n    }\r\n    getAttributes() {\r\n        return this.attributes;\r\n    }\r\n    getModelName(name) {\r\n        const conversion = this.nameToAttribute[name];\r\n        if (conversion !== undefined) {\r\n            return conversion.modelName;\r\n        }\r\n        return undefined;\r\n    }\r\n    toJson(jsonObj, obj) {\r\n        for (const attr of this.attributes) {\r\n            const fromValue = obj[attr.name];\r\n            if (attr.alwaysWriteJson || fromValue !== attr.defaultValue) {\r\n                jsonObj[attr.name] = fromValue;\r\n            }\r\n        }\r\n    }\r\n    fromJson(jsonObj, obj) {\r\n        for (const attr of this.attributes) {\r\n            const fromValue = jsonObj[attr.name];\r\n            if (fromValue === undefined) {\r\n                obj[attr.name] = attr.defaultValue;\r\n            }\r\n            else {\r\n                obj[attr.name] = fromValue;\r\n            }\r\n        }\r\n    }\r\n    update(jsonObj, obj) {\r\n        for (const attr of this.attributes) {\r\n            if (jsonObj.hasOwnProperty(attr.name)) {\r\n                const fromValue = jsonObj[attr.name];\r\n                if (fromValue === undefined) {\r\n                    delete obj[attr.name];\r\n                }\r\n                else {\r\n                    obj[attr.name] = fromValue;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    setDefaults(obj) {\r\n        for (const attr of this.attributes) {\r\n            obj[attr.name] = attr.defaultValue;\r\n        }\r\n    }\r\n    toTypescriptInterface(name, parentAttributes) {\r\n        const lines = [];\r\n        const sorted = this.attributes.sort((a, b) => a.name.localeCompare(b.name));\r\n        // const sorted = this.attributes;\r\n        lines.push(\"export interface I\" + name + \"Attributes {\");\r\n        for (let i = 0; i < sorted.length; i++) {\r\n            const c = sorted[i];\r\n            let type = c.type;\r\n            let defaultValue = undefined;\r\n            let attr = c;\r\n            let inherited = undefined;\r\n            if (attr.defaultValue !== undefined) {\r\n                defaultValue = attr.defaultValue;\r\n            }\r\n            else if (attr.modelName !== undefined\r\n                && parentAttributes !== undefined\r\n                && parentAttributes.nameToAttribute[attr.modelName] !== undefined) {\r\n                inherited = attr.modelName;\r\n                attr = parentAttributes.nameToAttribute[attr.modelName];\r\n                defaultValue = attr.defaultValue;\r\n                type = attr.type;\r\n            }\r\n            let defValue = JSON.stringify(defaultValue);\r\n            const required = attr.required || attr.fixed ? \"\" : \"?\";\r\n            if (c.fixed) {\r\n                lines.push(\"\\t\" + c.name + \": \" + defValue + \";\");\r\n            }\r\n            else {\r\n                const comment = (defaultValue !== undefined ? \"default: \" + defValue : \"\") +\r\n                    (inherited !== undefined ? \" - inherited from global \" + inherited : \"\");\r\n                lines.push(\"\\t\" + c.name + required + \": \" + type + \";\" +\r\n                    (comment.length > 0 ? \" // \" + comment : \"\"));\r\n            }\r\n        }\r\n        lines.push(\"}\");\r\n        return lines.join(\"\\n\");\r\n    }\r\n}\r\nexports.AttributeDefinitions = AttributeDefinitions;\r\n//# sourceMappingURL=AttributeDefinitions.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DropInfo = void 0;\r\nclass DropInfo {\r\n    constructor(node, rect, location, index, className) {\r\n        this.node = node;\r\n        this.rect = rect;\r\n        this.location = location;\r\n        this.index = index;\r\n        this.className = className;\r\n    }\r\n}\r\nexports.DropInfo = DropInfo;\r\n//# sourceMappingURL=DropInfo.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CLASSES = void 0;\r\nvar CLASSES;\r\n(function (CLASSES) {\r\n    CLASSES[\"FLEXLAYOUT__BORDER\"] = \"flexlayout__border\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_\"] = \"flexlayout__border_\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_BUTTON\"] = \"flexlayout__border_button\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_BUTTON_\"] = \"flexlayout__border_button_\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_BUTTON_CONTENT\"] = \"flexlayout__border_button_content\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_BUTTON_LEADING\"] = \"flexlayout__border_button_leading\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_BUTTON_TRAILING\"] = \"flexlayout__border_button_trailing\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_BUTTON__SELECTED\"] = \"flexlayout__border_button--selected\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_BUTTON__UNSELECTED\"] = \"flexlayout__border_button--unselected\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW\"] = \"flexlayout__border_toolbar_button_overflow\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_\"] = \"flexlayout__border_toolbar_button_overflow_\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_INNER\"] = \"flexlayout__border_inner\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_INNER_\"] = \"flexlayout__border_inner_\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER\"] = \"flexlayout__border_inner_tab_container\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_\"] = \"flexlayout__border_inner_tab_container_\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_TAB_DIVIDER\"] = \"flexlayout__border_tab_divider\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_SIZER\"] = \"flexlayout__border_sizer\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_TOOLBAR\"] = \"flexlayout__border_toolbar\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_TOOLBAR_\"] = \"flexlayout__border_toolbar_\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_TOOLBAR_BUTTON\"] = \"flexlayout__border_toolbar_button\";\r\n    CLASSES[\"FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT\"] = \"flexlayout__border_toolbar_button-float\";\r\n    CLASSES[\"FLEXLAYOUT__DRAG_RECT\"] = \"flexlayout__drag_rect\";\r\n    CLASSES[\"FLEXLAYOUT__EDGE_RECT\"] = \"flexlayout__edge_rect\";\r\n    CLASSES[\"FLEXLAYOUT__EDGE_RECT_TOP\"] = \"flexlayout__edge_rect_top\";\r\n    CLASSES[\"FLEXLAYOUT__EDGE_RECT_LEFT\"] = \"flexlayout__edge_rect_left\";\r\n    CLASSES[\"FLEXLAYOUT__EDGE_RECT_BOTTOM\"] = \"flexlayout__edge_rect_bottom\";\r\n    CLASSES[\"FLEXLAYOUT__EDGE_RECT_RIGHT\"] = \"flexlayout__edge_rect_right\";\r\n    CLASSES[\"FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER\"] = \"flexlayout__error_boundary_container\";\r\n    CLASSES[\"FLEXLAYOUT__ERROR_BOUNDARY_CONTENT\"] = \"flexlayout__error_boundary_content\";\r\n    CLASSES[\"FLEXLAYOUT__FLOATING_WINDOW_CONTENT\"] = \"flexlayout__floating_window_content\";\r\n    CLASSES[\"FLEXLAYOUT__FLOATING_WINDOW_TAB\"] = \"flexlayout__floating_window_tab\";\r\n    CLASSES[\"FLEXLAYOUT__LAYOUT\"] = \"flexlayout__layout\";\r\n    CLASSES[\"FLEXLAYOUT__OUTLINE_RECT\"] = \"flexlayout__outline_rect\";\r\n    CLASSES[\"FLEXLAYOUT__OUTLINE_RECT_EDGE\"] = \"flexlayout__outline_rect_edge\";\r\n    CLASSES[\"FLEXLAYOUT__SPLITTER\"] = \"flexlayout__splitter\";\r\n    CLASSES[\"FLEXLAYOUT__SPLITTER_EXTRA\"] = \"flexlayout__splitter_extra\";\r\n    CLASSES[\"FLEXLAYOUT__SPLITTER_\"] = \"flexlayout__splitter_\";\r\n    CLASSES[\"FLEXLAYOUT__SPLITTER_BORDER\"] = \"flexlayout__splitter_border\";\r\n    CLASSES[\"FLEXLAYOUT__SPLITTER_DRAG\"] = \"flexlayout__splitter_drag\";\r\n    CLASSES[\"FLEXLAYOUT__TAB\"] = \"flexlayout__tab\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET\"] = \"flexlayout__tabset\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_HEADER\"] = \"flexlayout__tabset_header\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_HEADER_SIZER\"] = \"flexlayout__tabset_header_sizer\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_HEADER_CONTENT\"] = \"flexlayout__tabset_header_content\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_MAXIMIZED\"] = \"flexlayout__tabset-maximized\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_SELECTED\"] = \"flexlayout__tabset-selected\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_SIZER\"] = \"flexlayout__tabset_sizer\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_TAB_DIVIDER\"] = \"flexlayout__tabset_tab_divider\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_CONTENT\"] = \"flexlayout__tabset_content\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_TABBAR_INNER\"] = \"flexlayout__tabset_tabbar_inner\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_TABBAR_INNER_\"] = \"flexlayout__tabset_tabbar_inner_\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER\"] = \"flexlayout__tabset_tabbar_inner_tab_container\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_\"] = \"flexlayout__tabset_tabbar_inner_tab_container_\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_TABBAR_OUTER\"] = \"flexlayout__tabset_tabbar_outer\";\r\n    CLASSES[\"FLEXLAYOUT__TABSET_TABBAR_OUTER_\"] = \"flexlayout__tabset_tabbar_outer_\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BORDER\"] = \"flexlayout__tab_border\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BORDER_\"] = \"flexlayout__tab_border_\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON\"] = \"flexlayout__tab_button\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON_STRETCH\"] = \"flexlayout__tab_button_stretch\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON_CONTENT\"] = \"flexlayout__tab_button_content\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON_LEADING\"] = \"flexlayout__tab_button_leading\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON_OVERFLOW\"] = \"flexlayout__tab_button_overflow\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT\"] = \"flexlayout__tab_button_overflow_count\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON_TEXTBOX\"] = \"flexlayout__tab_button_textbox\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON_TRAILING\"] = \"flexlayout__tab_button_trailing\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_BUTTON_STAMP\"] = \"flexlayout__tab_button_stamp\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_FLOATING\"] = \"flexlayout__tab_floating\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_FLOATING_INNER\"] = \"flexlayout__tab_floating_inner\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_TOOLBAR\"] = \"flexlayout__tab_toolbar\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_TOOLBAR_BUTTON\"] = \"flexlayout__tab_toolbar_button\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_TOOLBAR_BUTTON_\"] = \"flexlayout__tab_toolbar_button-\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT\"] = \"flexlayout__tab_toolbar_button-float\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER\"] = \"flexlayout__tab_toolbar_sticky_buttons_container\";\r\n    CLASSES[\"FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE\"] = \"flexlayout__tab_toolbar_button-close\";\r\n    CLASSES[\"FLEXLAYOUT__POPUP_MENU_CONTAINER\"] = \"flexlayout__popup_menu_container\";\r\n    CLASSES[\"FLEXLAYOUT__POPUP_MENU_ITEM\"] = \"flexlayout__popup_menu_item\";\r\n    CLASSES[\"FLEXLAYOUT__POPUP_MENU\"] = \"flexlayout__popup_menu\";\r\n})(CLASSES = exports.CLASSES || (exports.CLASSES = {}));\r\n//# sourceMappingURL=Types.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Node = void 0;\r\nconst DockLocation_1 = require(\"../DockLocation\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Rect_1 = require(\"../Rect\");\r\nclass Node {\r\n    /** @internal */\r\n    constructor(model) {\r\n        /** @internal */\r\n        this._dirty = false;\r\n        /** @internal */\r\n        this._tempSize = 0;\r\n        this._model = model;\r\n        this._attributes = {};\r\n        this._children = [];\r\n        this._fixed = false;\r\n        this._rect = Rect_1.Rect.empty();\r\n        this._visible = false;\r\n        this._listeners = {};\r\n    }\r\n    getId() {\r\n        let id = this._attributes.id;\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n        id = this._model._nextUniqueId();\r\n        this._setId(id);\r\n        return id;\r\n    }\r\n    getModel() {\r\n        return this._model;\r\n    }\r\n    getType() {\r\n        return this._attributes.type;\r\n    }\r\n    getParent() {\r\n        return this._parent;\r\n    }\r\n    getChildren() {\r\n        return this._children;\r\n    }\r\n    getRect() {\r\n        return this._rect;\r\n    }\r\n    isVisible() {\r\n        return this._visible;\r\n    }\r\n    getOrientation() {\r\n        if (this._parent === undefined) {\r\n            return this._model.isRootOrientationVertical() ? Orientation_1.Orientation.VERT : Orientation_1.Orientation.HORZ;\r\n        }\r\n        else {\r\n            return Orientation_1.Orientation.flip(this._parent.getOrientation());\r\n        }\r\n    }\r\n    // event can be: resize, visibility, maximize (on tabset), close\r\n    setEventListener(event, callback) {\r\n        this._listeners[event] = callback;\r\n    }\r\n    removeEventListener(event) {\r\n        delete this._listeners[event];\r\n    }\r\n    /** @internal */\r\n    _setId(id) {\r\n        this._attributes.id = id;\r\n    }\r\n    /** @internal */\r\n    _fireEvent(event, params) {\r\n        // console.log(this._type, \" fireEvent \" + event + \" \" + JSON.stringify(params));\r\n        if (this._listeners[event] !== undefined) {\r\n            this._listeners[event](params);\r\n        }\r\n    }\r\n    /** @internal */\r\n    _getAttr(name) {\r\n        let val = this._attributes[name];\r\n        if (val === undefined) {\r\n            const modelName = this._getAttributeDefinitions().getModelName(name);\r\n            if (modelName !== undefined) {\r\n                val = this._model._getAttribute(modelName);\r\n            }\r\n        }\r\n        // console.log(name + \"=\" + val);\r\n        return val;\r\n    }\r\n    /** @internal */\r\n    _forEachNode(fn, level) {\r\n        fn(this, level);\r\n        level++;\r\n        for (const node of this._children) {\r\n            node._forEachNode(fn, level);\r\n        }\r\n    }\r\n    /** @internal */\r\n    _setVisible(visible) {\r\n        if (visible !== this._visible) {\r\n            this._fireEvent(\"visibility\", { visible });\r\n            this._visible = visible;\r\n        }\r\n    }\r\n    /** @internal */\r\n    _getDrawChildren() {\r\n        return this._children;\r\n    }\r\n    /** @internal */\r\n    _setParent(parent) {\r\n        this._parent = parent;\r\n    }\r\n    /** @internal */\r\n    _setRect(rect) {\r\n        this._rect = rect;\r\n    }\r\n    /** @internal */\r\n    _setWeight(weight) {\r\n        this._attributes.weight = weight;\r\n    }\r\n    /** @internal */\r\n    _setSelected(index) {\r\n        this._attributes.selected = index;\r\n    }\r\n    /** @internal */\r\n    _isFixed() {\r\n        return this._fixed;\r\n    }\r\n    /** @internal */\r\n    _layout(rect, metrics) {\r\n        this._rect = rect;\r\n    }\r\n    /** @internal */\r\n    _findDropTargetNode(dragNode, x, y) {\r\n        let rtn;\r\n        if (this._rect.contains(x, y)) {\r\n            if (this._model.getMaximizedTabset() !== undefined) {\r\n                rtn = this._model.getMaximizedTabset().canDrop(dragNode, x, y);\r\n            }\r\n            else {\r\n                rtn = this.canDrop(dragNode, x, y);\r\n                if (rtn === undefined) {\r\n                    if (this._children.length !== 0) {\r\n                        for (const child of this._children) {\r\n                            rtn = child._findDropTargetNode(dragNode, x, y);\r\n                            if (rtn !== undefined) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return rtn;\r\n    }\r\n    /** @internal */\r\n    canDrop(dragNode, x, y) {\r\n        return undefined;\r\n    }\r\n    /** @internal */\r\n    _canDockInto(dragNode, dropInfo) {\r\n        if (dropInfo != null) {\r\n            if (dropInfo.location === DockLocation_1.DockLocation.CENTER && dropInfo.node.isEnableDrop() === false) {\r\n                return false;\r\n            }\r\n            // prevent named tabset docking into another tabset, since this would lose the header\r\n            if (dropInfo.location === DockLocation_1.DockLocation.CENTER && dragNode.getType() === \"tabset\" && dragNode.getName() !== undefined) {\r\n                return false;\r\n            }\r\n            if (dropInfo.location !== DockLocation_1.DockLocation.CENTER && dropInfo.node.isEnableDivide() === false) {\r\n                return false;\r\n            }\r\n            // finally check model callback to check if drop allowed\r\n            if (this._model._getOnAllowDrop()) {\r\n                return this._model._getOnAllowDrop()(dragNode, dropInfo);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    /** @internal */\r\n    _removeChild(childNode) {\r\n        const pos = this._children.indexOf(childNode);\r\n        if (pos !== -1) {\r\n            this._children.splice(pos, 1);\r\n        }\r\n        this._dirty = true;\r\n        return pos;\r\n    }\r\n    /** @internal */\r\n    _addChild(childNode, pos) {\r\n        if (pos != null) {\r\n            this._children.splice(pos, 0, childNode);\r\n        }\r\n        else {\r\n            this._children.push(childNode);\r\n            pos = this._children.length - 1;\r\n        }\r\n        childNode._parent = this;\r\n        this._dirty = true;\r\n        return pos;\r\n    }\r\n    /** @internal */\r\n    _removeAll() {\r\n        this._children = [];\r\n        this._dirty = true;\r\n    }\r\n    /** @internal */\r\n    _styleWithPosition(style) {\r\n        if (style == null) {\r\n            style = {};\r\n        }\r\n        return this._rect.styleWithPosition(style);\r\n    }\r\n    /** @internal */\r\n    _getTempSize() {\r\n        return this._tempSize;\r\n    }\r\n    /** @internal */\r\n    _setTempSize(value) {\r\n        this._tempSize = value;\r\n    }\r\n    /** @internal */\r\n    isEnableDivide() {\r\n        return true;\r\n    }\r\n    /** @internal */\r\n    _toAttributeString() {\r\n        return JSON.stringify(this._attributes, undefined, \"\\t\");\r\n    }\r\n}\r\nexports.Node = Node;\r\n//# sourceMappingURL=Node.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SplitterNode = void 0;\r\nconst AttributeDefinitions_1 = require(\"../AttributeDefinitions\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Node_1 = require(\"./Node\");\r\nclass SplitterNode extends Node_1.Node {\r\n    /** @internal */\r\n    constructor(model) {\r\n        super(model);\r\n        this._fixed = true;\r\n        this._attributes.type = SplitterNode.TYPE;\r\n        model._addNode(this);\r\n    }\r\n    /** @internal */\r\n    getWidth() {\r\n        return this._model.getSplitterSize();\r\n    }\r\n    /** @internal */\r\n    getMinWidth() {\r\n        if (this.getOrientation() === Orientation_1.Orientation.VERT) {\r\n            return this._model.getSplitterSize();\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n    /** @internal */\r\n    getHeight() {\r\n        return this._model.getSplitterSize();\r\n    }\r\n    /** @internal */\r\n    getMinHeight() {\r\n        if (this.getOrientation() === Orientation_1.Orientation.HORZ) {\r\n            return this._model.getSplitterSize();\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n    /** @internal */\r\n    getMinSize(orientation) {\r\n        if (orientation === Orientation_1.Orientation.HORZ) {\r\n            return this.getMinWidth();\r\n        }\r\n        else {\r\n            return this.getMinHeight();\r\n        }\r\n    }\r\n    /** @internal */\r\n    getWeight() {\r\n        return 0;\r\n    }\r\n    /** @internal */\r\n    _setWeight(value) { }\r\n    /** @internal */\r\n    _getPrefSize(orientation) {\r\n        return this._model.getSplitterSize();\r\n    }\r\n    /** @internal */\r\n    _updateAttrs(json) { }\r\n    /** @internal */\r\n    _getAttributeDefinitions() {\r\n        return new AttributeDefinitions_1.AttributeDefinitions();\r\n    }\r\n    toJson() {\r\n        return undefined;\r\n    }\r\n}\r\nexports.SplitterNode = SplitterNode;\r\nSplitterNode.TYPE = \"splitter\";\r\n//# sourceMappingURL=SplitterNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TabNode = void 0;\r\nconst Attribute_1 = require(\"../Attribute\");\r\nconst AttributeDefinitions_1 = require(\"../AttributeDefinitions\");\r\nconst Node_1 = require(\"./Node\");\r\nclass TabNode extends Node_1.Node {\r\n    /** @internal */\r\n    static _fromJson(json, model, addToModel = true) {\r\n        const newLayoutNode = new TabNode(model, json, addToModel);\r\n        return newLayoutNode;\r\n    }\r\n    /** @internal */\r\n    static _createAttributeDefinitions() {\r\n        const attributeDefinitions = new AttributeDefinitions_1.AttributeDefinitions();\r\n        attributeDefinitions.add(\"type\", TabNode.TYPE, true).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"id\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"name\", \"[Unnamed Tab]\").setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"altName\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"helpText\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"component\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"config\", undefined).setType(\"any\");\r\n        attributeDefinitions.add(\"floating\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabsetClassName\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.addInherited(\"enableClose\", \"tabEnableClose\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.addInherited(\"closeType\", \"tabCloseType\").setType(\"ICloseType\");\r\n        attributeDefinitions.addInherited(\"enableDrag\", \"tabEnableDrag\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.addInherited(\"enableRename\", \"tabEnableRename\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.addInherited(\"className\", \"tabClassName\").setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.addInherited(\"contentClassName\", \"tabContentClassName\").setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.addInherited(\"icon\", \"tabIcon\").setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.addInherited(\"enableRenderOnDemand\", \"tabEnableRenderOnDemand\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.addInherited(\"enableFloat\", \"tabEnableFloat\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.addInherited(\"borderWidth\", \"tabBorderWidth\").setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.addInherited(\"borderHeight\", \"tabBorderHeight\").setType(Attribute_1.Attribute.NUMBER);\r\n        return attributeDefinitions;\r\n    }\r\n    /** @internal */\r\n    constructor(model, json, addToModel = true) {\r\n        super(model);\r\n        this._extra = {}; // extra data added to node not saved in json\r\n        TabNode._attributeDefinitions.fromJson(json, this._attributes);\r\n        if (addToModel === true) {\r\n            model._addNode(this);\r\n        }\r\n    }\r\n    getWindow() {\r\n        return this._window;\r\n    }\r\n    getTabRect() {\r\n        return this._tabRect;\r\n    }\r\n    /** @internal */\r\n    _setTabRect(rect) {\r\n        this._tabRect = rect;\r\n    }\r\n    /** @internal */\r\n    _setRenderedName(name) {\r\n        this._renderedName = name;\r\n    }\r\n    /** @internal */\r\n    _getNameForOverflowMenu() {\r\n        const altName = this._getAttr(\"altName\");\r\n        if (altName !== undefined) {\r\n            return altName;\r\n        }\r\n        return this._renderedName;\r\n    }\r\n    getName() {\r\n        return this._getAttr(\"name\");\r\n    }\r\n    getHelpText() {\r\n        return this._getAttr(\"helpText\");\r\n    }\r\n    getComponent() {\r\n        return this._getAttr(\"component\");\r\n    }\r\n    /**\r\n     * Returns the config attribute that can be used to store node specific data that\r\n     * WILL be saved to the json. The config attribute should be changed via the action Actions.updateNodeAttributes rather\r\n     * than directly, for example:\r\n     * this.state.model.doAction(\r\n     *   FlexLayout.Actions.updateNodeAttributes(node.getId(), {config:myConfigObject}));\r\n     */\r\n    getConfig() {\r\n        return this._attributes.config;\r\n    }\r\n    /**\r\n     * Returns an object that can be used to store transient node specific data that will\r\n     * NOT be saved in the json.\r\n     */\r\n    getExtraData() {\r\n        return this._extra;\r\n    }\r\n    isFloating() {\r\n        return this._getAttr(\"floating\");\r\n    }\r\n    getIcon() {\r\n        return this._getAttr(\"icon\");\r\n    }\r\n    isEnableClose() {\r\n        return this._getAttr(\"enableClose\");\r\n    }\r\n    getCloseType() {\r\n        return this._getAttr(\"closeType\");\r\n    }\r\n    isEnableFloat() {\r\n        return this._getAttr(\"enableFloat\");\r\n    }\r\n    isEnableDrag() {\r\n        return this._getAttr(\"enableDrag\");\r\n    }\r\n    isEnableRename() {\r\n        return this._getAttr(\"enableRename\");\r\n    }\r\n    getClassName() {\r\n        return this._getAttr(\"className\");\r\n    }\r\n    getContentClassName() {\r\n        return this._getAttr(\"contentClassName\");\r\n    }\r\n    getTabSetClassName() {\r\n        return this._getAttr(\"tabsetClassName\");\r\n    }\r\n    isEnableRenderOnDemand() {\r\n        return this._getAttr(\"enableRenderOnDemand\");\r\n    }\r\n    /** @internal */\r\n    _setName(name) {\r\n        this._attributes.name = name;\r\n        if (this._window && this._window.document) {\r\n            this._window.document.title = name;\r\n        }\r\n    }\r\n    /** @internal */\r\n    _setFloating(float) {\r\n        this._attributes.floating = float;\r\n    }\r\n    /** @internal */\r\n    _layout(rect, metrics) {\r\n        if (!rect.equals(this._rect)) {\r\n            this._fireEvent(\"resize\", { rect });\r\n        }\r\n        this._rect = rect;\r\n    }\r\n    /** @internal */\r\n    _delete() {\r\n        this._parent._remove(this);\r\n        this._fireEvent(\"close\", {});\r\n    }\r\n    toJson() {\r\n        const json = {};\r\n        TabNode._attributeDefinitions.toJson(json, this._attributes);\r\n        return json;\r\n    }\r\n    /** @internal */\r\n    _updateAttrs(json) {\r\n        TabNode._attributeDefinitions.update(json, this._attributes);\r\n    }\r\n    /** @internal */\r\n    _getAttributeDefinitions() {\r\n        return TabNode._attributeDefinitions;\r\n    }\r\n    /** @internal */\r\n    _setWindow(window) {\r\n        this._window = window;\r\n    }\r\n    /** @internal */\r\n    _setBorderWidth(width) {\r\n        this._attributes.borderWidth = width;\r\n    }\r\n    /** @internal */\r\n    _setBorderHeight(height) {\r\n        this._attributes.borderHeight = height;\r\n    }\r\n    /** @internal */\r\n    static getAttributeDefinitions() {\r\n        return TabNode._attributeDefinitions;\r\n    }\r\n}\r\nexports.TabNode = TabNode;\r\nTabNode.TYPE = \"tab\";\r\n/** @internal */\r\nTabNode._attributeDefinitions = TabNode._createAttributeDefinitions();\r\n//# sourceMappingURL=TabNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RowNode = void 0;\r\nconst Attribute_1 = require(\"../Attribute\");\r\nconst AttributeDefinitions_1 = require(\"../AttributeDefinitions\");\r\nconst DockLocation_1 = require(\"../DockLocation\");\r\nconst DropInfo_1 = require(\"../DropInfo\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst Types_1 = require(\"../Types\");\r\nconst BorderNode_1 = require(\"./BorderNode\");\r\nconst Node_1 = require(\"./Node\");\r\nconst SplitterNode_1 = require(\"./SplitterNode\");\r\nconst TabSetNode_1 = require(\"./TabSetNode\");\r\nclass RowNode extends Node_1.Node {\r\n    /** @internal */\r\n    static _fromJson(json, model) {\r\n        const newLayoutNode = new RowNode(model, json);\r\n        if (json.children != null) {\r\n            for (const jsonChild of json.children) {\r\n                if (jsonChild.type === TabSetNode_1.TabSetNode.TYPE) {\r\n                    const child = TabSetNode_1.TabSetNode._fromJson(jsonChild, model);\r\n                    newLayoutNode._addChild(child);\r\n                }\r\n                else {\r\n                    const child = RowNode._fromJson(jsonChild, model);\r\n                    newLayoutNode._addChild(child);\r\n                }\r\n            }\r\n        }\r\n        return newLayoutNode;\r\n    }\r\n    /** @internal */\r\n    static _createAttributeDefinitions() {\r\n        const attributeDefinitions = new AttributeDefinitions_1.AttributeDefinitions();\r\n        attributeDefinitions.add(\"type\", RowNode.TYPE, true).setType(Attribute_1.Attribute.STRING).setFixed();\r\n        attributeDefinitions.add(\"id\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"weight\", 100).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"width\", undefined).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"height\", undefined).setType(Attribute_1.Attribute.NUMBER);\r\n        return attributeDefinitions;\r\n    }\r\n    /** @internal */\r\n    constructor(model, json) {\r\n        super(model);\r\n        this._dirty = true;\r\n        this._drawChildren = [];\r\n        this._minHeight = 0;\r\n        this._minWidth = 0;\r\n        RowNode._attributeDefinitions.fromJson(json, this._attributes);\r\n        model._addNode(this);\r\n    }\r\n    getWeight() {\r\n        return this._attributes.weight;\r\n    }\r\n    getWidth() {\r\n        return this._getAttr(\"width\");\r\n    }\r\n    getHeight() {\r\n        return this._getAttr(\"height\");\r\n    }\r\n    /** @internal */\r\n    _setWeight(weight) {\r\n        this._attributes.weight = weight;\r\n    }\r\n    /** @internal */\r\n    _layout(rect, metrics) {\r\n        super._layout(rect, metrics);\r\n        const pixelSize = this._rect._getSize(this.getOrientation());\r\n        let totalWeight = 0;\r\n        let fixedPixels = 0;\r\n        let prefPixels = 0;\r\n        let totalPrefWeight = 0;\r\n        const drawChildren = this._getDrawChildren();\r\n        for (const child of drawChildren) {\r\n            const prefSize = child._getPrefSize(this.getOrientation());\r\n            if (child._isFixed()) {\r\n                if (prefSize !== undefined) {\r\n                    fixedPixels += prefSize;\r\n                }\r\n            }\r\n            else {\r\n                if (prefSize === undefined) {\r\n                    totalWeight += child.getWeight();\r\n                }\r\n                else {\r\n                    prefPixels += prefSize;\r\n                    totalPrefWeight += child.getWeight();\r\n                }\r\n            }\r\n        }\r\n        let resizePreferred = false;\r\n        let availablePixels = pixelSize - fixedPixels - prefPixels;\r\n        if (availablePixels < 0) {\r\n            availablePixels = pixelSize - fixedPixels;\r\n            resizePreferred = true;\r\n            totalWeight += totalPrefWeight;\r\n        }\r\n        // assign actual pixel sizes\r\n        let totalSizeGiven = 0;\r\n        let variableSize = 0;\r\n        for (const child of drawChildren) {\r\n            const prefSize = child._getPrefSize(this.getOrientation());\r\n            if (child._isFixed()) {\r\n                if (prefSize !== undefined) {\r\n                    child._setTempSize(prefSize);\r\n                }\r\n            }\r\n            else {\r\n                if (prefSize == null || resizePreferred) {\r\n                    if (totalWeight === 0) {\r\n                        child._setTempSize(0);\r\n                    }\r\n                    else {\r\n                        const minSize = child.getMinSize(this.getOrientation());\r\n                        const size = Math.floor(availablePixels * (child.getWeight() / totalWeight));\r\n                        child._setTempSize(Math.max(minSize, size));\r\n                    }\r\n                    variableSize += child._getTempSize();\r\n                }\r\n                else {\r\n                    child._setTempSize(prefSize);\r\n                }\r\n            }\r\n            totalSizeGiven += child._getTempSize();\r\n        }\r\n        // adjust sizes to exactly fit\r\n        if (variableSize > 0) {\r\n            while (totalSizeGiven < pixelSize) {\r\n                for (const child of drawChildren) {\r\n                    if (!(child instanceof SplitterNode_1.SplitterNode)) {\r\n                        const prefSize = child._getPrefSize(this.getOrientation());\r\n                        if (!child._isFixed() && (prefSize === undefined || resizePreferred) && totalSizeGiven < pixelSize) {\r\n                            child._setTempSize(child._getTempSize() + 1);\r\n                            totalSizeGiven++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // decrease size using nodes not at there minimum\r\n            while (totalSizeGiven > pixelSize) {\r\n                let changed = false;\r\n                for (const child of drawChildren) {\r\n                    if (!(child instanceof SplitterNode_1.SplitterNode)) {\r\n                        const minSize = child.getMinSize(this.getOrientation());\r\n                        const size = child._getTempSize();\r\n                        if (size > minSize && totalSizeGiven > pixelSize) {\r\n                            child._setTempSize(child._getTempSize() - 1);\r\n                            totalSizeGiven--;\r\n                            changed = true;\r\n                        }\r\n                    }\r\n                }\r\n                if (!changed) {\r\n                    // all children are at min values\r\n                    break;\r\n                }\r\n            }\r\n            // if still too big then simply reduce all nodes until fits\r\n            while (totalSizeGiven > pixelSize) {\r\n                let changed = false;\r\n                for (const child of drawChildren) {\r\n                    if (!(child instanceof SplitterNode_1.SplitterNode)) {\r\n                        const size = child._getTempSize();\r\n                        if (size > 0 && totalSizeGiven > pixelSize) {\r\n                            child._setTempSize(child._getTempSize() - 1);\r\n                            totalSizeGiven--;\r\n                            changed = true;\r\n                        }\r\n                    }\r\n                }\r\n                if (!changed) {\r\n                    // all children are at 0 values\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // layout children\r\n        let p = 0;\r\n        for (const child of drawChildren) {\r\n            if (this.getOrientation() === Orientation_1.Orientation.HORZ) {\r\n                child._layout(new Rect_1.Rect(this._rect.x + p, this._rect.y, child._getTempSize(), this._rect.height), metrics);\r\n            }\r\n            else {\r\n                child._layout(new Rect_1.Rect(this._rect.x, this._rect.y + p, this._rect.width, child._getTempSize()), metrics);\r\n            }\r\n            p += child._getTempSize();\r\n        }\r\n        return true;\r\n    }\r\n    /** @internal */\r\n    _getSplitterBounds(splitterNode, useMinSize = false) {\r\n        const pBounds = [0, 0];\r\n        const drawChildren = this._getDrawChildren();\r\n        const p = drawChildren.indexOf(splitterNode);\r\n        const node1 = drawChildren[p - 1];\r\n        const node2 = drawChildren[p + 1];\r\n        if (this.getOrientation() === Orientation_1.Orientation.HORZ) {\r\n            const minSize1 = useMinSize ? node1.getMinWidth() : 0;\r\n            const minSize2 = useMinSize ? node2.getMinWidth() : 0;\r\n            pBounds[0] = node1.getRect().x + minSize1;\r\n            pBounds[1] = node2.getRect().getRight() - splitterNode.getWidth() - minSize2;\r\n        }\r\n        else {\r\n            const minSize1 = useMinSize ? node1.getMinHeight() : 0;\r\n            const minSize2 = useMinSize ? node2.getMinHeight() : 0;\r\n            pBounds[0] = node1.getRect().y + minSize1;\r\n            pBounds[1] = node2.getRect().getBottom() - splitterNode.getHeight() - minSize2;\r\n        }\r\n        return pBounds;\r\n    }\r\n    /** @internal */\r\n    _calculateSplit(splitter, splitterPos) {\r\n        let rtn;\r\n        const drawChildren = this._getDrawChildren();\r\n        const p = drawChildren.indexOf(splitter);\r\n        const pBounds = this._getSplitterBounds(splitter);\r\n        const weightedLength = drawChildren[p - 1].getWeight() + drawChildren[p + 1].getWeight();\r\n        const pixelWidth1 = Math.max(0, splitterPos - pBounds[0]);\r\n        const pixelWidth2 = Math.max(0, pBounds[1] - splitterPos);\r\n        if (pixelWidth1 + pixelWidth2 > 0) {\r\n            const weight1 = (pixelWidth1 * weightedLength) / (pixelWidth1 + pixelWidth2);\r\n            const weight2 = (pixelWidth2 * weightedLength) / (pixelWidth1 + pixelWidth2);\r\n            rtn = {\r\n                node1Id: drawChildren[p - 1].getId(),\r\n                weight1,\r\n                pixelWidth1,\r\n                node2Id: drawChildren[p + 1].getId(),\r\n                weight2,\r\n                pixelWidth2,\r\n            };\r\n        }\r\n        return rtn;\r\n    }\r\n    /** @internal */\r\n    _getDrawChildren() {\r\n        if (this._dirty) {\r\n            this._drawChildren = [];\r\n            for (let i = 0; i < this._children.length; i++) {\r\n                const child = this._children[i];\r\n                if (i !== 0) {\r\n                    const newSplitter = new SplitterNode_1.SplitterNode(this._model);\r\n                    newSplitter._setParent(this);\r\n                    this._drawChildren.push(newSplitter);\r\n                }\r\n                this._drawChildren.push(child);\r\n            }\r\n            this._dirty = false;\r\n        }\r\n        return this._drawChildren;\r\n    }\r\n    /** @internal */\r\n    getMinSize(orientation) {\r\n        if (orientation === Orientation_1.Orientation.HORZ) {\r\n            return this.getMinWidth();\r\n        }\r\n        else {\r\n            return this.getMinHeight();\r\n        }\r\n    }\r\n    /** @internal */\r\n    getMinWidth() {\r\n        return this._minWidth;\r\n    }\r\n    /** @internal */\r\n    getMinHeight() {\r\n        return this._minHeight;\r\n    }\r\n    /** @internal */\r\n    calcMinSize() {\r\n        this._minHeight = 0;\r\n        this._minWidth = 0;\r\n        let first = true;\r\n        for (const child of this._children) {\r\n            const c = child;\r\n            if (c instanceof RowNode) {\r\n                c.calcMinSize();\r\n            }\r\n            if (this.getOrientation() === Orientation_1.Orientation.VERT) {\r\n                this._minHeight += c.getMinHeight();\r\n                if (!first) {\r\n                    this._minHeight += this._model.getSplitterSize();\r\n                }\r\n                this._minWidth = Math.max(this._minWidth, c.getMinWidth());\r\n            }\r\n            else {\r\n                this._minWidth += c.getMinWidth();\r\n                if (!first) {\r\n                    this._minWidth += this._model.getSplitterSize();\r\n                }\r\n                this._minHeight = Math.max(this._minHeight, c.getMinHeight());\r\n            }\r\n            first = false;\r\n        }\r\n    }\r\n    /** @internal */\r\n    _tidy() {\r\n        let i = 0;\r\n        while (i < this._children.length) {\r\n            const child = this._children[i];\r\n            if (child instanceof RowNode) {\r\n                child._tidy();\r\n                const childChildren = child.getChildren();\r\n                if (childChildren.length === 0) {\r\n                    this._removeChild(child);\r\n                }\r\n                else if (childChildren.length === 1) {\r\n                    // hoist child/children up to this level\r\n                    const subchild = childChildren[0];\r\n                    this._removeChild(child);\r\n                    if (subchild instanceof RowNode) {\r\n                        let subChildrenTotal = 0;\r\n                        const subChildChildren = subchild.getChildren();\r\n                        for (const ssc of subChildChildren) {\r\n                            const subsubChild = ssc;\r\n                            subChildrenTotal += subsubChild.getWeight();\r\n                        }\r\n                        for (let j = 0; j < subChildChildren.length; j++) {\r\n                            const subsubChild = subChildChildren[j];\r\n                            subsubChild._setWeight((child.getWeight() * subsubChild.getWeight()) / subChildrenTotal);\r\n                            this._addChild(subsubChild, i + j);\r\n                        }\r\n                    }\r\n                    else {\r\n                        subchild._setWeight(child.getWeight());\r\n                        this._addChild(subchild, i);\r\n                    }\r\n                }\r\n                else {\r\n                    i++;\r\n                }\r\n            }\r\n            else if (child instanceof TabSetNode_1.TabSetNode && child.getChildren().length === 0) {\r\n                if (child.isEnableDeleteWhenEmpty()) {\r\n                    this._removeChild(child);\r\n                    if (child === this._model.getMaximizedTabset()) {\r\n                        this._model._setMaximizedTabset(undefined);\r\n                    }\r\n                }\r\n                else {\r\n                    i++;\r\n                }\r\n            }\r\n            else {\r\n                i++;\r\n            }\r\n        }\r\n        // add tabset into empty root\r\n        if (this === this._model.getRoot() && this._children.length === 0) {\r\n            const callback = this._model._getOnCreateTabSet();\r\n            let attrs = callback ? callback() : {};\r\n            attrs = Object.assign(Object.assign({}, attrs), { selected: -1 });\r\n            const child = new TabSetNode_1.TabSetNode(this._model, attrs);\r\n            this._model._setActiveTabset(child);\r\n            this._addChild(child);\r\n        }\r\n    }\r\n    /** @internal */\r\n    canDrop(dragNode, x, y) {\r\n        const yy = y - this._rect.y;\r\n        const xx = x - this._rect.x;\r\n        const w = this._rect.width;\r\n        const h = this._rect.height;\r\n        const margin = 10; // height of edge rect\r\n        const half = 50; // half width of edge rect\r\n        let dropInfo;\r\n        if (this._model.isEnableEdgeDock() && this._parent === undefined) {\r\n            // _root row\r\n            if (x < this._rect.x + margin && yy > h / 2 - half && yy < h / 2 + half) {\r\n                const dockLocation = DockLocation_1.DockLocation.LEFT;\r\n                const outlineRect = dockLocation.getDockRect(this._rect);\r\n                outlineRect.width = outlineRect.width / 2;\r\n                dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, -1, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE);\r\n            }\r\n            else if (x > this._rect.getRight() - margin && yy > h / 2 - half && yy < h / 2 + half) {\r\n                const dockLocation = DockLocation_1.DockLocation.RIGHT;\r\n                const outlineRect = dockLocation.getDockRect(this._rect);\r\n                outlineRect.width = outlineRect.width / 2;\r\n                outlineRect.x += outlineRect.width;\r\n                dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, -1, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE);\r\n            }\r\n            else if (y < this._rect.y + margin && xx > w / 2 - half && xx < w / 2 + half) {\r\n                const dockLocation = DockLocation_1.DockLocation.TOP;\r\n                const outlineRect = dockLocation.getDockRect(this._rect);\r\n                outlineRect.height = outlineRect.height / 2;\r\n                dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, -1, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE);\r\n            }\r\n            else if (y > this._rect.getBottom() - margin && xx > w / 2 - half && xx < w / 2 + half) {\r\n                const dockLocation = DockLocation_1.DockLocation.BOTTOM;\r\n                const outlineRect = dockLocation.getDockRect(this._rect);\r\n                outlineRect.height = outlineRect.height / 2;\r\n                outlineRect.y += outlineRect.height;\r\n                dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, -1, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE);\r\n            }\r\n            if (dropInfo !== undefined) {\r\n                if (!dragNode._canDockInto(dragNode, dropInfo)) {\r\n                    return undefined;\r\n                }\r\n            }\r\n        }\r\n        return dropInfo;\r\n    }\r\n    /** @internal */\r\n    drop(dragNode, location, index) {\r\n        const dockLocation = location;\r\n        const parent = dragNode.getParent();\r\n        if (parent) {\r\n            parent._removeChild(dragNode);\r\n        }\r\n        if (parent !== undefined && parent.getType() === TabSetNode_1.TabSetNode.TYPE) {\r\n            parent._setSelected(0);\r\n        }\r\n        if (parent !== undefined && parent.getType() === BorderNode_1.BorderNode.TYPE) {\r\n            parent._setSelected(-1);\r\n        }\r\n        let tabSet;\r\n        if (dragNode instanceof TabSetNode_1.TabSetNode) {\r\n            tabSet = dragNode;\r\n        }\r\n        else {\r\n            const callback = this._model._getOnCreateTabSet();\r\n            tabSet = new TabSetNode_1.TabSetNode(this._model, callback ? callback(dragNode) : {});\r\n            tabSet._addChild(dragNode);\r\n        }\r\n        let size = this._children.reduce((sum, child) => {\r\n            return sum + child.getWeight();\r\n        }, 0);\r\n        if (size === 0) {\r\n            size = 100;\r\n        }\r\n        tabSet._setWeight(size / 3);\r\n        const horz = !this._model.isRootOrientationVertical();\r\n        if (horz && dockLocation === DockLocation_1.DockLocation.LEFT || !horz && dockLocation === DockLocation_1.DockLocation.TOP) {\r\n            this._addChild(tabSet, 0);\r\n        }\r\n        else if (horz && dockLocation === DockLocation_1.DockLocation.RIGHT || !horz && dockLocation === DockLocation_1.DockLocation.BOTTOM) {\r\n            this._addChild(tabSet);\r\n        }\r\n        else if (horz && dockLocation === DockLocation_1.DockLocation.TOP || !horz && dockLocation === DockLocation_1.DockLocation.LEFT) {\r\n            const vrow = new RowNode(this._model, {});\r\n            const hrow = new RowNode(this._model, {});\r\n            hrow._setWeight(75);\r\n            tabSet._setWeight(25);\r\n            for (const child of this._children) {\r\n                hrow._addChild(child);\r\n            }\r\n            this._removeAll();\r\n            vrow._addChild(tabSet);\r\n            vrow._addChild(hrow);\r\n            this._addChild(vrow);\r\n        }\r\n        else if (horz && dockLocation === DockLocation_1.DockLocation.BOTTOM || !horz && dockLocation === DockLocation_1.DockLocation.RIGHT) {\r\n            const vrow = new RowNode(this._model, {});\r\n            const hrow = new RowNode(this._model, {});\r\n            hrow._setWeight(75);\r\n            tabSet._setWeight(25);\r\n            for (const child of this._children) {\r\n                hrow._addChild(child);\r\n            }\r\n            this._removeAll();\r\n            vrow._addChild(hrow);\r\n            vrow._addChild(tabSet);\r\n            this._addChild(vrow);\r\n        }\r\n        this._model._setActiveTabset(tabSet);\r\n        this._model._tidy();\r\n    }\r\n    toJson() {\r\n        const json = {};\r\n        RowNode._attributeDefinitions.toJson(json, this._attributes);\r\n        json.children = [];\r\n        for (const child of this._children) {\r\n            json.children.push(child.toJson());\r\n        }\r\n        return json;\r\n    }\r\n    isEnableDrop() {\r\n        return true;\r\n    }\r\n    /** @internal */\r\n    _getPrefSize(orientation) {\r\n        let prefSize = this.getWidth();\r\n        if (orientation === Orientation_1.Orientation.VERT) {\r\n            prefSize = this.getHeight();\r\n        }\r\n        return prefSize;\r\n    }\r\n    /** @internal */\r\n    _getAttributeDefinitions() {\r\n        return RowNode._attributeDefinitions;\r\n    }\r\n    /** @internal */\r\n    _updateAttrs(json) {\r\n        RowNode._attributeDefinitions.update(json, this._attributes);\r\n    }\r\n    /** @internal */\r\n    static getAttributeDefinitions() {\r\n        return RowNode._attributeDefinitions;\r\n    }\r\n}\r\nexports.RowNode = RowNode;\r\nRowNode.TYPE = \"row\";\r\n/** @internal */\r\nRowNode._attributeDefinitions = RowNode._createAttributeDefinitions();\r\n//# sourceMappingURL=RowNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TabSetNode = void 0;\r\nconst Attribute_1 = require(\"../Attribute\");\r\nconst AttributeDefinitions_1 = require(\"../AttributeDefinitions\");\r\nconst DockLocation_1 = require(\"../DockLocation\");\r\nconst DropInfo_1 = require(\"../DropInfo\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst Types_1 = require(\"../Types\");\r\nconst BorderNode_1 = require(\"./BorderNode\");\r\nconst Node_1 = require(\"./Node\");\r\nconst RowNode_1 = require(\"./RowNode\");\r\nconst TabNode_1 = require(\"./TabNode\");\r\nconst Utils_1 = require(\"./Utils\");\r\nclass TabSetNode extends Node_1.Node {\r\n    /** @internal */\r\n    static _fromJson(json, model) {\r\n        const newLayoutNode = new TabSetNode(model, json);\r\n        if (json.children != null) {\r\n            for (const jsonChild of json.children) {\r\n                const child = TabNode_1.TabNode._fromJson(jsonChild, model);\r\n                newLayoutNode._addChild(child);\r\n            }\r\n        }\r\n        if (newLayoutNode._children.length === 0) {\r\n            newLayoutNode._setSelected(-1);\r\n        }\r\n        if (json.maximized && json.maximized === true) {\r\n            model._setMaximizedTabset(newLayoutNode);\r\n        }\r\n        if (json.active && json.active === true) {\r\n            model._setActiveTabset(newLayoutNode);\r\n        }\r\n        return newLayoutNode;\r\n    }\r\n    /** @internal */\r\n    static _createAttributeDefinitions() {\r\n        const attributeDefinitions = new AttributeDefinitions_1.AttributeDefinitions();\r\n        attributeDefinitions.add(\"type\", TabSetNode.TYPE, true).setType(Attribute_1.Attribute.STRING).setFixed();\r\n        attributeDefinitions.add(\"id\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"weight\", 100).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"width\", undefined).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"height\", undefined).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"selected\", 0).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"name\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"config\", undefined).setType(\"any\");\r\n        attributeDefinitions.addInherited(\"enableDeleteWhenEmpty\", \"tabSetEnableDeleteWhenEmpty\");\r\n        attributeDefinitions.addInherited(\"enableDrop\", \"tabSetEnableDrop\");\r\n        attributeDefinitions.addInherited(\"enableDrag\", \"tabSetEnableDrag\");\r\n        attributeDefinitions.addInherited(\"enableDivide\", \"tabSetEnableDivide\");\r\n        attributeDefinitions.addInherited(\"enableMaximize\", \"tabSetEnableMaximize\");\r\n        attributeDefinitions.addInherited(\"enableClose\", \"tabSetEnableClose\");\r\n        attributeDefinitions.addInherited(\"enableSingleTabStretch\", \"tabSetEnableSingleTabStretch\");\r\n        attributeDefinitions.addInherited(\"classNameTabStrip\", \"tabSetClassNameTabStrip\");\r\n        attributeDefinitions.addInherited(\"classNameHeader\", \"tabSetClassNameHeader\");\r\n        attributeDefinitions.addInherited(\"enableTabStrip\", \"tabSetEnableTabStrip\");\r\n        attributeDefinitions.addInherited(\"borderInsets\", \"tabSetBorderInsets\");\r\n        attributeDefinitions.addInherited(\"marginInsets\", \"tabSetMarginInsets\");\r\n        attributeDefinitions.addInherited(\"minWidth\", \"tabSetMinWidth\");\r\n        attributeDefinitions.addInherited(\"minHeight\", \"tabSetMinHeight\");\r\n        attributeDefinitions.addInherited(\"headerHeight\", \"tabSetHeaderHeight\");\r\n        attributeDefinitions.addInherited(\"tabStripHeight\", \"tabSetTabStripHeight\");\r\n        attributeDefinitions.addInherited(\"tabLocation\", \"tabSetTabLocation\");\r\n        attributeDefinitions.addInherited(\"autoSelectTab\", \"tabSetAutoSelectTab\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        return attributeDefinitions;\r\n    }\r\n    /** @internal */\r\n    constructor(model, json) {\r\n        super(model);\r\n        TabSetNode._attributeDefinitions.fromJson(json, this._attributes);\r\n        model._addNode(this);\r\n        this._calculatedTabBarHeight = 0;\r\n        this._calculatedHeaderBarHeight = 0;\r\n    }\r\n    getName() {\r\n        return this._getAttr(\"name\");\r\n    }\r\n    getSelected() {\r\n        const selected = this._attributes.selected;\r\n        if (selected !== undefined) {\r\n            return selected;\r\n        }\r\n        return -1;\r\n    }\r\n    getSelectedNode() {\r\n        const selected = this.getSelected();\r\n        if (selected !== -1) {\r\n            return this._children[selected];\r\n        }\r\n        return undefined;\r\n    }\r\n    getWeight() {\r\n        return this._getAttr(\"weight\");\r\n    }\r\n    getWidth() {\r\n        return this._getAttr(\"width\");\r\n    }\r\n    getMinWidth() {\r\n        return this._getAttr(\"minWidth\");\r\n    }\r\n    getHeight() {\r\n        return this._getAttr(\"height\");\r\n    }\r\n    getMinHeight() {\r\n        return this._getAttr(\"minHeight\");\r\n    }\r\n    /** @internal */\r\n    getMinSize(orientation) {\r\n        if (orientation === Orientation_1.Orientation.HORZ) {\r\n            return this.getMinWidth();\r\n        }\r\n        else {\r\n            return this.getMinHeight();\r\n        }\r\n    }\r\n    /**\r\n     * Returns the config attribute that can be used to store node specific data that\r\n     * WILL be saved to the json. The config attribute should be changed via the action Actions.updateNodeAttributes rather\r\n     * than directly, for example:\r\n     * this.state.model.doAction(\r\n     *   FlexLayout.Actions.updateNodeAttributes(node.getId(), {config:myConfigObject}));\r\n     */\r\n    getConfig() {\r\n        return this._attributes.config;\r\n    }\r\n    isMaximized() {\r\n        return this._model.getMaximizedTabset() === this;\r\n    }\r\n    isActive() {\r\n        return this._model.getActiveTabset() === this;\r\n    }\r\n    isEnableDeleteWhenEmpty() {\r\n        return this._getAttr(\"enableDeleteWhenEmpty\");\r\n    }\r\n    isEnableDrop() {\r\n        return this._getAttr(\"enableDrop\");\r\n    }\r\n    isEnableDrag() {\r\n        return this._getAttr(\"enableDrag\");\r\n    }\r\n    isEnableDivide() {\r\n        return this._getAttr(\"enableDivide\");\r\n    }\r\n    isEnableMaximize() {\r\n        return this._getAttr(\"enableMaximize\");\r\n    }\r\n    isEnableClose() {\r\n        return this._getAttr(\"enableClose\");\r\n    }\r\n    isEnableSingleTabStretch() {\r\n        return this._getAttr(\"enableSingleTabStretch\");\r\n    }\r\n    canMaximize() {\r\n        if (this.isEnableMaximize()) {\r\n            // always allow maximize toggle if already maximized\r\n            if (this.getModel().getMaximizedTabset() === this) {\r\n                return true;\r\n            }\r\n            // only one tabset, so disable\r\n            if (this.getParent() === this.getModel().getRoot() && this.getModel().getRoot().getChildren().length === 1) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    isEnableTabStrip() {\r\n        return this._getAttr(\"enableTabStrip\");\r\n    }\r\n    isAutoSelectTab() {\r\n        return this._getAttr(\"autoSelectTab\");\r\n    }\r\n    getClassNameTabStrip() {\r\n        return this._getAttr(\"classNameTabStrip\");\r\n    }\r\n    getClassNameHeader() {\r\n        return this._getAttr(\"classNameHeader\");\r\n    }\r\n    /** @internal */\r\n    calculateHeaderBarHeight(metrics) {\r\n        const headerBarHeight = this._getAttr(\"headerHeight\");\r\n        if (headerBarHeight !== 0) {\r\n            // its defined\r\n            this._calculatedHeaderBarHeight = headerBarHeight;\r\n        }\r\n        else {\r\n            this._calculatedHeaderBarHeight = metrics.headerBarSize;\r\n        }\r\n    }\r\n    /** @internal */\r\n    calculateTabBarHeight(metrics) {\r\n        const tabBarHeight = this._getAttr(\"tabStripHeight\");\r\n        if (tabBarHeight !== 0) {\r\n            // its defined\r\n            this._calculatedTabBarHeight = tabBarHeight;\r\n        }\r\n        else {\r\n            this._calculatedTabBarHeight = metrics.tabBarSize;\r\n        }\r\n    }\r\n    getHeaderHeight() {\r\n        return this._calculatedHeaderBarHeight;\r\n    }\r\n    getTabStripHeight() {\r\n        return this._calculatedTabBarHeight;\r\n    }\r\n    getTabLocation() {\r\n        return this._getAttr(\"tabLocation\");\r\n    }\r\n    /** @internal */\r\n    _setWeight(weight) {\r\n        this._attributes.weight = weight;\r\n    }\r\n    /** @internal */\r\n    _setSelected(index) {\r\n        this._attributes.selected = index;\r\n    }\r\n    /** @internal */\r\n    canDrop(dragNode, x, y) {\r\n        let dropInfo;\r\n        if (dragNode === this) {\r\n            const dockLocation = DockLocation_1.DockLocation.CENTER;\r\n            const outlineRect = this._tabHeaderRect;\r\n            dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, -1, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n        }\r\n        else if (this._contentRect.contains(x, y)) {\r\n            let dockLocation = DockLocation_1.DockLocation.CENTER;\r\n            if (this._model.getMaximizedTabset() === undefined) {\r\n                dockLocation = DockLocation_1.DockLocation.getLocation(this._contentRect, x, y);\r\n            }\r\n            const outlineRect = dockLocation.getDockRect(this._rect);\r\n            dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, -1, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n        }\r\n        else if (this._tabHeaderRect != null && this._tabHeaderRect.contains(x, y)) {\r\n            let r;\r\n            let yy;\r\n            let h;\r\n            if (this._children.length === 0) {\r\n                r = this._tabHeaderRect.clone();\r\n                yy = r.y + 3;\r\n                h = r.height - 4;\r\n                r.width = 2;\r\n            }\r\n            else {\r\n                let child = this._children[0];\r\n                r = child.getTabRect();\r\n                yy = r.y;\r\n                h = r.height;\r\n                let p = this._tabHeaderRect.x;\r\n                let childCenter = 0;\r\n                for (let i = 0; i < this._children.length; i++) {\r\n                    child = this._children[i];\r\n                    r = child.getTabRect();\r\n                    childCenter = r.x + r.width / 2;\r\n                    if (x >= p && x < childCenter) {\r\n                        const dockLocation = DockLocation_1.DockLocation.CENTER;\r\n                        const outlineRect = new Rect_1.Rect(r.x - 2, yy, 3, h);\r\n                        dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, i, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n                        break;\r\n                    }\r\n                    p = childCenter;\r\n                }\r\n            }\r\n            if (dropInfo == null) {\r\n                const dockLocation = DockLocation_1.DockLocation.CENTER;\r\n                const outlineRect = new Rect_1.Rect(r.getRight() - 2, yy, 3, h);\r\n                dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, this._children.length, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n            }\r\n        }\r\n        if (!dragNode._canDockInto(dragNode, dropInfo)) {\r\n            return undefined;\r\n        }\r\n        return dropInfo;\r\n    }\r\n    /** @internal */\r\n    _layout(rect, metrics) {\r\n        this.calculateHeaderBarHeight(metrics);\r\n        this.calculateTabBarHeight(metrics);\r\n        if (this.isMaximized()) {\r\n            rect = this._model.getRoot().getRect();\r\n        }\r\n        rect = rect.removeInsets(this._getAttr(\"marginInsets\"));\r\n        this._rect = rect;\r\n        rect = rect.removeInsets(this._getAttr(\"borderInsets\"));\r\n        const showHeader = this.getName() !== undefined;\r\n        let y = 0;\r\n        let h = 0;\r\n        if (showHeader) {\r\n            y += this._calculatedHeaderBarHeight;\r\n            h += this._calculatedHeaderBarHeight;\r\n        }\r\n        if (this.isEnableTabStrip()) {\r\n            if (this.getTabLocation() === \"top\") {\r\n                this._tabHeaderRect = new Rect_1.Rect(rect.x, rect.y + y, rect.width, this._calculatedTabBarHeight);\r\n            }\r\n            else {\r\n                this._tabHeaderRect = new Rect_1.Rect(rect.x, rect.y + rect.height - this._calculatedTabBarHeight, rect.width, this._calculatedTabBarHeight);\r\n            }\r\n            h += this._calculatedTabBarHeight;\r\n            if (this.getTabLocation() === \"top\") {\r\n                y += this._calculatedTabBarHeight;\r\n            }\r\n        }\r\n        this._contentRect = new Rect_1.Rect(rect.x, rect.y + y, rect.width, rect.height - h);\r\n        for (let i = 0; i < this._children.length; i++) {\r\n            const child = this._children[i];\r\n            child._layout(this._contentRect, metrics);\r\n            child._setVisible(i === this.getSelected());\r\n        }\r\n    }\r\n    /** @internal */\r\n    _delete() {\r\n        this._parent._removeChild(this);\r\n    }\r\n    /** @internal */\r\n    _remove(node) {\r\n        const removedIndex = this._removeChild(node);\r\n        this._model._tidy();\r\n        (0, Utils_1.adjustSelectedIndex)(this, removedIndex);\r\n    }\r\n    /** @internal */\r\n    drop(dragNode, location, index, select) {\r\n        const dockLocation = location;\r\n        if (this === dragNode) {\r\n            // tabset drop into itself\r\n            return; // dock back to itself\r\n        }\r\n        let dragParent = dragNode.getParent();\r\n        let fromIndex = 0;\r\n        if (dragParent !== undefined) {\r\n            fromIndex = dragParent._removeChild(dragNode);\r\n            // if selected node in border is being docked into tabset then deselect border tabs\r\n            if (dragParent instanceof BorderNode_1.BorderNode && dragParent.getSelected() === fromIndex) {\r\n                dragParent._setSelected(-1);\r\n            }\r\n            else {\r\n                (0, Utils_1.adjustSelectedIndex)(dragParent, fromIndex);\r\n            }\r\n        }\r\n        // if dropping a tab back to same tabset and moving to forward position then reduce insertion index\r\n        if (dragNode.getType() === TabNode_1.TabNode.TYPE && dragParent === this && fromIndex < index && index > 0) {\r\n            index--;\r\n        }\r\n        // simple_bundled dock to existing tabset\r\n        if (dockLocation === DockLocation_1.DockLocation.CENTER) {\r\n            let insertPos = index;\r\n            if (insertPos === -1) {\r\n                insertPos = this._children.length;\r\n            }\r\n            if (dragNode.getType() === TabNode_1.TabNode.TYPE) {\r\n                this._addChild(dragNode, insertPos);\r\n                if (select || (select !== false && this.isAutoSelectTab())) {\r\n                    this._setSelected(insertPos);\r\n                }\r\n                // console.log(\"added child at : \" + insertPos);\r\n            }\r\n            else {\r\n                for (let i = 0; i < dragNode.getChildren().length; i++) {\r\n                    const child = dragNode.getChildren()[i];\r\n                    this._addChild(child, insertPos);\r\n                    // console.log(\"added child at : \" + insertPos);\r\n                    insertPos++;\r\n                }\r\n                if (this.getSelected() === -1 && this._children.length > 0) {\r\n                    this._setSelected(0);\r\n                }\r\n            }\r\n            this._model._setActiveTabset(this);\r\n        }\r\n        else {\r\n            let tabSet;\r\n            if (dragNode instanceof TabNode_1.TabNode) {\r\n                // create new tabset parent\r\n                // console.log(\"create a new tabset\");\r\n                const callback = this._model._getOnCreateTabSet();\r\n                tabSet = new TabSetNode(this._model, callback ? callback(dragNode) : {});\r\n                tabSet._addChild(dragNode);\r\n                // console.log(\"added child at end\");\r\n                dragParent = tabSet;\r\n            }\r\n            else {\r\n                tabSet = dragNode;\r\n            }\r\n            const parentRow = this._parent;\r\n            const pos = parentRow.getChildren().indexOf(this);\r\n            if (parentRow.getOrientation() === dockLocation._orientation) {\r\n                tabSet._setWeight(this.getWeight() / 2);\r\n                this._setWeight(this.getWeight() / 2);\r\n                // console.log(\"added child 50% size at: \" +  pos + dockLocation.indexPlus);\r\n                parentRow._addChild(tabSet, pos + dockLocation._indexPlus);\r\n            }\r\n            else {\r\n                // create a new row to host the new tabset (it will go in the opposite direction)\r\n                // console.log(\"create a new row\");\r\n                const newRow = new RowNode_1.RowNode(this._model, {});\r\n                newRow._setWeight(this.getWeight());\r\n                newRow._addChild(this);\r\n                this._setWeight(50);\r\n                tabSet._setWeight(50);\r\n                // console.log(\"added child 50% size at: \" +  dockLocation.indexPlus);\r\n                newRow._addChild(tabSet, dockLocation._indexPlus);\r\n                parentRow._removeChild(this);\r\n                parentRow._addChild(newRow, pos);\r\n            }\r\n            this._model._setActiveTabset(tabSet);\r\n        }\r\n        this._model._tidy();\r\n    }\r\n    toJson() {\r\n        const json = {};\r\n        TabSetNode._attributeDefinitions.toJson(json, this._attributes);\r\n        json.children = this._children.map((child) => child.toJson());\r\n        if (this.isActive()) {\r\n            json.active = true;\r\n        }\r\n        if (this.isMaximized()) {\r\n            json.maximized = true;\r\n        }\r\n        return json;\r\n    }\r\n    /** @internal */\r\n    _updateAttrs(json) {\r\n        TabSetNode._attributeDefinitions.update(json, this._attributes);\r\n    }\r\n    /** @internal */\r\n    _getAttributeDefinitions() {\r\n        return TabSetNode._attributeDefinitions;\r\n    }\r\n    /** @internal */\r\n    _getPrefSize(orientation) {\r\n        let prefSize = this.getWidth();\r\n        if (orientation === Orientation_1.Orientation.VERT) {\r\n            prefSize = this.getHeight();\r\n        }\r\n        return prefSize;\r\n    }\r\n    /** @internal */\r\n    static getAttributeDefinitions() {\r\n        return TabSetNode._attributeDefinitions;\r\n    }\r\n}\r\nexports.TabSetNode = TabSetNode;\r\nTabSetNode.TYPE = \"tabset\";\r\n/** @internal */\r\nTabSetNode._attributeDefinitions = TabSetNode._createAttributeDefinitions();\r\n//# sourceMappingURL=TabSetNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.randomUUID = exports.adjustSelectedIndex = exports.adjustSelectedIndexAfterDock = exports.adjustSelectedIndexAfterFloat = void 0;\r\nconst TabSetNode_1 = require(\"./TabSetNode\");\r\nconst BorderNode_1 = require(\"./BorderNode\");\r\n/** @internal */\r\nfunction adjustSelectedIndexAfterFloat(node) {\r\n    const parent = node.getParent();\r\n    if (parent !== null) {\r\n        if (parent instanceof TabSetNode_1.TabSetNode) {\r\n            let found = false;\r\n            let newSelected = 0;\r\n            const children = parent.getChildren();\r\n            for (let i = 0; i < children.length; i++) {\r\n                const child = children[i];\r\n                if (child === node) {\r\n                    found = true;\r\n                }\r\n                else {\r\n                    if (!child.isFloating()) {\r\n                        newSelected = i;\r\n                        if (found)\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            parent._setSelected(newSelected);\r\n        }\r\n        else if (parent instanceof BorderNode_1.BorderNode) {\r\n            parent._setSelected(-1);\r\n        }\r\n    }\r\n}\r\nexports.adjustSelectedIndexAfterFloat = adjustSelectedIndexAfterFloat;\r\n/** @internal */\r\nfunction adjustSelectedIndexAfterDock(node) {\r\n    const parent = node.getParent();\r\n    if (parent !== null && (parent instanceof TabSetNode_1.TabSetNode || parent instanceof BorderNode_1.BorderNode)) {\r\n        const children = parent.getChildren();\r\n        for (let i = 0; i < children.length; i++) {\r\n            const child = children[i];\r\n            if (child === node) {\r\n                parent._setSelected(i);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.adjustSelectedIndexAfterDock = adjustSelectedIndexAfterDock;\r\n/** @internal */\r\nfunction adjustSelectedIndex(parent, removedIndex) {\r\n    // for the tabset/border being removed from set the selected index\r\n    if (parent !== undefined && (parent.getType() === TabSetNode_1.TabSetNode.TYPE || parent.getType() === BorderNode_1.BorderNode.TYPE)) {\r\n        const selectedIndex = parent.getSelected();\r\n        if (selectedIndex !== -1) {\r\n            if (removedIndex === selectedIndex && parent.getChildren().length > 0) {\r\n                if (removedIndex >= parent.getChildren().length) {\r\n                    // removed last tab; select new last tab\r\n                    parent._setSelected(parent.getChildren().length - 1);\r\n                }\r\n                else {\r\n                    // leave selected index as is, selecting next tab after this one\r\n                }\r\n            }\r\n            else if (removedIndex < selectedIndex) {\r\n                parent._setSelected(selectedIndex - 1);\r\n            }\r\n            else if (removedIndex > selectedIndex) {\r\n                // leave selected index as is\r\n            }\r\n            else {\r\n                parent._setSelected(-1);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.adjustSelectedIndex = adjustSelectedIndex;\r\nfunction randomUUID() {\r\n    // @ts-ignore\r\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16));\r\n}\r\nexports.randomUUID = randomUUID;\r\n//# sourceMappingURL=Utils.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BorderNode = void 0;\r\nconst Attribute_1 = require(\"../Attribute\");\r\nconst AttributeDefinitions_1 = require(\"../AttributeDefinitions\");\r\nconst DockLocation_1 = require(\"../DockLocation\");\r\nconst DropInfo_1 = require(\"../DropInfo\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst Types_1 = require(\"../Types\");\r\nconst Node_1 = require(\"./Node\");\r\nconst SplitterNode_1 = require(\"./SplitterNode\");\r\nconst TabNode_1 = require(\"./TabNode\");\r\nconst Utils_1 = require(\"./Utils\");\r\nclass BorderNode extends Node_1.Node {\r\n    /** @internal */\r\n    static _fromJson(json, model) {\r\n        const location = DockLocation_1.DockLocation.getByName(json.location);\r\n        const border = new BorderNode(location, json, model);\r\n        if (json.children) {\r\n            border._children = json.children.map((jsonChild) => {\r\n                const child = TabNode_1.TabNode._fromJson(jsonChild, model);\r\n                child._setParent(border);\r\n                return child;\r\n            });\r\n        }\r\n        return border;\r\n    }\r\n    /** @internal */\r\n    static _createAttributeDefinitions() {\r\n        const attributeDefinitions = new AttributeDefinitions_1.AttributeDefinitions();\r\n        attributeDefinitions.add(\"type\", BorderNode.TYPE, true).setType(Attribute_1.Attribute.STRING).setFixed();\r\n        attributeDefinitions.add(\"selected\", -1).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"show\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"config\", undefined).setType(\"any\");\r\n        attributeDefinitions.addInherited(\"barSize\", \"borderBarSize\").setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.addInherited(\"enableDrop\", \"borderEnableDrop\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.addInherited(\"className\", \"borderClassName\").setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.addInherited(\"autoSelectTabWhenOpen\", \"borderAutoSelectTabWhenOpen\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.addInherited(\"autoSelectTabWhenClosed\", \"borderAutoSelectTabWhenClosed\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.addInherited(\"size\", \"borderSize\").setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.addInherited(\"minSize\", \"borderMinSize\").setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.addInherited(\"enableAutoHide\", \"borderEnableAutoHide\").setType(Attribute_1.Attribute.BOOLEAN);\r\n        return attributeDefinitions;\r\n    }\r\n    /** @internal */\r\n    constructor(location, json, model) {\r\n        super(model);\r\n        /** @internal */\r\n        this._adjustedSize = 0;\r\n        /** @internal */\r\n        this._calculatedBorderBarSize = 0;\r\n        this._location = location;\r\n        this._drawChildren = [];\r\n        this._attributes.id = `border_${location.getName()}`;\r\n        BorderNode._attributeDefinitions.fromJson(json, this._attributes);\r\n        model._addNode(this);\r\n    }\r\n    getLocation() {\r\n        return this._location;\r\n    }\r\n    getTabHeaderRect() {\r\n        return this._tabHeaderRect;\r\n    }\r\n    getRect() {\r\n        return this._tabHeaderRect;\r\n    }\r\n    getContentRect() {\r\n        return this._contentRect;\r\n    }\r\n    isEnableDrop() {\r\n        return this._getAttr(\"enableDrop\");\r\n    }\r\n    isAutoSelectTab(whenOpen) {\r\n        if (whenOpen == null) {\r\n            whenOpen = this.getSelected() !== -1;\r\n        }\r\n        if (whenOpen) {\r\n            return this._getAttr(\"autoSelectTabWhenOpen\");\r\n        }\r\n        else {\r\n            return this._getAttr(\"autoSelectTabWhenClosed\");\r\n        }\r\n    }\r\n    getClassName() {\r\n        return this._getAttr(\"className\");\r\n    }\r\n    /** @internal */\r\n    calcBorderBarSize(metrics) {\r\n        const barSize = this._getAttr(\"barSize\");\r\n        if (barSize !== 0) {\r\n            // its defined\r\n            this._calculatedBorderBarSize = barSize;\r\n        }\r\n        else {\r\n            this._calculatedBorderBarSize = metrics.borderBarSize;\r\n        }\r\n    }\r\n    getBorderBarSize() {\r\n        return this._calculatedBorderBarSize;\r\n    }\r\n    getSize() {\r\n        const defaultSize = this._getAttr(\"size\");\r\n        const selected = this.getSelected();\r\n        if (selected === -1) {\r\n            return defaultSize;\r\n        }\r\n        else {\r\n            const tabNode = this._children[selected];\r\n            const tabBorderSize = (this._location._orientation === Orientation_1.Orientation.HORZ) ? tabNode._getAttr(\"borderWidth\") : tabNode._getAttr(\"borderHeight\");\r\n            if (tabBorderSize === -1) {\r\n                return defaultSize;\r\n            }\r\n            else {\r\n                return tabBorderSize;\r\n            }\r\n        }\r\n    }\r\n    getMinSize() {\r\n        return this._getAttr(\"minSize\");\r\n    }\r\n    getSelected() {\r\n        return this._attributes.selected;\r\n    }\r\n    getSelectedNode() {\r\n        if (this.getSelected() !== -1) {\r\n            return this._children[this.getSelected()];\r\n        }\r\n        return undefined;\r\n    }\r\n    getOrientation() {\r\n        return this._location.getOrientation();\r\n    }\r\n    /**\r\n     * Returns the config attribute that can be used to store node specific data that\r\n     * WILL be saved to the json. The config attribute should be changed via the action Actions.updateNodeAttributes rather\r\n     * than directly, for example:\r\n     * this.state.model.doAction(\r\n     *   FlexLayout.Actions.updateNodeAttributes(node.getId(), {config:myConfigObject}));\r\n     */\r\n    getConfig() {\r\n        return this._attributes.config;\r\n    }\r\n    isMaximized() {\r\n        return false;\r\n    }\r\n    isShowing() {\r\n        const show = this._attributes.show;\r\n        if (show) {\r\n            if (this._model._getShowHiddenBorder() !== this._location && this.isAutoHide() && this._children.length === 0) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    isAutoHide() {\r\n        return this._getAttr(\"enableAutoHide\");\r\n    }\r\n    /** @internal */\r\n    _setSelected(index) {\r\n        this._attributes.selected = index;\r\n    }\r\n    /** @internal */\r\n    _setSize(pos) {\r\n        const selected = this.getSelected();\r\n        if (selected === -1) {\r\n            this._attributes.size = pos;\r\n        }\r\n        else {\r\n            const tabNode = this._children[selected];\r\n            const tabBorderSize = (this._location._orientation === Orientation_1.Orientation.HORZ) ? tabNode._getAttr(\"borderWidth\") : tabNode._getAttr(\"borderHeight\");\r\n            if (tabBorderSize === -1) {\r\n                this._attributes.size = pos;\r\n            }\r\n            else {\r\n                if (this._location._orientation === Orientation_1.Orientation.HORZ) {\r\n                    tabNode._setBorderWidth(pos);\r\n                }\r\n                else {\r\n                    tabNode._setBorderHeight(pos);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /** @internal */\r\n    _updateAttrs(json) {\r\n        BorderNode._attributeDefinitions.update(json, this._attributes);\r\n    }\r\n    /** @internal */\r\n    _getDrawChildren() {\r\n        return this._drawChildren;\r\n    }\r\n    /** @internal */\r\n    _setAdjustedSize(size) {\r\n        this._adjustedSize = size;\r\n    }\r\n    /** @internal */\r\n    _getAdjustedSize() {\r\n        return this._adjustedSize;\r\n    }\r\n    /** @internal */\r\n    _layoutBorderOuter(outer, metrics) {\r\n        this.calcBorderBarSize(metrics);\r\n        const split1 = this._location.split(outer, this.getBorderBarSize()); // split border outer\r\n        this._tabHeaderRect = split1.start;\r\n        return split1.end;\r\n    }\r\n    /** @internal */\r\n    _layoutBorderInner(inner, metrics) {\r\n        this._drawChildren = [];\r\n        const location = this._location;\r\n        const split1 = location.split(inner, this._adjustedSize + this._model.getSplitterSize()); // split off tab contents\r\n        const split2 = location.reflect().split(split1.start, this._model.getSplitterSize()); // split contents into content and splitter\r\n        this._contentRect = split2.end;\r\n        for (let i = 0; i < this._children.length; i++) {\r\n            const child = this._children[i];\r\n            child._layout(this._contentRect, metrics);\r\n            child._setVisible(i === this.getSelected());\r\n            this._drawChildren.push(child);\r\n        }\r\n        if (this.getSelected() === -1) {\r\n            return inner;\r\n        }\r\n        else {\r\n            const newSplitter = new SplitterNode_1.SplitterNode(this._model);\r\n            newSplitter._setParent(this);\r\n            newSplitter._setRect(split2.start);\r\n            this._drawChildren.push(newSplitter);\r\n            return split1.end;\r\n        }\r\n    }\r\n    /** @internal */\r\n    _remove(node) {\r\n        const removedIndex = this._removeChild(node);\r\n        if (this.getSelected() !== -1) {\r\n            (0, Utils_1.adjustSelectedIndex)(this, removedIndex);\r\n        }\r\n    }\r\n    /** @internal */\r\n    canDrop(dragNode, x, y) {\r\n        if (dragNode.getType() !== TabNode_1.TabNode.TYPE) {\r\n            return undefined;\r\n        }\r\n        let dropInfo;\r\n        const dockLocation = DockLocation_1.DockLocation.CENTER;\r\n        if (this._tabHeaderRect.contains(x, y)) {\r\n            if (this._location._orientation === Orientation_1.Orientation.VERT) {\r\n                if (this._children.length > 0) {\r\n                    let child = this._children[0];\r\n                    let childRect = child.getTabRect();\r\n                    const childY = childRect.y;\r\n                    const childHeight = childRect.height;\r\n                    let pos = this._tabHeaderRect.x;\r\n                    let childCenter = 0;\r\n                    for (let i = 0; i < this._children.length; i++) {\r\n                        child = this._children[i];\r\n                        childRect = child.getTabRect();\r\n                        childCenter = childRect.x + childRect.width / 2;\r\n                        if (x >= pos && x < childCenter) {\r\n                            const outlineRect = new Rect_1.Rect(childRect.x - 2, childY, 3, childHeight);\r\n                            dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, i, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n                            break;\r\n                        }\r\n                        pos = childCenter;\r\n                    }\r\n                    if (dropInfo == null) {\r\n                        const outlineRect = new Rect_1.Rect(childRect.getRight() - 2, childY, 3, childHeight);\r\n                        dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, this._children.length, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n                    }\r\n                }\r\n                else {\r\n                    const outlineRect = new Rect_1.Rect(this._tabHeaderRect.x + 1, this._tabHeaderRect.y + 2, 3, 18);\r\n                    dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, 0, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n                }\r\n            }\r\n            else {\r\n                if (this._children.length > 0) {\r\n                    let child = this._children[0];\r\n                    let childRect = child.getTabRect();\r\n                    const childX = childRect.x;\r\n                    const childWidth = childRect.width;\r\n                    let pos = this._tabHeaderRect.y;\r\n                    let childCenter = 0;\r\n                    for (let i = 0; i < this._children.length; i++) {\r\n                        child = this._children[i];\r\n                        childRect = child.getTabRect();\r\n                        childCenter = childRect.y + childRect.height / 2;\r\n                        if (y >= pos && y < childCenter) {\r\n                            const outlineRect = new Rect_1.Rect(childX, childRect.y - 2, childWidth, 3);\r\n                            dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, i, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n                            break;\r\n                        }\r\n                        pos = childCenter;\r\n                    }\r\n                    if (dropInfo == null) {\r\n                        const outlineRect = new Rect_1.Rect(childX, childRect.getBottom() - 2, childWidth, 3);\r\n                        dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, this._children.length, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n                    }\r\n                }\r\n                else {\r\n                    const outlineRect = new Rect_1.Rect(this._tabHeaderRect.x + 2, this._tabHeaderRect.y + 1, 18, 3);\r\n                    dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, 0, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n                }\r\n            }\r\n            if (!dragNode._canDockInto(dragNode, dropInfo)) {\r\n                return undefined;\r\n            }\r\n        }\r\n        else if (this.getSelected() !== -1 && this._contentRect.contains(x, y)) {\r\n            const outlineRect = this._contentRect;\r\n            dropInfo = new DropInfo_1.DropInfo(this, outlineRect, dockLocation, -1, Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n            if (!dragNode._canDockInto(dragNode, dropInfo)) {\r\n                return undefined;\r\n            }\r\n        }\r\n        return dropInfo;\r\n    }\r\n    /** @internal */\r\n    drop(dragNode, location, index, select) {\r\n        let fromIndex = 0;\r\n        const dragParent = dragNode.getParent();\r\n        if (dragParent !== undefined) {\r\n            fromIndex = dragParent._removeChild(dragNode);\r\n            // if selected node in border is being docked into a different border then deselect border tabs\r\n            if (dragParent !== this && dragParent instanceof BorderNode && dragParent.getSelected() === fromIndex) {\r\n                dragParent._setSelected(-1);\r\n            }\r\n            else {\r\n                (0, Utils_1.adjustSelectedIndex)(dragParent, fromIndex);\r\n            }\r\n        }\r\n        // if dropping a tab back to same tabset and moving to forward position then reduce insertion index\r\n        if (dragNode.getType() === TabNode_1.TabNode.TYPE && dragParent === this && fromIndex < index && index > 0) {\r\n            index--;\r\n        }\r\n        // simple_bundled dock to existing tabset\r\n        let insertPos = index;\r\n        if (insertPos === -1) {\r\n            insertPos = this._children.length;\r\n        }\r\n        if (dragNode.getType() === TabNode_1.TabNode.TYPE) {\r\n            this._addChild(dragNode, insertPos);\r\n        }\r\n        if (select || (select !== false && this.isAutoSelectTab())) {\r\n            this._setSelected(insertPos);\r\n        }\r\n        this._model._tidy();\r\n    }\r\n    toJson() {\r\n        const json = {};\r\n        BorderNode._attributeDefinitions.toJson(json, this._attributes);\r\n        json.location = this._location.getName();\r\n        json.children = this._children.map((child) => child.toJson());\r\n        return json;\r\n    }\r\n    /** @internal */\r\n    _getSplitterBounds(splitter, useMinSize = false) {\r\n        const pBounds = [0, 0];\r\n        const minSize = useMinSize ? this.getMinSize() : 0;\r\n        const outerRect = this._model._getOuterInnerRects().outer;\r\n        const innerRect = this._model._getOuterInnerRects().inner;\r\n        const rootRow = this._model.getRoot();\r\n        if (this._location === DockLocation_1.DockLocation.TOP) {\r\n            pBounds[0] = outerRect.y + minSize;\r\n            pBounds[1] = Math.max(pBounds[0], innerRect.getBottom() - splitter.getHeight() - rootRow.getMinHeight());\r\n        }\r\n        else if (this._location === DockLocation_1.DockLocation.LEFT) {\r\n            pBounds[0] = outerRect.x + minSize;\r\n            pBounds[1] = Math.max(pBounds[0], innerRect.getRight() - splitter.getWidth() - rootRow.getMinWidth());\r\n        }\r\n        else if (this._location === DockLocation_1.DockLocation.BOTTOM) {\r\n            pBounds[1] = outerRect.getBottom() - splitter.getHeight() - minSize;\r\n            pBounds[0] = Math.min(pBounds[1], innerRect.y + rootRow.getMinHeight());\r\n        }\r\n        else if (this._location === DockLocation_1.DockLocation.RIGHT) {\r\n            pBounds[1] = outerRect.getRight() - splitter.getWidth() - minSize;\r\n            pBounds[0] = Math.min(pBounds[1], innerRect.x + rootRow.getMinWidth());\r\n        }\r\n        return pBounds;\r\n    }\r\n    /** @internal */\r\n    _calculateSplit(splitter, splitterPos) {\r\n        const pBounds = this._getSplitterBounds(splitter);\r\n        if (this._location === DockLocation_1.DockLocation.BOTTOM || this._location === DockLocation_1.DockLocation.RIGHT) {\r\n            return Math.max(0, pBounds[1] - splitterPos);\r\n        }\r\n        else {\r\n            return Math.max(0, splitterPos - pBounds[0]);\r\n        }\r\n    }\r\n    /** @internal */\r\n    _getAttributeDefinitions() {\r\n        return BorderNode._attributeDefinitions;\r\n    }\r\n    /** @internal */\r\n    static getAttributeDefinitions() {\r\n        return BorderNode._attributeDefinitions;\r\n    }\r\n}\r\nexports.BorderNode = BorderNode;\r\nBorderNode.TYPE = \"border\";\r\n/** @internal */\r\nBorderNode._attributeDefinitions = BorderNode._createAttributeDefinitions();\r\n//# sourceMappingURL=BorderNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.I18nLabel = void 0;\r\nvar I18nLabel;\r\n(function (I18nLabel) {\r\n    I18nLabel[\"Close_Tab\"] = \"Close\";\r\n    I18nLabel[\"Close_Tabset\"] = \"Close tabset\";\r\n    I18nLabel[\"Move_Tab\"] = \"Move: \";\r\n    I18nLabel[\"Move_Tabset\"] = \"Move tabset\";\r\n    I18nLabel[\"Maximize\"] = \"Maximize tabset\";\r\n    I18nLabel[\"Restore\"] = \"Restore tabset\";\r\n    I18nLabel[\"Float_Tab\"] = \"Show selected tab in floating window\";\r\n    I18nLabel[\"Overflow_Menu_Tooltip\"] = \"Hidden tabs\";\r\n    I18nLabel[\"Floating_Window_Message\"] = \"This panel is shown in a floating window\";\r\n    I18nLabel[\"Floating_Window_Show_Window\"] = \"Show window\";\r\n    I18nLabel[\"Floating_Window_Dock_Window\"] = \"Dock window\";\r\n    I18nLabel[\"Error_rendering_component\"] = \"Error rendering component\";\r\n})(I18nLabel = exports.I18nLabel || (exports.I18nLabel = {}));\r\n//# sourceMappingURL=I18nLabel.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ICloseType = void 0;\r\nvar ICloseType;\r\n(function (ICloseType) {\r\n    ICloseType[ICloseType[\"Visible\"] = 1] = \"Visible\";\r\n    ICloseType[ICloseType[\"Always\"] = 2] = \"Always\";\r\n    ICloseType[ICloseType[\"Selected\"] = 3] = \"Selected\";\r\n})(ICloseType = exports.ICloseType || (exports.ICloseType = {}));\r\n//# sourceMappingURL=ICloseType.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isAuxMouseEvent = exports.hideElement = exports.getRenderStateEx = void 0;\r\nconst React = require(\"react\");\r\n/** @internal */\r\nfunction getRenderStateEx(layout, node, iconFactory, titleFactory, iconAngle) {\r\n    let leadingContent = iconFactory ? iconFactory(node) : undefined;\r\n    let titleContent = node.getName();\r\n    let name = node.getName();\r\n    if (iconAngle === undefined) {\r\n        iconAngle = 0;\r\n    }\r\n    function isTitleObject(obj) {\r\n        return obj.titleContent !== undefined;\r\n    }\r\n    if (titleFactory !== undefined) {\r\n        const titleObj = titleFactory(node);\r\n        if (titleObj !== undefined) {\r\n            if (typeof titleObj === \"string\") {\r\n                titleContent = titleObj;\r\n                name = titleObj;\r\n            }\r\n            else if (isTitleObject(titleObj)) {\r\n                titleContent = titleObj.titleContent;\r\n                name = titleObj.name;\r\n            }\r\n            else {\r\n                titleContent = titleObj;\r\n            }\r\n        }\r\n    }\r\n    if (leadingContent === undefined && node.getIcon() !== undefined) {\r\n        if (iconAngle !== 0) {\r\n            leadingContent = React.createElement(\"img\", { style: { width: \"1em\", height: \"1em\", transform: \"rotate(\" + iconAngle + \"deg)\" }, src: node.getIcon(), alt: \"leadingContent\" });\r\n        }\r\n        else {\r\n            leadingContent = React.createElement(\"img\", { style: { width: \"1em\", height: \"1em\" }, src: node.getIcon(), alt: \"leadingContent\" });\r\n        }\r\n    }\r\n    let buttons = [];\r\n    // allow customization of leading contents (icon) and contents\r\n    const renderState = { leading: leadingContent, content: titleContent, name, buttons };\r\n    layout.customizeTab(node, renderState);\r\n    node._setRenderedName(renderState.name);\r\n    return renderState;\r\n}\r\nexports.getRenderStateEx = getRenderStateEx;\r\n/** @internal */\r\nfunction hideElement(style, useVisibility) {\r\n    if (useVisibility) {\r\n        style.visibility = \"hidden\";\r\n    }\r\n    else {\r\n        style.display = \"none\";\r\n    }\r\n}\r\nexports.hideElement = hideElement;\r\n/** @internal */\r\nfunction isAuxMouseEvent(event) {\r\n    let auxEvent = false;\r\n    if (event.nativeEvent instanceof MouseEvent) {\r\n        if (event.nativeEvent.button !== 0 || event.ctrlKey || event.altKey || event.metaKey || event.shiftKey) {\r\n            auxEvent = true;\r\n        }\r\n    }\r\n    return auxEvent;\r\n}\r\nexports.isAuxMouseEvent = isAuxMouseEvent;\r\n//# sourceMappingURL=Utils.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BorderButton = void 0;\r\nconst React = require(\"react\");\r\nconst I18nLabel_1 = require(\"../I18nLabel\");\r\nconst Actions_1 = require(\"../model/Actions\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst ICloseType_1 = require(\"../model/ICloseType\");\r\nconst Types_1 = require(\"../Types\");\r\nconst Utils_1 = require(\"./Utils\");\r\n/** @internal */\r\nconst BorderButton = (props) => {\r\n    const { layout, node, selected, border, iconFactory, titleFactory, icons, path } = props;\r\n    const selfRef = React.useRef(null);\r\n    const contentRef = React.useRef(null);\r\n    const onMouseDown = (event) => {\r\n        if (!(0, Utils_1.isAuxMouseEvent)(event) && !layout.getEditingTab()) {\r\n            layout.dragStart(event, undefined, node, node.isEnableDrag(), onClick, onDoubleClick);\r\n        }\r\n    };\r\n    const onAuxMouseClick = (event) => {\r\n        if ((0, Utils_1.isAuxMouseEvent)(event)) {\r\n            layout.auxMouseClick(node, event);\r\n        }\r\n    };\r\n    const onContextMenu = (event) => {\r\n        layout.showContextMenu(node, event);\r\n    };\r\n    const onClick = () => {\r\n        layout.doAction(Actions_1.Actions.selectTab(node.getId()));\r\n    };\r\n    const onDoubleClick = (event) => {\r\n        // if (node.isEnableRename()) {\r\n        //     onRename();\r\n        // }\r\n    };\r\n    // const onRename = () => {\r\n    //     layout.setEditingTab(node);\r\n    //     layout.getCurrentDocument()!.body.addEventListener(\"mousedown\", onEndEdit);\r\n    //     layout.getCurrentDocument()!.body.addEventListener(\"touchstart\", onEndEdit);\r\n    // };\r\n    const onEndEdit = (event) => {\r\n        if (event.target !== contentRef.current) {\r\n            layout.getCurrentDocument().body.removeEventListener(\"mousedown\", onEndEdit);\r\n            layout.getCurrentDocument().body.removeEventListener(\"touchstart\", onEndEdit);\r\n            layout.setEditingTab(undefined);\r\n        }\r\n    };\r\n    const isClosable = () => {\r\n        const closeType = node.getCloseType();\r\n        if (selected || closeType === ICloseType_1.ICloseType.Always) {\r\n            return true;\r\n        }\r\n        if (closeType === ICloseType_1.ICloseType.Visible) {\r\n            // not selected but x should be visible due to hover\r\n            if (window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    const onClose = (event) => {\r\n        if (isClosable()) {\r\n            layout.doAction(Actions_1.Actions.deleteTab(node.getId()));\r\n        }\r\n        else {\r\n            onClick();\r\n        }\r\n    };\r\n    const onCloseMouseDown = (event) => {\r\n        event.stopPropagation();\r\n    };\r\n    React.useLayoutEffect(() => {\r\n        updateRect();\r\n        if (layout.getEditingTab() === node) {\r\n            contentRef.current.select();\r\n        }\r\n    });\r\n    const updateRect = () => {\r\n        var _a;\r\n        // record position of tab in node\r\n        const layoutRect = layout.getDomRect();\r\n        const r = (_a = selfRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\r\n        if (r && layoutRect) {\r\n            node._setTabRect(new Rect_1.Rect(r.left - layoutRect.left, r.top - layoutRect.top, r.width, r.height));\r\n        }\r\n    };\r\n    const onTextBoxMouseDown = (event) => {\r\n        // console.log(\"onTextBoxMouseDown\");\r\n        event.stopPropagation();\r\n    };\r\n    const onTextBoxKeyPress = (event) => {\r\n        if (event.code === 'Escape') {\r\n            // esc\r\n            layout.setEditingTab(undefined);\r\n        }\r\n        else if (event.code === 'Enter') {\r\n            // enter\r\n            layout.setEditingTab(undefined);\r\n            layout.doAction(Actions_1.Actions.renameTab(node.getId(), event.target.value));\r\n        }\r\n    };\r\n    const cm = layout.getClassName;\r\n    let classNames = cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON_ + border);\r\n    if (selected) {\r\n        classNames += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON__SELECTED);\r\n    }\r\n    else {\r\n        classNames += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED);\r\n    }\r\n    if (node.getClassName() !== undefined) {\r\n        classNames += \" \" + node.getClassName();\r\n    }\r\n    let iconAngle = 0;\r\n    if (node.getModel().isEnableRotateBorderIcons() === false) {\r\n        if (border === \"left\") {\r\n            iconAngle = 90;\r\n        }\r\n        else if (border === \"right\") {\r\n            iconAngle = -90;\r\n        }\r\n    }\r\n    const renderState = (0, Utils_1.getRenderStateEx)(layout, node, iconFactory, titleFactory, iconAngle);\r\n    let content = renderState.content ? (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON_CONTENT) }, renderState.content)) : null;\r\n    const leading = renderState.leading ? (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON_LEADING) }, renderState.leading)) : null;\r\n    if (layout.getEditingTab() === node) {\r\n        content = (React.createElement(\"input\", { ref: contentRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX), \"data-layout-path\": path + \"/textbox\", type: \"text\", autoFocus: true, defaultValue: node.getName(), onKeyDown: onTextBoxKeyPress, onMouseDown: onTextBoxMouseDown, onTouchStart: onTextBoxMouseDown }));\r\n    }\r\n    if (node.isEnableClose()) {\r\n        const closeTitle = layout.i18nName(I18nLabel_1.I18nLabel.Close_Tab);\r\n        renderState.buttons.push(React.createElement(\"div\", { key: \"close\", \"data-layout-path\": path + \"/button/close\", title: closeTitle, className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON_TRAILING), onMouseDown: onCloseMouseDown, onClick: onClose, onTouchStart: onCloseMouseDown }, (typeof icons.close === \"function\") ? icons.close(node) : icons.close));\r\n    }\r\n    return (React.createElement(\"div\", { ref: selfRef, \"data-layout-path\": path, className: classNames, onMouseDown: onMouseDown, onClick: onAuxMouseClick, onAuxClick: onAuxMouseClick, onContextMenu: onContextMenu, onTouchStart: onMouseDown, title: node.getHelpText() },\r\n        leading,\r\n        content,\r\n        renderState.buttons));\r\n};\r\nexports.BorderButton = BorderButton;\r\n//# sourceMappingURL=BorderButton.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TabButtonStamp = void 0;\r\nconst React = require(\"react\");\r\nconst Types_1 = require(\"../Types\");\r\nconst Utils_1 = require(\"./Utils\");\r\n/** @internal */\r\nconst TabButtonStamp = (props) => {\r\n    const { layout, node, iconFactory, titleFactory } = props;\r\n    const selfRef = React.useRef(null);\r\n    const cm = layout.getClassName;\r\n    let classNames = cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_STAMP);\r\n    const renderState = (0, Utils_1.getRenderStateEx)(layout, node, iconFactory, titleFactory);\r\n    let content = renderState.content ? (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT) }, renderState.content))\r\n        : node._getNameForOverflowMenu();\r\n    const leading = renderState.leading ? (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING) }, renderState.leading)) : null;\r\n    return (React.createElement(\"div\", { ref: selfRef, className: classNames, title: node.getHelpText() },\r\n        leading,\r\n        content));\r\n};\r\nexports.TabButtonStamp = TabButtonStamp;\r\n//# sourceMappingURL=TabButtonStamp.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.showPopup = void 0;\r\nconst React = require(\"react\");\r\nconst DragDrop_1 = require(\"./DragDrop\");\r\nconst Types_1 = require(\"./Types\");\r\nconst TabButtonStamp_1 = require(\"./view/TabButtonStamp\");\r\n/** @internal */\r\nfunction showPopup(triggerElement, items, onSelect, layout, iconFactory, titleFactory) {\r\n    var _a;\r\n    const layoutDiv = layout.getRootDiv();\r\n    const classNameMapper = layout.getClassName;\r\n    const currentDocument = triggerElement.ownerDocument;\r\n    const triggerRect = triggerElement.getBoundingClientRect();\r\n    const layoutRect = (_a = layoutDiv === null || layoutDiv === void 0 ? void 0 : layoutDiv.getBoundingClientRect()) !== null && _a !== void 0 ? _a : new DOMRect(0, 0, 100, 100);\r\n    const elm = currentDocument.createElement(\"div\");\r\n    elm.className = classNameMapper(Types_1.CLASSES.FLEXLAYOUT__POPUP_MENU_CONTAINER);\r\n    if (triggerRect.left < layoutRect.left + layoutRect.width / 2) {\r\n        elm.style.left = triggerRect.left - layoutRect.left + \"px\";\r\n    }\r\n    else {\r\n        elm.style.right = layoutRect.right - triggerRect.right + \"px\";\r\n    }\r\n    if (triggerRect.top < layoutRect.top + layoutRect.height / 2) {\r\n        elm.style.top = triggerRect.top - layoutRect.top + \"px\";\r\n    }\r\n    else {\r\n        elm.style.bottom = layoutRect.bottom - triggerRect.bottom + \"px\";\r\n    }\r\n    DragDrop_1.DragDrop.instance.addGlass(() => onHide());\r\n    DragDrop_1.DragDrop.instance.setGlassCursorOverride(\"default\");\r\n    if (layoutDiv) {\r\n        layoutDiv.appendChild(elm);\r\n    }\r\n    const onHide = () => {\r\n        layout.hidePortal();\r\n        DragDrop_1.DragDrop.instance.hideGlass();\r\n        if (layoutDiv) {\r\n            layoutDiv.removeChild(elm);\r\n        }\r\n        elm.removeEventListener(\"mousedown\", onElementMouseDown);\r\n        currentDocument.removeEventListener(\"mousedown\", onDocMouseDown);\r\n    };\r\n    const onElementMouseDown = (event) => {\r\n        event.stopPropagation();\r\n    };\r\n    const onDocMouseDown = (_event) => {\r\n        onHide();\r\n    };\r\n    elm.addEventListener(\"mousedown\", onElementMouseDown);\r\n    currentDocument.addEventListener(\"mousedown\", onDocMouseDown);\r\n    layout.showPortal(React.createElement(PopupMenu, { currentDocument: currentDocument, onSelect: onSelect, onHide: onHide, items: items, classNameMapper: classNameMapper, layout: layout, iconFactory: iconFactory, titleFactory: titleFactory }), elm);\r\n}\r\nexports.showPopup = showPopup;\r\n/** @internal */\r\nconst PopupMenu = (props) => {\r\n    const { items, onHide, onSelect, classNameMapper, layout, iconFactory, titleFactory } = props;\r\n    const onItemClick = (item, event) => {\r\n        onSelect(item);\r\n        onHide();\r\n        event.stopPropagation();\r\n    };\r\n    const itemElements = items.map((item, i) => (React.createElement(\"div\", { key: item.index, className: classNameMapper(Types_1.CLASSES.FLEXLAYOUT__POPUP_MENU_ITEM), \"data-layout-path\": \"/popup-menu/tb\" + i, onClick: (event) => onItemClick(item, event), title: item.node.getHelpText() }, item.node.getModel().isLegacyOverflowMenu() ?\r\n        item.node._getNameForOverflowMenu() :\r\n        React.createElement(TabButtonStamp_1.TabButtonStamp, { node: item.node, layout: layout, iconFactory: iconFactory, titleFactory: titleFactory }))));\r\n    return (React.createElement(\"div\", { className: classNameMapper(Types_1.CLASSES.FLEXLAYOUT__POPUP_MENU), \"data-layout-path\": \"/popup-menu\" }, itemElements));\r\n};\r\n//# sourceMappingURL=PopupMenu.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.useTabOverflow = void 0;\r\nconst React = require(\"react\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst TabSetNode_1 = require(\"../model/TabSetNode\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\n/** @internal */\r\nconst useTabOverflow = (node, orientation, toolbarRef, stickyButtonsRef) => {\r\n    const firstRender = React.useRef(true);\r\n    const tabsTruncated = React.useRef(false);\r\n    const lastRect = React.useRef(new Rect_1.Rect(0, 0, 0, 0));\r\n    const selfRef = React.useRef(null);\r\n    const [position, setPosition] = React.useState(0);\r\n    const userControlledLeft = React.useRef(false);\r\n    const [hiddenTabs, setHiddenTabs] = React.useState([]);\r\n    const lastHiddenCount = React.useRef(0);\r\n    // if selected node or tabset/border rectangle change then unset usercontrolled (so selected tab will be kept in view)\r\n    React.useLayoutEffect(() => {\r\n        userControlledLeft.current = false;\r\n    }, [node.getSelectedNode(), node.getRect().width, node.getRect().height]);\r\n    React.useLayoutEffect(() => {\r\n        updateVisibleTabs();\r\n    });\r\n    const instance = selfRef.current;\r\n    React.useEffect(() => {\r\n        if (!instance) {\r\n            return;\r\n        }\r\n        instance.addEventListener(\"wheel\", onWheel, { passive: false });\r\n        return () => {\r\n            instance.removeEventListener(\"wheel\", onWheel);\r\n        };\r\n    }, [instance]);\r\n    // needed to prevent default mouse wheel over tabset/border (cannot do with react event?)\r\n    const onWheel = (event) => {\r\n        event.preventDefault();\r\n    };\r\n    const getNear = (rect) => {\r\n        if (orientation === Orientation_1.Orientation.HORZ) {\r\n            return rect.x;\r\n        }\r\n        else {\r\n            return rect.y;\r\n        }\r\n    };\r\n    const getFar = (rect) => {\r\n        if (orientation === Orientation_1.Orientation.HORZ) {\r\n            return rect.getRight();\r\n        }\r\n        else {\r\n            return rect.getBottom();\r\n        }\r\n    };\r\n    const getSize = (rect) => {\r\n        if (orientation === Orientation_1.Orientation.HORZ) {\r\n            return rect.width;\r\n        }\r\n        else {\r\n            return rect.height;\r\n        }\r\n    };\r\n    const updateVisibleTabs = () => {\r\n        const tabMargin = 2;\r\n        if (firstRender.current === true) {\r\n            tabsTruncated.current = false;\r\n        }\r\n        const nodeRect = node instanceof TabSetNode_1.TabSetNode ? node.getRect() : node.getTabHeaderRect();\r\n        let lastChild = node.getChildren()[node.getChildren().length - 1];\r\n        const stickyButtonsSize = stickyButtonsRef.current === null ? 0 : getSize(stickyButtonsRef.current.getBoundingClientRect());\r\n        if (firstRender.current === true ||\r\n            (lastHiddenCount.current === 0 && hiddenTabs.length !== 0) ||\r\n            nodeRect.width !== lastRect.current.width || // incase rect changed between first render and second\r\n            nodeRect.height !== lastRect.current.height) {\r\n            lastHiddenCount.current = hiddenTabs.length;\r\n            lastRect.current = nodeRect;\r\n            const enabled = node instanceof TabSetNode_1.TabSetNode ? node.isEnableTabStrip() === true : true;\r\n            let endPos = getFar(nodeRect) - stickyButtonsSize;\r\n            if (toolbarRef.current !== null) {\r\n                endPos -= getSize(toolbarRef.current.getBoundingClientRect());\r\n            }\r\n            if (enabled && node.getChildren().length > 0) {\r\n                if (hiddenTabs.length === 0 && position === 0 && getFar(lastChild.getTabRect()) + tabMargin < endPos) {\r\n                    return; // nothing to do all tabs are shown in available space\r\n                }\r\n                let shiftPos = 0;\r\n                const selectedTab = node.getSelectedNode();\r\n                if (selectedTab && !userControlledLeft.current) {\r\n                    const selectedRect = selectedTab.getTabRect();\r\n                    const selectedStart = getNear(selectedRect) - tabMargin;\r\n                    const selectedEnd = getFar(selectedRect) + tabMargin;\r\n                    // when selected tab is larger than available space then align left\r\n                    if (getSize(selectedRect) + 2 * tabMargin >= endPos - getNear(nodeRect)) {\r\n                        shiftPos = getNear(nodeRect) - selectedStart;\r\n                    }\r\n                    else {\r\n                        if (selectedEnd > endPos || selectedStart < getNear(nodeRect)) {\r\n                            if (selectedStart < getNear(nodeRect)) {\r\n                                shiftPos = getNear(nodeRect) - selectedStart;\r\n                            }\r\n                            // use second if statement to prevent tab moving back then forwards if not enough space for single tab\r\n                            if (selectedEnd + shiftPos > endPos) {\r\n                                shiftPos = endPos - selectedEnd;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                const extraSpace = Math.max(0, endPos - (getFar(lastChild.getTabRect()) + tabMargin + shiftPos));\r\n                const newPosition = Math.min(0, position + shiftPos + extraSpace);\r\n                // find hidden tabs\r\n                const diff = newPosition - position;\r\n                const hidden = [];\r\n                for (let i = 0; i < node.getChildren().length; i++) {\r\n                    const child = node.getChildren()[i];\r\n                    if (getNear(child.getTabRect()) + diff < getNear(nodeRect) || getFar(child.getTabRect()) + diff > endPos) {\r\n                        hidden.push({ node: child, index: i });\r\n                    }\r\n                }\r\n                if (hidden.length > 0) {\r\n                    tabsTruncated.current = true;\r\n                }\r\n                firstRender.current = false; // need to do a second render\r\n                setHiddenTabs(hidden);\r\n                setPosition(newPosition);\r\n            }\r\n        }\r\n        else {\r\n            firstRender.current = true;\r\n        }\r\n    };\r\n    const onMouseWheel = (event) => {\r\n        let delta = 0;\r\n        if (Math.abs(event.deltaX) > Math.abs(event.deltaY)) {\r\n            delta = -event.deltaX;\r\n        }\r\n        else {\r\n            delta = -event.deltaY;\r\n        }\r\n        if (event.deltaMode === 1) {\r\n            // DOM_DELTA_LINE\t0x01\tThe delta values are specified in lines.\r\n            delta *= 40;\r\n        }\r\n        setPosition(position + delta);\r\n        userControlledLeft.current = true;\r\n        event.stopPropagation();\r\n    };\r\n    return { selfRef, position, userControlledLeft, hiddenTabs, onMouseWheel, tabsTruncated: tabsTruncated.current };\r\n};\r\nexports.useTabOverflow = useTabOverflow;\r\n//# sourceMappingURL=TabOverflowHook.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BorderTabSet = void 0;\r\nconst React = require(\"react\");\r\nconst DockLocation_1 = require(\"../DockLocation\");\r\nconst BorderButton_1 = require(\"./BorderButton\");\r\nconst PopupMenu_1 = require(\"../PopupMenu\");\r\nconst Actions_1 = require(\"../model/Actions\");\r\nconst I18nLabel_1 = require(\"../I18nLabel\");\r\nconst TabOverflowHook_1 = require(\"./TabOverflowHook\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Types_1 = require(\"../Types\");\r\nconst Utils_1 = require(\"./Utils\");\r\n/** @internal */\r\nconst BorderTabSet = (props) => {\r\n    const { border, layout, iconFactory, titleFactory, icons, path } = props;\r\n    const toolbarRef = React.useRef(null);\r\n    const overflowbuttonRef = React.useRef(null);\r\n    const stickyButtonsRef = React.useRef(null);\r\n    const { selfRef, position, userControlledLeft, hiddenTabs, onMouseWheel, tabsTruncated } = (0, TabOverflowHook_1.useTabOverflow)(border, Orientation_1.Orientation.flip(border.getOrientation()), toolbarRef, stickyButtonsRef);\r\n    const onAuxMouseClick = (event) => {\r\n        if ((0, Utils_1.isAuxMouseEvent)(event)) {\r\n            layout.auxMouseClick(border, event);\r\n        }\r\n    };\r\n    const onContextMenu = (event) => {\r\n        layout.showContextMenu(border, event);\r\n    };\r\n    const onInterceptMouseDown = (event) => {\r\n        event.stopPropagation();\r\n    };\r\n    const onOverflowClick = (event) => {\r\n        const callback = layout.getShowOverflowMenu();\r\n        if (callback !== undefined) {\r\n            callback(border, event, hiddenTabs, onOverflowItemSelect);\r\n        }\r\n        else {\r\n            const element = overflowbuttonRef.current;\r\n            (0, PopupMenu_1.showPopup)(element, hiddenTabs, onOverflowItemSelect, layout, iconFactory, titleFactory);\r\n        }\r\n        event.stopPropagation();\r\n    };\r\n    const onOverflowItemSelect = (item) => {\r\n        layout.doAction(Actions_1.Actions.selectTab(item.node.getId()));\r\n        userControlledLeft.current = false;\r\n    };\r\n    const onFloatTab = (event) => {\r\n        const selectedTabNode = border.getChildren()[border.getSelected()];\r\n        if (selectedTabNode !== undefined) {\r\n            layout.doAction(Actions_1.Actions.floatTab(selectedTabNode.getId()));\r\n        }\r\n        event.stopPropagation();\r\n    };\r\n    const cm = layout.getClassName;\r\n    let style = border.getTabHeaderRect().styleWithPosition({});\r\n    const tabs = [];\r\n    const layoutTab = (i) => {\r\n        let isSelected = border.getSelected() === i;\r\n        let child = border.getChildren()[i];\r\n        tabs.push(React.createElement(BorderButton_1.BorderButton, { layout: layout, border: border.getLocation().getName(), node: child, path: path + \"/tb\" + i, key: child.getId(), selected: isSelected, iconFactory: iconFactory, titleFactory: titleFactory, icons: icons }));\r\n        if (i < border.getChildren().length - 1) {\r\n            tabs.push(React.createElement(\"div\", { key: \"divider\" + i, className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_TAB_DIVIDER) }));\r\n        }\r\n    };\r\n    for (let i = 0; i < border.getChildren().length; i++) {\r\n        layoutTab(i);\r\n    }\r\n    let borderClasses = cm(Types_1.CLASSES.FLEXLAYOUT__BORDER) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_ + border.getLocation().getName());\r\n    if (border.getClassName() !== undefined) {\r\n        borderClasses += \" \" + border.getClassName();\r\n    }\r\n    // allow customization of tabset right/bottom buttons\r\n    let buttons = [];\r\n    let stickyButtons = [];\r\n    const renderState = { headerContent: undefined, buttons, stickyButtons: stickyButtons, headerButtons: [], overflowPosition: undefined };\r\n    layout.customizeTabSet(border, renderState);\r\n    buttons = renderState.buttons;\r\n    if (renderState.overflowPosition === undefined) {\r\n        renderState.overflowPosition = stickyButtons.length;\r\n    }\r\n    if (stickyButtons.length > 0) {\r\n        if (tabsTruncated) {\r\n            buttons = [...stickyButtons, ...buttons];\r\n        }\r\n        else {\r\n            tabs.push(React.createElement(\"div\", { ref: stickyButtonsRef, key: \"sticky_buttons_container\", onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown, onDragStart: (e) => { e.preventDefault(); }, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER) }, stickyButtons));\r\n        }\r\n    }\r\n    if (hiddenTabs.length > 0) {\r\n        const overflowTitle = layout.i18nName(I18nLabel_1.I18nLabel.Overflow_Menu_Tooltip);\r\n        let overflowContent;\r\n        if (typeof icons.more === \"function\") {\r\n            overflowContent = icons.more(border, hiddenTabs);\r\n        }\r\n        else {\r\n            overflowContent = (React.createElement(React.Fragment, null,\r\n                icons.more,\r\n                React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT) }, hiddenTabs.length)));\r\n        }\r\n        buttons.splice(Math.min(renderState.overflowPosition, buttons.length), 0, React.createElement(\"button\", { key: \"overflowbutton\", ref: overflowbuttonRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_ + border.getLocation().getName()), title: overflowTitle, onClick: onOverflowClick, onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown }, overflowContent));\r\n    }\r\n    const selectedIndex = border.getSelected();\r\n    if (selectedIndex !== -1) {\r\n        const selectedTabNode = border.getChildren()[selectedIndex];\r\n        if (selectedTabNode !== undefined && layout.isSupportsPopout() && selectedTabNode.isEnableFloat() && !selectedTabNode.isFloating()) {\r\n            const floatTitle = layout.i18nName(I18nLabel_1.I18nLabel.Float_Tab);\r\n            buttons.push(React.createElement(\"button\", { key: \"float\", title: floatTitle, className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT), onClick: onFloatTab, onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown }, (typeof icons.popout === \"function\") ? icons.popout(selectedTabNode) : icons.popout));\r\n        }\r\n    }\r\n    const toolbar = (React.createElement(\"div\", { key: \"toolbar\", ref: toolbarRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_ + border.getLocation().getName()) }, buttons));\r\n    style = layout.styleFont(style);\r\n    let innerStyle = {};\r\n    const borderHeight = border.getBorderBarSize() - 1;\r\n    if (border.getLocation() === DockLocation_1.DockLocation.LEFT) {\r\n        innerStyle = { right: borderHeight, height: borderHeight, top: position };\r\n    }\r\n    else if (border.getLocation() === DockLocation_1.DockLocation.RIGHT) {\r\n        innerStyle = { left: borderHeight, height: borderHeight, top: position };\r\n    }\r\n    else {\r\n        innerStyle = { height: borderHeight, left: position };\r\n    }\r\n    return (React.createElement(\"div\", { ref: selfRef, dir: \"ltr\", style: style, className: borderClasses, \"data-layout-path\": path, onClick: onAuxMouseClick, onAuxClick: onAuxMouseClick, onContextMenu: onContextMenu, onWheel: onMouseWheel },\r\n        React.createElement(\"div\", { style: { height: borderHeight }, className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_INNER) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_INNER_ + border.getLocation().getName()) },\r\n            React.createElement(\"div\", { style: innerStyle, className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_ + border.getLocation().getName()) }, tabs)),\r\n        toolbar));\r\n};\r\nexports.BorderTabSet = BorderTabSet;\r\n//# sourceMappingURL=BorderTabSet.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Splitter = void 0;\r\nconst React = require(\"react\");\r\nconst DragDrop_1 = require(\"../DragDrop\");\r\nconst Actions_1 = require(\"../model/Actions\");\r\nconst BorderNode_1 = require(\"../model/BorderNode\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Types_1 = require(\"../Types\");\r\n/** @internal */\r\nconst Splitter = (props) => {\r\n    const { layout, node, path } = props;\r\n    const pBounds = React.useRef([]);\r\n    const outlineDiv = React.useRef(undefined);\r\n    const parentNode = node.getParent();\r\n    const onMouseDown = (event) => {\r\n        var _a;\r\n        DragDrop_1.DragDrop.instance.setGlassCursorOverride(node.getOrientation() === Orientation_1.Orientation.HORZ\r\n            ? \"ns-resize\"\r\n            : \"ew-resize\");\r\n        DragDrop_1.DragDrop.instance.startDrag(event, onDragStart, onDragMove, onDragEnd, onDragCancel, undefined, undefined, layout.getCurrentDocument(), (_a = layout.getRootDiv()) !== null && _a !== void 0 ? _a : undefined);\r\n        pBounds.current = parentNode._getSplitterBounds(node, true);\r\n        const rootdiv = layout.getRootDiv();\r\n        outlineDiv.current = layout.getCurrentDocument().createElement(\"div\");\r\n        outlineDiv.current.style.position = \"absolute\";\r\n        outlineDiv.current.className = layout.getClassName(Types_1.CLASSES.FLEXLAYOUT__SPLITTER_DRAG);\r\n        outlineDiv.current.style.cursor = node.getOrientation() === Orientation_1.Orientation.HORZ ? \"ns-resize\" : \"ew-resize\";\r\n        const r = node.getRect();\r\n        if (node.getOrientation() === Orientation_1.Orientation.VERT && r.width < 2) {\r\n            r.width = 2;\r\n        }\r\n        else if (node.getOrientation() === Orientation_1.Orientation.HORZ && r.height < 2) {\r\n            r.height = 2;\r\n        }\r\n        r.positionElement(outlineDiv.current);\r\n        if (rootdiv) {\r\n            rootdiv.appendChild(outlineDiv.current);\r\n        }\r\n    };\r\n    const onDragCancel = (_wasDragging) => {\r\n        const rootdiv = layout.getRootDiv();\r\n        if (rootdiv) {\r\n            rootdiv.removeChild(outlineDiv.current);\r\n        }\r\n    };\r\n    const onDragStart = () => {\r\n        return true;\r\n    };\r\n    const onDragMove = (event) => {\r\n        const clientRect = layout.getDomRect();\r\n        if (!clientRect) {\r\n            return;\r\n        }\r\n        const pos = {\r\n            x: event.clientX - clientRect.left,\r\n            y: event.clientY - clientRect.top,\r\n        };\r\n        if (outlineDiv) {\r\n            if (node.getOrientation() === Orientation_1.Orientation.HORZ) {\r\n                outlineDiv.current.style.top = getBoundPosition(pos.y - 4) + \"px\";\r\n            }\r\n            else {\r\n                outlineDiv.current.style.left = getBoundPosition(pos.x - 4) + \"px\";\r\n            }\r\n        }\r\n        if (layout.isRealtimeResize()) {\r\n            updateLayout();\r\n        }\r\n    };\r\n    const updateLayout = () => {\r\n        let value = 0;\r\n        if (outlineDiv) {\r\n            if (node.getOrientation() === Orientation_1.Orientation.HORZ) {\r\n                value = outlineDiv.current.offsetTop;\r\n            }\r\n            else {\r\n                value = outlineDiv.current.offsetLeft;\r\n            }\r\n        }\r\n        if (parentNode instanceof BorderNode_1.BorderNode) {\r\n            const pos = parentNode._calculateSplit(node, value);\r\n            layout.doAction(Actions_1.Actions.adjustBorderSplit(node.getParent().getId(), pos));\r\n        }\r\n        else {\r\n            const splitSpec = parentNode._calculateSplit(node, value);\r\n            if (splitSpec !== undefined) {\r\n                layout.doAction(Actions_1.Actions.adjustSplit(splitSpec));\r\n            }\r\n        }\r\n    };\r\n    const onDragEnd = () => {\r\n        updateLayout();\r\n        const rootdiv = layout.getRootDiv();\r\n        if (rootdiv) {\r\n            rootdiv.removeChild(outlineDiv.current);\r\n        }\r\n    };\r\n    const getBoundPosition = (p) => {\r\n        const bounds = pBounds.current;\r\n        let rtn = p;\r\n        if (p < bounds[0]) {\r\n            rtn = bounds[0];\r\n        }\r\n        if (p > bounds[1]) {\r\n            rtn = bounds[1];\r\n        }\r\n        return rtn;\r\n    };\r\n    const cm = layout.getClassName;\r\n    let r = node.getRect();\r\n    const style = r.styleWithPosition({\r\n        cursor: node.getOrientation() === Orientation_1.Orientation.HORZ ? \"ns-resize\" : \"ew-resize\",\r\n    });\r\n    let className = cm(Types_1.CLASSES.FLEXLAYOUT__SPLITTER) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__SPLITTER_ + node.getOrientation().getName());\r\n    if (parentNode instanceof BorderNode_1.BorderNode) {\r\n        className += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__SPLITTER_BORDER);\r\n    }\r\n    else {\r\n        if (node.getModel().getMaximizedTabset() !== undefined) {\r\n            style.display = \"none\";\r\n        }\r\n    }\r\n    const extra = node.getModel().getSplitterExtra();\r\n    if (extra === 0) {\r\n        return (React.createElement(\"div\", { style: style, \"data-layout-path\": path, className: className, onTouchStart: onMouseDown, onMouseDown: onMouseDown }));\r\n    }\r\n    else {\r\n        // add extended transparent div for hit testing\r\n        // extends forward only, so as not to interfere with scrollbars\r\n        let r2 = r.clone();\r\n        r2.x = 0;\r\n        r2.y = 0;\r\n        if (node.getOrientation() === Orientation_1.Orientation.VERT) {\r\n            r2.width += extra;\r\n        }\r\n        else {\r\n            r2.height += extra;\r\n        }\r\n        const style2 = r2.styleWithPosition({\r\n            cursor: node.getOrientation() === Orientation_1.Orientation.HORZ ? \"ns-resize\" : \"ew-resize\"\r\n        });\r\n        const className2 = cm(Types_1.CLASSES.FLEXLAYOUT__SPLITTER_EXTRA);\r\n        return (React.createElement(\"div\", { style: style, \"data-layout-path\": path, className: className },\r\n            React.createElement(\"div\", { style: style2, className: className2, onTouchStart: onMouseDown, onMouseDown: onMouseDown })));\r\n    }\r\n};\r\nexports.Splitter = Splitter;\r\n//# sourceMappingURL=Splitter.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorBoundary = void 0;\r\nconst React = require(\"react\");\r\nconst Types_1 = require(\"../Types\");\r\n/** @internal */\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n    static getDerivedStateFromError(error) {\r\n        return { hasError: true };\r\n    }\r\n    componentDidCatch(error, errorInfo) {\r\n        console.debug(error);\r\n        console.debug(errorInfo);\r\n    }\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (React.createElement(\"div\", { className: Types_1.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER },\r\n                React.createElement(\"div\", { className: Types_1.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT }, this.props.message)));\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\nexports.ErrorBoundary = ErrorBoundary;\r\n//# sourceMappingURL=ErrorBoundary.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Tab = void 0;\r\nconst React = require(\"react\");\r\nconst react_1 = require(\"react\");\r\nconst Actions_1 = require(\"../model/Actions\");\r\nconst TabSetNode_1 = require(\"../model/TabSetNode\");\r\nconst Types_1 = require(\"../Types\");\r\nconst ErrorBoundary_1 = require(\"./ErrorBoundary\");\r\nconst I18nLabel_1 = require(\"../I18nLabel\");\r\nconst BorderNode_1 = require(\"../model/BorderNode\");\r\nconst Utils_1 = require(\"./Utils\");\r\n/** @internal */\r\nconst Tab = (props) => {\r\n    const { layout, selected, node, factory, path } = props;\r\n    const [renderComponent, setRenderComponent] = React.useState(!props.node.isEnableRenderOnDemand() || props.selected);\r\n    React.useLayoutEffect(() => {\r\n        if (!renderComponent && selected) {\r\n            // load on demand\r\n            // console.log(\"load on demand: \" + node.getName());\r\n            setRenderComponent(true);\r\n        }\r\n    });\r\n    const onMouseDown = () => {\r\n        const parent = node.getParent();\r\n        if (parent.getType() === TabSetNode_1.TabSetNode.TYPE) {\r\n            if (!parent.isActive()) {\r\n                layout.doAction(Actions_1.Actions.setActiveTabset(parent.getId()));\r\n            }\r\n        }\r\n    };\r\n    const cm = layout.getClassName;\r\n    const useVisibility = node.getModel().isUseVisibility();\r\n    const parentNode = node.getParent();\r\n    const style = node._styleWithPosition();\r\n    if (!selected) {\r\n        (0, Utils_1.hideElement)(style, useVisibility);\r\n    }\r\n    if (parentNode instanceof TabSetNode_1.TabSetNode) {\r\n        if (node.getModel().getMaximizedTabset() !== undefined && !parentNode.isMaximized()) {\r\n            (0, Utils_1.hideElement)(style, useVisibility);\r\n        }\r\n    }\r\n    let child;\r\n    if (renderComponent) {\r\n        child = factory(node);\r\n    }\r\n    let className = cm(Types_1.CLASSES.FLEXLAYOUT__TAB);\r\n    if (parentNode instanceof BorderNode_1.BorderNode) {\r\n        className += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BORDER);\r\n        className += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BORDER_ + parentNode.getLocation().getName());\r\n    }\r\n    if (node.getContentClassName() !== undefined) {\r\n        className += \" \" + node.getContentClassName();\r\n    }\r\n    return (React.createElement(\"div\", { className: className, \"data-layout-path\": path, onMouseDown: onMouseDown, onTouchStart: onMouseDown, style: style },\r\n        React.createElement(ErrorBoundary_1.ErrorBoundary, { message: props.layout.i18nName(I18nLabel_1.I18nLabel.Error_rendering_component) },\r\n            React.createElement(react_1.Fragment, null, child))));\r\n};\r\nexports.Tab = Tab;\r\n//# sourceMappingURL=Tab.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TabButton = void 0;\r\nconst React = require(\"react\");\r\nconst I18nLabel_1 = require(\"../I18nLabel\");\r\nconst Actions_1 = require(\"../model/Actions\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst ICloseType_1 = require(\"../model/ICloseType\");\r\nconst Types_1 = require(\"../Types\");\r\nconst Utils_1 = require(\"./Utils\");\r\n/** @internal */\r\nconst TabButton = (props) => {\r\n    const { layout, node, selected, iconFactory, titleFactory, icons, path } = props;\r\n    const selfRef = React.useRef(null);\r\n    const contentRef = React.useRef(null);\r\n    const onMouseDown = (event) => {\r\n        if (!(0, Utils_1.isAuxMouseEvent)(event) && !layout.getEditingTab()) {\r\n            layout.dragStart(event, undefined, node, node.isEnableDrag(), onClick, onDoubleClick);\r\n        }\r\n    };\r\n    const onAuxMouseClick = (event) => {\r\n        if ((0, Utils_1.isAuxMouseEvent)(event)) {\r\n            layout.auxMouseClick(node, event);\r\n        }\r\n    };\r\n    const onContextMenu = (event) => {\r\n        layout.showContextMenu(node, event);\r\n    };\r\n    const onClick = () => {\r\n        layout.doAction(Actions_1.Actions.selectTab(node.getId()));\r\n    };\r\n    const onDoubleClick = (event) => {\r\n        if (node.isEnableRename()) {\r\n            onRename();\r\n        }\r\n    };\r\n    const onRename = () => {\r\n        layout.setEditingTab(node);\r\n        layout.getCurrentDocument().body.addEventListener(\"mousedown\", onEndEdit);\r\n        layout.getCurrentDocument().body.addEventListener(\"touchstart\", onEndEdit);\r\n    };\r\n    const onEndEdit = (event) => {\r\n        if (event.target !== contentRef.current) {\r\n            layout.getCurrentDocument().body.removeEventListener(\"mousedown\", onEndEdit);\r\n            layout.getCurrentDocument().body.removeEventListener(\"touchstart\", onEndEdit);\r\n            layout.setEditingTab(undefined);\r\n        }\r\n    };\r\n    const isClosable = () => {\r\n        const closeType = node.getCloseType();\r\n        if (selected || closeType === ICloseType_1.ICloseType.Always) {\r\n            return true;\r\n        }\r\n        if (closeType === ICloseType_1.ICloseType.Visible) {\r\n            // not selected but x should be visible due to hover\r\n            if (window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    const onClose = (event) => {\r\n        if (isClosable()) {\r\n            layout.doAction(Actions_1.Actions.deleteTab(node.getId()));\r\n        }\r\n        else {\r\n            onClick();\r\n        }\r\n    };\r\n    const onCloseMouseDown = (event) => {\r\n        event.stopPropagation();\r\n    };\r\n    React.useLayoutEffect(() => {\r\n        updateRect();\r\n        if (layout.getEditingTab() === node) {\r\n            contentRef.current.select();\r\n        }\r\n    });\r\n    const updateRect = () => {\r\n        var _a;\r\n        // record position of tab in node\r\n        const layoutRect = layout.getDomRect();\r\n        const r = (_a = selfRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\r\n        if (r && layoutRect) {\r\n            node._setTabRect(new Rect_1.Rect(r.left - layoutRect.left, r.top - layoutRect.top, r.width, r.height));\r\n        }\r\n    };\r\n    const onTextBoxMouseDown = (event) => {\r\n        // console.log(\"onTextBoxMouseDown\");\r\n        event.stopPropagation();\r\n    };\r\n    const onTextBoxKeyPress = (event) => {\r\n        if (event.code === 'Escape') {\r\n            // esc\r\n            layout.setEditingTab(undefined);\r\n        }\r\n        else if (event.code === 'Enter') {\r\n            // enter\r\n            layout.setEditingTab(undefined);\r\n            layout.doAction(Actions_1.Actions.renameTab(node.getId(), event.target.value));\r\n        }\r\n    };\r\n    const cm = layout.getClassName;\r\n    const parentNode = node.getParent();\r\n    const isStretch = parentNode.isEnableSingleTabStretch() && parentNode.getChildren().length === 1;\r\n    let baseClassName = isStretch ? Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_STRETCH : Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON;\r\n    let classNames = cm(baseClassName);\r\n    classNames += \" \" + cm(baseClassName + \"_\" + parentNode.getTabLocation());\r\n    if (!isStretch) {\r\n        if (selected) {\r\n            classNames += \" \" + cm(baseClassName + \"--selected\");\r\n        }\r\n        else {\r\n            classNames += \" \" + cm(baseClassName + \"--unselected\");\r\n        }\r\n    }\r\n    if (node.getClassName() !== undefined) {\r\n        classNames += \" \" + node.getClassName();\r\n    }\r\n    const renderState = (0, Utils_1.getRenderStateEx)(layout, node, iconFactory, titleFactory);\r\n    let content = renderState.content ? (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT) }, renderState.content)) : null;\r\n    const leading = renderState.leading ? (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING) }, renderState.leading)) : null;\r\n    if (layout.getEditingTab() === node) {\r\n        content = (React.createElement(\"input\", { ref: contentRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX), \"data-layout-path\": path + \"/textbox\", type: \"text\", autoFocus: true, defaultValue: node.getName(), onKeyDown: onTextBoxKeyPress, onMouseDown: onTextBoxMouseDown, onTouchStart: onTextBoxMouseDown }));\r\n    }\r\n    if (node.isEnableClose() && !isStretch) {\r\n        const closeTitle = layout.i18nName(I18nLabel_1.I18nLabel.Close_Tab);\r\n        renderState.buttons.push(React.createElement(\"div\", { key: \"close\", \"data-layout-path\": path + \"/button/close\", title: closeTitle, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_TRAILING), onMouseDown: onCloseMouseDown, onClick: onClose, onTouchStart: onCloseMouseDown }, (typeof icons.close === \"function\") ? icons.close(node) : icons.close));\r\n    }\r\n    return (React.createElement(\"div\", { ref: selfRef, \"data-layout-path\": path, className: classNames, onMouseDown: onMouseDown, onClick: onAuxMouseClick, onAuxClick: onAuxMouseClick, onContextMenu: onContextMenu, onTouchStart: onMouseDown, title: node.getHelpText() },\r\n        leading,\r\n        content,\r\n        renderState.buttons));\r\n};\r\nexports.TabButton = TabButton;\r\n//# sourceMappingURL=TabButton.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TabSet = void 0;\r\nconst React = require(\"react\");\r\nconst I18nLabel_1 = require(\"../I18nLabel\");\r\nconst Actions_1 = require(\"../model/Actions\");\r\nconst PopupMenu_1 = require(\"../PopupMenu\");\r\nconst TabButton_1 = require(\"./TabButton\");\r\nconst TabOverflowHook_1 = require(\"./TabOverflowHook\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Types_1 = require(\"../Types\");\r\nconst Utils_1 = require(\"./Utils\");\r\n/** @internal */\r\nconst TabSet = (props) => {\r\n    const { node, layout, iconFactory, titleFactory, icons, path } = props;\r\n    const toolbarRef = React.useRef(null);\r\n    const overflowbuttonRef = React.useRef(null);\r\n    const tabbarInnerRef = React.useRef(null);\r\n    const stickyButtonsRef = React.useRef(null);\r\n    const { selfRef, position, userControlledLeft, hiddenTabs, onMouseWheel, tabsTruncated } = (0, TabOverflowHook_1.useTabOverflow)(node, Orientation_1.Orientation.HORZ, toolbarRef, stickyButtonsRef);\r\n    const onOverflowClick = (event) => {\r\n        const callback = layout.getShowOverflowMenu();\r\n        if (callback !== undefined) {\r\n            callback(node, event, hiddenTabs, onOverflowItemSelect);\r\n        }\r\n        else {\r\n            const element = overflowbuttonRef.current;\r\n            (0, PopupMenu_1.showPopup)(element, hiddenTabs, onOverflowItemSelect, layout, iconFactory, titleFactory);\r\n        }\r\n        event.stopPropagation();\r\n    };\r\n    const onOverflowItemSelect = (item) => {\r\n        layout.doAction(Actions_1.Actions.selectTab(item.node.getId()));\r\n        userControlledLeft.current = false;\r\n    };\r\n    const onMouseDown = (event) => {\r\n        if (!(0, Utils_1.isAuxMouseEvent)(event)) {\r\n            let name = node.getName();\r\n            if (name === undefined) {\r\n                name = \"\";\r\n            }\r\n            else {\r\n                name = \": \" + name;\r\n            }\r\n            layout.doAction(Actions_1.Actions.setActiveTabset(node.getId()));\r\n            if (!layout.getEditingTab()) {\r\n                const message = layout.i18nName(I18nLabel_1.I18nLabel.Move_Tabset, name);\r\n                if (node.getModel().getMaximizedTabset() !== undefined) {\r\n                    layout.dragStart(event, message, node, false, (event2) => undefined, onDoubleClick);\r\n                }\r\n                else {\r\n                    layout.dragStart(event, message, node, node.isEnableDrag(), (event2) => undefined, onDoubleClick);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const onAuxMouseClick = (event) => {\r\n        if ((0, Utils_1.isAuxMouseEvent)(event)) {\r\n            layout.auxMouseClick(node, event);\r\n        }\r\n    };\r\n    const onContextMenu = (event) => {\r\n        layout.showContextMenu(node, event);\r\n    };\r\n    const onInterceptMouseDown = (event) => {\r\n        event.stopPropagation();\r\n    };\r\n    const onMaximizeToggle = (event) => {\r\n        if (node.canMaximize()) {\r\n            layout.maximize(node);\r\n        }\r\n        event.stopPropagation();\r\n    };\r\n    const onClose = (event) => {\r\n        layout.doAction(Actions_1.Actions.deleteTabset(node.getId()));\r\n        event.stopPropagation();\r\n    };\r\n    const onCloseTab = (event) => {\r\n        layout.doAction(Actions_1.Actions.deleteTab(node.getChildren()[0].getId()));\r\n        event.stopPropagation();\r\n    };\r\n    const onFloatTab = (event) => {\r\n        if (selectedTabNode !== undefined) {\r\n            layout.doAction(Actions_1.Actions.floatTab(selectedTabNode.getId()));\r\n        }\r\n        event.stopPropagation();\r\n    };\r\n    const onDoubleClick = (event) => {\r\n        if (node.canMaximize()) {\r\n            layout.maximize(node);\r\n        }\r\n    };\r\n    // Start Render\r\n    const cm = layout.getClassName;\r\n    // tabbar inner can get shifted left via tab rename, this resets scrollleft to 0\r\n    if (tabbarInnerRef.current !== null && tabbarInnerRef.current.scrollLeft !== 0) {\r\n        tabbarInnerRef.current.scrollLeft = 0;\r\n    }\r\n    const selectedTabNode = node.getSelectedNode();\r\n    let style = node._styleWithPosition();\r\n    if (node.getModel().getMaximizedTabset() !== undefined && !node.isMaximized()) {\r\n        (0, Utils_1.hideElement)(style, node.getModel().isUseVisibility());\r\n    }\r\n    const tabs = [];\r\n    if (node.isEnableTabStrip()) {\r\n        for (let i = 0; i < node.getChildren().length; i++) {\r\n            const child = node.getChildren()[i];\r\n            let isSelected = node.getSelected() === i;\r\n            tabs.push(React.createElement(TabButton_1.TabButton, { layout: layout, node: child, path: path + \"/tb\" + i, key: child.getId(), selected: isSelected, iconFactory: iconFactory, titleFactory: titleFactory, icons: icons }));\r\n            if (i < node.getChildren().length - 1) {\r\n                tabs.push(React.createElement(\"div\", { key: \"divider\" + i, className: cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_TAB_DIVIDER) }));\r\n            }\r\n        }\r\n    }\r\n    const showHeader = node.getName() !== undefined;\r\n    let stickyButtons = [];\r\n    let buttons = [];\r\n    let headerButtons = [];\r\n    // allow customization of header contents and buttons\r\n    const renderState = { headerContent: node.getName(), stickyButtons, buttons, headerButtons, overflowPosition: undefined };\r\n    layout.customizeTabSet(node, renderState);\r\n    const headerContent = renderState.headerContent;\r\n    stickyButtons = renderState.stickyButtons;\r\n    buttons = renderState.buttons;\r\n    headerButtons = renderState.headerButtons;\r\n    const isTabStretch = node.isEnableSingleTabStretch() && node.getChildren().length === 1;\r\n    const showClose = (isTabStretch && (node.getChildren()[0].isEnableClose())) || node.isEnableClose();\r\n    if (renderState.overflowPosition === undefined) {\r\n        renderState.overflowPosition = stickyButtons.length;\r\n    }\r\n    if (stickyButtons.length > 0) {\r\n        if (tabsTruncated || isTabStretch) {\r\n            buttons = [...stickyButtons, ...buttons];\r\n        }\r\n        else {\r\n            tabs.push(React.createElement(\"div\", { ref: stickyButtonsRef, key: \"sticky_buttons_container\", onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown, onDragStart: (e) => { e.preventDefault(); }, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER) }, stickyButtons));\r\n        }\r\n    }\r\n    if (hiddenTabs.length > 0) {\r\n        const overflowTitle = layout.i18nName(I18nLabel_1.I18nLabel.Overflow_Menu_Tooltip);\r\n        let overflowContent;\r\n        if (typeof icons.more === \"function\") {\r\n            overflowContent = icons.more(node, hiddenTabs);\r\n        }\r\n        else {\r\n            overflowContent = (React.createElement(React.Fragment, null,\r\n                icons.more,\r\n                React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT) }, hiddenTabs.length)));\r\n        }\r\n        buttons.splice(Math.min(renderState.overflowPosition, buttons.length), 0, React.createElement(\"button\", { key: \"overflowbutton\", \"data-layout-path\": path + \"/button/overflow\", ref: overflowbuttonRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW), title: overflowTitle, onClick: onOverflowClick, onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown }, overflowContent));\r\n    }\r\n    if (selectedTabNode !== undefined && layout.isSupportsPopout() && selectedTabNode.isEnableFloat() && !selectedTabNode.isFloating()) {\r\n        const floatTitle = layout.i18nName(I18nLabel_1.I18nLabel.Float_Tab);\r\n        buttons.push(React.createElement(\"button\", { key: \"float\", \"data-layout-path\": path + \"/button/float\", title: floatTitle, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT), onClick: onFloatTab, onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown }, (typeof icons.popout === \"function\") ? icons.popout(selectedTabNode) : icons.popout));\r\n    }\r\n    if (node.canMaximize()) {\r\n        const minTitle = layout.i18nName(I18nLabel_1.I18nLabel.Restore);\r\n        const maxTitle = layout.i18nName(I18nLabel_1.I18nLabel.Maximize);\r\n        const btns = showHeader ? headerButtons : buttons;\r\n        btns.push(React.createElement(\"button\", { key: \"max\", \"data-layout-path\": path + \"/button/max\", title: node.isMaximized() ? minTitle : maxTitle, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_ + (node.isMaximized() ? \"max\" : \"min\")), onClick: onMaximizeToggle, onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown }, node.isMaximized() ?\r\n            (typeof icons.restore === \"function\") ? icons.restore(node) : icons.restore :\r\n            (typeof icons.maximize === \"function\") ? icons.maximize(node) : icons.maximize));\r\n    }\r\n    if (!node.isMaximized() && showClose) {\r\n        const title = isTabStretch ? layout.i18nName(I18nLabel_1.I18nLabel.Close_Tab) : layout.i18nName(I18nLabel_1.I18nLabel.Close_Tabset);\r\n        const btns = showHeader ? headerButtons : buttons;\r\n        btns.push(React.createElement(\"button\", { key: \"close\", \"data-layout-path\": path + \"/button/close\", title: title, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE), onClick: isTabStretch ? onCloseTab : onClose, onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown }, (typeof icons.closeTabset === \"function\") ? icons.closeTabset(node) : icons.closeTabset));\r\n    }\r\n    const toolbar = (React.createElement(\"div\", { key: \"toolbar\", ref: toolbarRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR), onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown, onDragStart: (e) => { e.preventDefault(); } }, buttons));\r\n    let header;\r\n    let tabStrip;\r\n    let tabStripClasses = cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER);\r\n    if (node.getClassNameTabStrip() !== undefined) {\r\n        tabStripClasses += \" \" + node.getClassNameTabStrip();\r\n    }\r\n    tabStripClasses += \" \" + Types_1.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER_ + node.getTabLocation();\r\n    if (node.isActive() && !showHeader) {\r\n        tabStripClasses += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_SELECTED);\r\n    }\r\n    if (node.isMaximized() && !showHeader) {\r\n        tabStripClasses += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED);\r\n    }\r\n    if (isTabStretch) {\r\n        const tabNode = node.getChildren()[0];\r\n        if (tabNode.getTabSetClassName() !== undefined) {\r\n            tabStripClasses += \" \" + tabNode.getTabSetClassName();\r\n        }\r\n    }\r\n    if (showHeader) {\r\n        const headerToolbar = (React.createElement(\"div\", { key: \"toolbar\", ref: toolbarRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_TOOLBAR), onMouseDown: onInterceptMouseDown, onTouchStart: onInterceptMouseDown, onDragStart: (e) => { e.preventDefault(); } }, headerButtons));\r\n        let tabHeaderClasses = cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_HEADER);\r\n        if (node.isActive()) {\r\n            tabHeaderClasses += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_SELECTED);\r\n        }\r\n        if (node.isMaximized()) {\r\n            tabHeaderClasses += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED);\r\n        }\r\n        if (node.getClassNameHeader() !== undefined) {\r\n            tabHeaderClasses += \" \" + node.getClassNameHeader();\r\n        }\r\n        header = (React.createElement(\"div\", { className: tabHeaderClasses, style: { height: node.getHeaderHeight() + \"px\" }, \"data-layout-path\": path + \"/header\", onMouseDown: onMouseDown, onContextMenu: onContextMenu, onClick: onAuxMouseClick, onAuxClick: onAuxMouseClick, onTouchStart: onMouseDown },\r\n            React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_HEADER_CONTENT) }, headerContent),\r\n            headerToolbar));\r\n    }\r\n    const tabStripStyle = { height: node.getTabStripHeight() + \"px\" };\r\n    tabStrip = (React.createElement(\"div\", { className: tabStripClasses, style: tabStripStyle, \"data-layout-path\": path + \"/tabstrip\", onMouseDown: onMouseDown, onContextMenu: onContextMenu, onClick: onAuxMouseClick, onAuxClick: onAuxMouseClick, onTouchStart: onMouseDown },\r\n        React.createElement(\"div\", { ref: tabbarInnerRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_ + node.getTabLocation()) },\r\n            React.createElement(\"div\", { style: { left: position, width: (isTabStretch ? \"100%\" : \"10000px\") }, className: cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_ + node.getTabLocation()) }, tabs)),\r\n        toolbar));\r\n    style = layout.styleFont(style);\r\n    var placeHolder = undefined;\r\n    if (node.getChildren().length === 0) {\r\n        const placeHolderCallback = layout.getTabSetPlaceHolderCallback();\r\n        if (placeHolderCallback) {\r\n            placeHolder = placeHolderCallback(node);\r\n        }\r\n    }\r\n    const center = React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TABSET_CONTENT) }, placeHolder);\r\n    var content;\r\n    if (node.getTabLocation() === \"top\") {\r\n        content = React.createElement(React.Fragment, null,\r\n            header,\r\n            tabStrip,\r\n            center);\r\n    }\r\n    else {\r\n        content = React.createElement(React.Fragment, null,\r\n            header,\r\n            center,\r\n            tabStrip);\r\n    }\r\n    return (React.createElement(\"div\", { ref: selfRef, dir: \"ltr\", \"data-layout-path\": path, style: style, className: cm(Types_1.CLASSES.FLEXLAYOUT__TABSET), onWheel: onMouseWheel }, content));\r\n};\r\nexports.TabSet = TabSet;\r\n//# sourceMappingURL=TabSet.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FloatingWindow = void 0;\r\nconst React = require(\"react\");\r\nconst react_dom_1 = require(\"react-dom\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst Types_1 = require(\"../Types\");\r\n/** @internal */\r\nconst FloatingWindow = (props) => {\r\n    const { title, id, url, rect, onCloseWindow, onSetWindow, children } = props;\r\n    const popoutWindow = React.useRef(null);\r\n    const timerId = React.useRef(null);\r\n    const [content, setContent] = React.useState(undefined);\r\n    React.useLayoutEffect(() => {\r\n        if (timerId.current) {\r\n            clearTimeout(timerId.current);\r\n        }\r\n        let isMounted = true;\r\n        const r = rect || new Rect_1.Rect(0, 0, 100, 100);\r\n        // Make a local copy of the styles from the current window which will be passed into\r\n        // the floating window. window.document.styleSheets is mutable and we can't guarantee\r\n        // the styles will exist when 'popoutWindow.load' is called below.\r\n        const styles = Array.from(window.document.styleSheets).reduce((result, styleSheet) => {\r\n            let rules = undefined;\r\n            try {\r\n                rules = styleSheet.cssRules;\r\n            }\r\n            catch (e) {\r\n                // styleSheet.cssRules can throw security exception\r\n            }\r\n            try {\r\n                return [\r\n                    ...result,\r\n                    {\r\n                        href: styleSheet.href,\r\n                        type: styleSheet.type,\r\n                        rules: rules ? Array.from(rules).map(rule => rule.cssText) : null,\r\n                    }\r\n                ];\r\n            }\r\n            catch (e) {\r\n                return result;\r\n            }\r\n        }, []);\r\n        popoutWindow.current = window.open(url, id, `left=${r.x},top=${r.y},width=${r.width},height=${r.height}`);\r\n        if (popoutWindow.current !== null) {\r\n            onSetWindow(id, popoutWindow.current);\r\n            // listen for parent unloading to remove all popouts\r\n            window.addEventListener(\"beforeunload\", () => {\r\n                if (popoutWindow.current) {\r\n                    popoutWindow.current.close();\r\n                    popoutWindow.current = null;\r\n                }\r\n            });\r\n            popoutWindow.current.addEventListener(\"load\", () => {\r\n                if (isMounted) {\r\n                    const popoutDocument = popoutWindow.current.document;\r\n                    popoutDocument.title = title;\r\n                    const popoutContent = popoutDocument.createElement(\"div\");\r\n                    popoutContent.className = Types_1.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_CONTENT;\r\n                    popoutDocument.body.appendChild(popoutContent);\r\n                    copyStyles(popoutDocument, styles).then(() => {\r\n                        setContent(popoutContent);\r\n                    });\r\n                    // listen for popout unloading (needs to be after load for safari)\r\n                    popoutWindow.current.addEventListener(\"beforeunload\", () => {\r\n                        onCloseWindow(id);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            console.warn(`Unable to open window ${url}`);\r\n            onCloseWindow(id);\r\n        }\r\n        return () => {\r\n            isMounted = false;\r\n            // delay so refresh will close window\r\n            timerId.current = setTimeout(() => {\r\n                if (popoutWindow.current) {\r\n                    popoutWindow.current.close();\r\n                    popoutWindow.current = null;\r\n                }\r\n            }, 0);\r\n        };\r\n    }, []);\r\n    if (content !== undefined) {\r\n        return (0, react_dom_1.createPortal)(children, content);\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nexports.FloatingWindow = FloatingWindow;\r\n/** @internal */\r\nfunction copyStyles(doc, styleSheets) {\r\n    const head = doc.head;\r\n    const promises = [];\r\n    for (const styleSheet of styleSheets) {\r\n        if (styleSheet.href) {\r\n            // prefer links since they will keep paths to images etc\r\n            const styleElement = doc.createElement(\"link\");\r\n            styleElement.type = styleSheet.type;\r\n            styleElement.rel = \"stylesheet\";\r\n            styleElement.href = styleSheet.href;\r\n            head.appendChild(styleElement);\r\n            promises.push(new Promise((resolve) => {\r\n                styleElement.onload = () => resolve(true);\r\n            }));\r\n        }\r\n        else {\r\n            if (styleSheet.rules) {\r\n                const style = doc.createElement(\"style\");\r\n                for (const rule of styleSheet.rules) {\r\n                    style.appendChild(doc.createTextNode(rule));\r\n                }\r\n                head.appendChild(style);\r\n            }\r\n        }\r\n    }\r\n    return Promise.all(promises);\r\n}\r\n//# sourceMappingURL=FloatingWindow.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FloatingWindowTab = void 0;\r\nconst React = require(\"react\");\r\nconst ErrorBoundary_1 = require(\"./ErrorBoundary\");\r\nconst I18nLabel_1 = require(\"../I18nLabel\");\r\nconst react_1 = require(\"react\");\r\nconst Types_1 = require(\"../Types\");\r\n/** @internal */\r\nconst FloatingWindowTab = (props) => {\r\n    const { layout, node, factory } = props;\r\n    const cm = layout.getClassName;\r\n    const child = factory(node);\r\n    return (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_TAB) },\r\n        React.createElement(ErrorBoundary_1.ErrorBoundary, { message: props.layout.i18nName(I18nLabel_1.I18nLabel.Error_rendering_component) },\r\n            React.createElement(react_1.Fragment, null, child))));\r\n};\r\nexports.FloatingWindowTab = FloatingWindowTab;\r\n//# sourceMappingURL=FloatingWindowTab.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TabFloating = void 0;\r\nconst React = require(\"react\");\r\nconst Actions_1 = require(\"../model/Actions\");\r\nconst TabSetNode_1 = require(\"../model/TabSetNode\");\r\nconst Types_1 = require(\"../Types\");\r\nconst I18nLabel_1 = require(\"../I18nLabel\");\r\nconst Utils_1 = require(\"./Utils\");\r\n/** @internal */\r\nconst TabFloating = (props) => {\r\n    const { layout, selected, node, path } = props;\r\n    const showPopout = () => {\r\n        if (node.getWindow()) {\r\n            node.getWindow().focus();\r\n        }\r\n    };\r\n    const dockPopout = () => {\r\n        layout.doAction(Actions_1.Actions.unFloatTab(node.getId()));\r\n    };\r\n    const onMouseDown = () => {\r\n        const parent = node.getParent();\r\n        if (parent.getType() === TabSetNode_1.TabSetNode.TYPE) {\r\n            if (!parent.isActive()) {\r\n                layout.doAction(Actions_1.Actions.setActiveTabset(parent.getId()));\r\n            }\r\n        }\r\n    };\r\n    const onClickFocus = (event) => {\r\n        event.preventDefault();\r\n        showPopout();\r\n    };\r\n    const onClickDock = (event) => {\r\n        event.preventDefault();\r\n        dockPopout();\r\n    };\r\n    const cm = layout.getClassName;\r\n    const parentNode = node.getParent();\r\n    const style = node._styleWithPosition();\r\n    if (!selected) {\r\n        (0, Utils_1.hideElement)(style, node.getModel().isUseVisibility());\r\n    }\r\n    if (parentNode instanceof TabSetNode_1.TabSetNode) {\r\n        if (node.getModel().getMaximizedTabset() !== undefined && !parentNode.isMaximized()) {\r\n            (0, Utils_1.hideElement)(style, node.getModel().isUseVisibility());\r\n        }\r\n    }\r\n    const message = layout.i18nName(I18nLabel_1.I18nLabel.Floating_Window_Message);\r\n    const showMessage = layout.i18nName(I18nLabel_1.I18nLabel.Floating_Window_Show_Window);\r\n    const dockMessage = layout.i18nName(I18nLabel_1.I18nLabel.Floating_Window_Dock_Window);\r\n    const customRenderCallback = layout.getOnRenderFloatingTabPlaceholder();\r\n    if (customRenderCallback) {\r\n        return (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_FLOATING), onMouseDown: onMouseDown, onTouchStart: onMouseDown, style: style }, customRenderCallback(dockPopout, showPopout)));\r\n    }\r\n    else {\r\n        return (React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_FLOATING), \"data-layout-path\": path, onMouseDown: onMouseDown, onTouchStart: onMouseDown, style: style },\r\n            React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_FLOATING_INNER) },\r\n                React.createElement(\"div\", null, message),\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"a\", { href: \"#\", onClick: onClickFocus }, showMessage)),\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"a\", { href: \"#\", onClick: onClickDock }, dockMessage)))));\r\n    }\r\n};\r\nexports.TabFloating = TabFloating;\r\n//# sourceMappingURL=TabFloating.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RestoreIcon = exports.PopoutIcon = exports.EdgeIcon = exports.OverflowIcon = exports.MaximizeIcon = exports.CloseIcon = void 0;\r\nconst React = require(\"react\");\r\nconst style = { width: \"1em\", height: \"1em\", display: \"flex\", alignItems: \"center\" };\r\nconst CloseIcon = () => {\r\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style: style, viewBox: \"0 0 24 24\" },\r\n        React.createElement(\"path\", { fill: \"none\", d: \"M0 0h24v24H0z\" }),\r\n        React.createElement(\"path\", { stroke: \"var(--color-icon)\", fill: \"var(--color-icon)\", d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" })));\r\n};\r\nexports.CloseIcon = CloseIcon;\r\nconst MaximizeIcon = () => {\r\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style: style, viewBox: \"0 0 24 24\", fill: \"var(--color-icon)\" },\r\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\r\n        React.createElement(\"path\", { stroke: \"var(--color-icon)\", d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" })));\r\n};\r\nexports.MaximizeIcon = MaximizeIcon;\r\nconst OverflowIcon = () => {\r\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style: style, viewBox: \"0 0 24 24\", fill: \"var(--color-icon)\" },\r\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\r\n        React.createElement(\"path\", { stroke: \"var(--color-icon)\", d: \"M7 10l5 5 5-5z\" })));\r\n};\r\nexports.OverflowIcon = OverflowIcon;\r\nconst EdgeIcon = () => {\r\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style: { display: \"block\", width: 10, height: 10 }, preserveAspectRatio: \"none\", viewBox: \"0 0 100 100\" },\r\n        React.createElement(\"path\", { fill: \"var(--color-edge-icon)\", stroke: \"var(--color-edge-icon)\", d: \"M10 30 L90 30 l-40 40 Z\" })));\r\n};\r\nexports.EdgeIcon = EdgeIcon;\r\nconst PopoutIcon = () => {\r\n    return (\r\n    // <svg xmlns=\"http://www.w3.org/2000/svg\"  style={style}  viewBox=\"0 0 24 24\" fill=\"var(--color-icon)\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path stroke=\"var(--color-icon)\" d=\"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z\"/></svg>\r\n    // <svg xmlns=\"http://www.w3.org/2000/svg\" style={style} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"var(--color-icon)\" stroke-width=\"2\">\r\n    //     <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\r\n    // </svg>\r\n    React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style: style, viewBox: \"0 0 20 20\", fill: \"var(--color-icon)\" },\r\n        React.createElement(\"path\", { d: \"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z\" }),\r\n        React.createElement(\"path\", { d: \"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z\" })));\r\n};\r\nexports.PopoutIcon = PopoutIcon;\r\nconst RestoreIcon = () => {\r\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style: style, viewBox: \"0 0 24 24\", fill: \"var(--color-icon)\" },\r\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\r\n        React.createElement(\"path\", { stroke: \"var(--color-icon)\", d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" })));\r\n};\r\nexports.RestoreIcon = RestoreIcon;\r\n//# sourceMappingURL=Icons.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Layout = void 0;\r\nconst React = require(\"react\");\r\nconst react_dom_1 = require(\"react-dom\");\r\nconst DockLocation_1 = require(\"../DockLocation\");\r\nconst DragDrop_1 = require(\"../DragDrop\");\r\nconst Actions_1 = require(\"../model/Actions\");\r\nconst BorderNode_1 = require(\"../model/BorderNode\");\r\nconst SplitterNode_1 = require(\"../model/SplitterNode\");\r\nconst TabNode_1 = require(\"../model/TabNode\");\r\nconst TabSetNode_1 = require(\"../model/TabSetNode\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst Types_1 = require(\"../Types\");\r\nconst BorderTabSet_1 = require(\"./BorderTabSet\");\r\nconst Splitter_1 = require(\"./Splitter\");\r\nconst Tab_1 = require(\"./Tab\");\r\nconst TabSet_1 = require(\"./TabSet\");\r\nconst FloatingWindow_1 = require(\"./FloatingWindow\");\r\nconst FloatingWindowTab_1 = require(\"./FloatingWindowTab\");\r\nconst TabFloating_1 = require(\"./TabFloating\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Icons_1 = require(\"./Icons\");\r\nconst TabButtonStamp_1 = require(\"./TabButtonStamp\");\r\nconst defaultIcons = {\r\n    close: React.createElement(Icons_1.CloseIcon, null),\r\n    closeTabset: React.createElement(Icons_1.CloseIcon, null),\r\n    popout: React.createElement(Icons_1.PopoutIcon, null),\r\n    maximize: React.createElement(Icons_1.MaximizeIcon, null),\r\n    restore: React.createElement(Icons_1.RestoreIcon, null),\r\n    more: React.createElement(Icons_1.OverflowIcon, null),\r\n    edgeArrow: React.createElement(Icons_1.EdgeIcon, null)\r\n};\r\n// Popout windows work in latest browsers based on webkit (Chrome, Opera, Safari, latest Edge) and Firefox. They do\r\n// not work on any version if IE or the original Edge browser\r\n// Assume any recent desktop browser not IE or original Edge will work\r\n/** @internal */\r\n// @ts-ignore\r\nconst isIEorEdge = typeof window !== \"undefined\" && (window.document.documentMode || /Edge\\//.test(window.navigator.userAgent));\r\n/** @internal */\r\nconst isDesktop = typeof window !== \"undefined\" && window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches;\r\n/** @internal */\r\nconst defaultSupportsPopout = isDesktop && !isIEorEdge;\r\n/**\r\n * A React component that hosts a multi-tabbed layout\r\n */\r\nclass Layout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        /** @internal */\r\n        this.firstMove = false;\r\n        /** @internal */\r\n        this.dragRectRendered = true;\r\n        /** @internal */\r\n        this.dragDivText = undefined;\r\n        /** @internal */\r\n        this.edgeRectLength = 100;\r\n        /** @internal */\r\n        this.edgeRectWidth = 10;\r\n        /** @internal */\r\n        this.onModelChange = (action) => {\r\n            this.forceUpdate();\r\n            if (this.props.onModelChange) {\r\n                this.props.onModelChange(this.props.model, action);\r\n            }\r\n        };\r\n        /** @internal */\r\n        this.updateRect = (domRect) => {\r\n            if (!domRect) {\r\n                domRect = this.getDomRect();\r\n            }\r\n            if (!domRect) {\r\n                // no dom rect available, return.\r\n                return;\r\n            }\r\n            const rect = new Rect_1.Rect(0, 0, domRect.width, domRect.height);\r\n            if (!rect.equals(this.state.rect) && rect.width !== 0 && rect.height !== 0) {\r\n                this.setState({ rect });\r\n            }\r\n        };\r\n        /** @internal */\r\n        this.updateLayoutMetrics = () => {\r\n            if (this.findHeaderBarSizeRef.current) {\r\n                const headerBarSize = this.findHeaderBarSizeRef.current.getBoundingClientRect().height;\r\n                if (headerBarSize !== this.state.calculatedHeaderBarSize) {\r\n                    this.setState({ calculatedHeaderBarSize: headerBarSize });\r\n                }\r\n            }\r\n            if (this.findTabBarSizeRef.current) {\r\n                const tabBarSize = this.findTabBarSizeRef.current.getBoundingClientRect().height;\r\n                if (tabBarSize !== this.state.calculatedTabBarSize) {\r\n                    this.setState({ calculatedTabBarSize: tabBarSize });\r\n                }\r\n            }\r\n            if (this.findBorderBarSizeRef.current) {\r\n                const borderBarSize = this.findBorderBarSizeRef.current.getBoundingClientRect().height;\r\n                if (borderBarSize !== this.state.calculatedBorderBarSize) {\r\n                    this.setState({ calculatedBorderBarSize: borderBarSize });\r\n                }\r\n            }\r\n        };\r\n        /** @internal */\r\n        this.getClassName = (defaultClassName) => {\r\n            if (this.props.classNameMapper === undefined) {\r\n                return defaultClassName;\r\n            }\r\n            else {\r\n                return this.props.classNameMapper(defaultClassName);\r\n            }\r\n        };\r\n        /** @internal */\r\n        this.onCloseWindow = (id) => {\r\n            this.doAction(Actions_1.Actions.unFloatTab(id));\r\n            try {\r\n                this.props.model.getNodeById(id)._setWindow(undefined);\r\n            }\r\n            catch (e) {\r\n                // catch incase it was a model change\r\n            }\r\n        };\r\n        /** @internal */\r\n        this.onSetWindow = (id, window) => {\r\n            this.props.model.getNodeById(id)._setWindow(window);\r\n        };\r\n        /** @internal */\r\n        this.onCancelAdd = () => {\r\n            var _a, _b;\r\n            const rootdiv = this.selfRef.current;\r\n            if (rootdiv && this.dragDiv) {\r\n                rootdiv.removeChild(this.dragDiv);\r\n            }\r\n            this.dragDiv = undefined;\r\n            this.hidePortal();\r\n            if (this.fnNewNodeDropped != null) {\r\n                this.fnNewNodeDropped();\r\n                this.fnNewNodeDropped = undefined;\r\n            }\r\n            try {\r\n                (_b = (_a = this.customDrop) === null || _a === void 0 ? void 0 : _a.invalidated) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n            DragDrop_1.DragDrop.instance.hideGlass();\r\n            this.newTabJson = undefined;\r\n            this.customDrop = undefined;\r\n        };\r\n        /** @internal */\r\n        this.onCancelDrag = (wasDragging) => {\r\n            var _a, _b;\r\n            if (wasDragging) {\r\n                const rootdiv = this.selfRef.current;\r\n                const outlineDiv = this.outlineDiv;\r\n                if (rootdiv && outlineDiv) {\r\n                    try {\r\n                        rootdiv.removeChild(outlineDiv);\r\n                    }\r\n                    catch (e) { }\r\n                }\r\n                const dragDiv = this.dragDiv;\r\n                if (rootdiv && dragDiv) {\r\n                    try {\r\n                        rootdiv.removeChild(dragDiv);\r\n                    }\r\n                    catch (e) { }\r\n                }\r\n                this.dragDiv = undefined;\r\n                this.hidePortal();\r\n                this.setState({ showEdges: false });\r\n                if (this.fnNewNodeDropped != null) {\r\n                    this.fnNewNodeDropped();\r\n                    this.fnNewNodeDropped = undefined;\r\n                }\r\n                try {\r\n                    (_b = (_a = this.customDrop) === null || _a === void 0 ? void 0 : _a.invalidated) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n                }\r\n                catch (e) {\r\n                    console.error(e);\r\n                }\r\n                DragDrop_1.DragDrop.instance.hideGlass();\r\n                this.newTabJson = undefined;\r\n                this.customDrop = undefined;\r\n            }\r\n            this.setState({ showHiddenBorder: DockLocation_1.DockLocation.CENTER });\r\n        };\r\n        /** @internal */\r\n        this.onDragDivMouseDown = (event) => {\r\n            event.preventDefault();\r\n            this.dragStart(event, this.dragDivText, TabNode_1.TabNode._fromJson(this.newTabJson, this.props.model, false), true, undefined, undefined);\r\n        };\r\n        /** @internal */\r\n        this.dragStart = (event, dragDivText, node, allowDrag, onClick, onDoubleClick) => {\r\n            var _a, _b;\r\n            if (!allowDrag) {\r\n                DragDrop_1.DragDrop.instance.startDrag(event, undefined, undefined, undefined, undefined, onClick, onDoubleClick, this.currentDocument, (_a = this.selfRef.current) !== null && _a !== void 0 ? _a : undefined);\r\n            }\r\n            else {\r\n                this.dragNode = node;\r\n                this.dragDivText = dragDivText;\r\n                DragDrop_1.DragDrop.instance.startDrag(event, this.onDragStart, this.onDragMove, this.onDragEnd, this.onCancelDrag, onClick, onDoubleClick, this.currentDocument, (_b = this.selfRef.current) !== null && _b !== void 0 ? _b : undefined);\r\n            }\r\n        };\r\n        /** @internal */\r\n        this.dragRectRender = (text, node, json, onRendered) => {\r\n            let content;\r\n            if (text !== undefined) {\r\n                content = React.createElement(\"div\", { style: { whiteSpace: \"pre\" } }, text.replace(\"<br>\", \"\\n\"));\r\n            }\r\n            else {\r\n                if (node && node instanceof TabNode_1.TabNode) {\r\n                    content = (React.createElement(TabButtonStamp_1.TabButtonStamp, { node: node, layout: this, iconFactory: this.props.iconFactory, titleFactory: this.props.titleFactory }));\r\n                }\r\n            }\r\n            if (this.props.onRenderDragRect !== undefined) {\r\n                const customContent = this.props.onRenderDragRect(content, node, json);\r\n                if (customContent !== undefined) {\r\n                    content = customContent;\r\n                }\r\n            }\r\n            // hide div until the render is complete\r\n            this.dragRectRendered = false;\r\n            const dragDiv = this.dragDiv;\r\n            if (dragDiv) {\r\n                dragDiv.style.visibility = \"hidden\";\r\n                this.showPortal(React.createElement(DragRectRenderWrapper\r\n                // wait for it to be rendered\r\n                , { \r\n                    // wait for it to be rendered\r\n                    onRendered: () => {\r\n                        this.dragRectRendered = true;\r\n                        onRendered === null || onRendered === void 0 ? void 0 : onRendered();\r\n                    } }, content), dragDiv);\r\n            }\r\n        };\r\n        /** @internal */\r\n        this.showPortal = (control, element) => {\r\n            const portal = (0, react_dom_1.createPortal)(control, element);\r\n            this.setState({ portal });\r\n        };\r\n        /** @internal */\r\n        this.hidePortal = () => {\r\n            this.setState({ portal: undefined });\r\n        };\r\n        /** @internal */\r\n        this.onDragStart = () => {\r\n            var _a;\r\n            this.dropInfo = undefined;\r\n            this.customDrop = undefined;\r\n            const rootdiv = this.selfRef.current;\r\n            this.outlineDiv = this.currentDocument.createElement(\"div\");\r\n            this.outlineDiv.className = this.getClassName(Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT);\r\n            this.outlineDiv.style.visibility = \"hidden\";\r\n            if (rootdiv) {\r\n                rootdiv.appendChild(this.outlineDiv);\r\n            }\r\n            if (this.dragDiv == null) {\r\n                this.dragDiv = this.currentDocument.createElement(\"div\");\r\n                this.dragDiv.className = this.getClassName(Types_1.CLASSES.FLEXLAYOUT__DRAG_RECT);\r\n                this.dragDiv.setAttribute(\"data-layout-path\", \"/drag-rectangle\");\r\n                this.dragRectRender(this.dragDivText, this.dragNode, this.newTabJson);\r\n                if (rootdiv) {\r\n                    rootdiv.appendChild(this.dragDiv);\r\n                }\r\n            }\r\n            // add edge indicators\r\n            if (this.props.model.getMaximizedTabset() === undefined) {\r\n                this.setState({ showEdges: this.props.model.isEnableEdgeDock() });\r\n            }\r\n            if (this.dragNode && this.outlineDiv && this.dragNode instanceof TabNode_1.TabNode && this.dragNode.getTabRect() !== undefined) {\r\n                (_a = this.dragNode.getTabRect()) === null || _a === void 0 ? void 0 : _a.positionElement(this.outlineDiv);\r\n            }\r\n            this.firstMove = true;\r\n            return true;\r\n        };\r\n        /** @internal */\r\n        this.onDragMove = (event) => {\r\n            var _a, _b, _c, _d, _e, _f, _g;\r\n            if (this.firstMove === false) {\r\n                const speed = this.props.model._getAttribute(\"tabDragSpeed\");\r\n                if (this.outlineDiv) {\r\n                    this.outlineDiv.style.transition = `top ${speed}s, left ${speed}s, width ${speed}s, height ${speed}s`;\r\n                }\r\n            }\r\n            this.firstMove = false;\r\n            const clientRect = (_a = this.selfRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\r\n            const pos = {\r\n                x: event.clientX - ((_b = clientRect === null || clientRect === void 0 ? void 0 : clientRect.left) !== null && _b !== void 0 ? _b : 0),\r\n                y: event.clientY - ((_c = clientRect === null || clientRect === void 0 ? void 0 : clientRect.top) !== null && _c !== void 0 ? _c : 0),\r\n            };\r\n            this.checkForBorderToShow(pos.x, pos.y);\r\n            // keep it between left & right\r\n            const dragRect = (_e = (_d = this.dragDiv) === null || _d === void 0 ? void 0 : _d.getBoundingClientRect()) !== null && _e !== void 0 ? _e : new DOMRect(0, 0, 100, 100);\r\n            let newLeft = pos.x - dragRect.width / 2;\r\n            if (newLeft + dragRect.width > ((_f = clientRect === null || clientRect === void 0 ? void 0 : clientRect.width) !== null && _f !== void 0 ? _f : 0)) {\r\n                newLeft = ((_g = clientRect === null || clientRect === void 0 ? void 0 : clientRect.width) !== null && _g !== void 0 ? _g : 0) - dragRect.width;\r\n            }\r\n            newLeft = Math.max(0, newLeft);\r\n            if (this.dragDiv) {\r\n                this.dragDiv.style.left = newLeft + \"px\";\r\n                this.dragDiv.style.top = pos.y + 5 + \"px\";\r\n                if (this.dragRectRendered && this.dragDiv.style.visibility === \"hidden\") {\r\n                    // make visible once the drag rect has been rendered\r\n                    this.dragDiv.style.visibility = \"visible\";\r\n                }\r\n            }\r\n            let dropInfo = this.props.model._findDropTargetNode(this.dragNode, pos.x, pos.y);\r\n            if (dropInfo) {\r\n                if (this.props.onTabDrag) {\r\n                    this.handleCustomTabDrag(dropInfo, pos, event);\r\n                }\r\n                else {\r\n                    this.dropInfo = dropInfo;\r\n                    if (this.outlineDiv) {\r\n                        this.outlineDiv.className = this.getClassName(dropInfo.className);\r\n                        dropInfo.rect.positionElement(this.outlineDiv);\r\n                        this.outlineDiv.style.visibility = \"visible\";\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        /** @internal */\r\n        this.onDragEnd = (event) => {\r\n            const rootdiv = this.selfRef.current;\r\n            if (rootdiv) {\r\n                if (this.outlineDiv) {\r\n                    rootdiv.removeChild(this.outlineDiv);\r\n                }\r\n                if (this.dragDiv) {\r\n                    rootdiv.removeChild(this.dragDiv);\r\n                }\r\n            }\r\n            this.dragDiv = undefined;\r\n            this.hidePortal();\r\n            this.setState({ showEdges: false });\r\n            DragDrop_1.DragDrop.instance.hideGlass();\r\n            if (this.dropInfo) {\r\n                if (this.customDrop) {\r\n                    this.newTabJson = undefined;\r\n                    try {\r\n                        const { callback, dragging, over, x, y, location } = this.customDrop;\r\n                        callback(dragging, over, x, y, location);\r\n                        if (this.fnNewNodeDropped != null) {\r\n                            this.fnNewNodeDropped();\r\n                            this.fnNewNodeDropped = undefined;\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        console.error(e);\r\n                    }\r\n                }\r\n                else if (this.newTabJson !== undefined) {\r\n                    const newNode = this.doAction(Actions_1.Actions.addNode(this.newTabJson, this.dropInfo.node.getId(), this.dropInfo.location, this.dropInfo.index));\r\n                    if (this.fnNewNodeDropped != null) {\r\n                        this.fnNewNodeDropped(newNode, event);\r\n                        this.fnNewNodeDropped = undefined;\r\n                    }\r\n                    this.newTabJson = undefined;\r\n                }\r\n                else if (this.dragNode !== undefined) {\r\n                    this.doAction(Actions_1.Actions.moveNode(this.dragNode.getId(), this.dropInfo.node.getId(), this.dropInfo.location, this.dropInfo.index));\r\n                }\r\n            }\r\n            this.setState({ showHiddenBorder: DockLocation_1.DockLocation.CENTER });\r\n        };\r\n        this.props.model._setChangeListener(this.onModelChange);\r\n        this.tabIds = [];\r\n        this.selfRef = React.createRef();\r\n        this.findHeaderBarSizeRef = React.createRef();\r\n        this.findTabBarSizeRef = React.createRef();\r\n        this.findBorderBarSizeRef = React.createRef();\r\n        this.supportsPopout = props.supportsPopout !== undefined ? props.supportsPopout : defaultSupportsPopout;\r\n        this.popoutURL = props.popoutURL ? props.popoutURL : \"popout.html\";\r\n        this.icons = Object.assign(Object.assign({}, defaultIcons), props.icons);\r\n        this.state = {\r\n            rect: new Rect_1.Rect(0, 0, 0, 0),\r\n            calculatedHeaderBarSize: 25,\r\n            calculatedTabBarSize: 26,\r\n            calculatedBorderBarSize: 30,\r\n            editingTab: undefined,\r\n            showHiddenBorder: DockLocation_1.DockLocation.CENTER,\r\n            showEdges: false,\r\n        };\r\n        this.onDragEnter = this.onDragEnter.bind(this);\r\n    }\r\n    /** @internal */\r\n    styleFont(style) {\r\n        if (this.props.font) {\r\n            if (this.selfRef.current) {\r\n                if (this.props.font.size) {\r\n                    this.selfRef.current.style.setProperty(\"--font-size\", this.props.font.size);\r\n                }\r\n                if (this.props.font.family) {\r\n                    this.selfRef.current.style.setProperty(\"--font-family\", this.props.font.family);\r\n                }\r\n            }\r\n            if (this.props.font.style) {\r\n                style.fontStyle = this.props.font.style;\r\n            }\r\n            if (this.props.font.weight) {\r\n                style.fontWeight = this.props.font.weight;\r\n            }\r\n        }\r\n        return style;\r\n    }\r\n    /** @internal */\r\n    doAction(action) {\r\n        if (this.props.onAction !== undefined) {\r\n            const outcome = this.props.onAction(action);\r\n            if (outcome !== undefined) {\r\n                return this.props.model.doAction(outcome);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return this.props.model.doAction(action);\r\n        }\r\n    }\r\n    /** @internal */\r\n    componentDidMount() {\r\n        this.updateRect();\r\n        this.updateLayoutMetrics();\r\n        // need to re-render if size changes\r\n        this.currentDocument = this.selfRef.current.ownerDocument;\r\n        this.currentWindow = this.currentDocument.defaultView;\r\n        this.resizeObserver = new ResizeObserver(entries => {\r\n            this.updateRect(entries[0].contentRect);\r\n        });\r\n        const selfRefCurr = this.selfRef.current;\r\n        if (selfRefCurr) {\r\n            this.resizeObserver.observe(selfRefCurr);\r\n        }\r\n    }\r\n    /** @internal */\r\n    componentDidUpdate() {\r\n        this.updateLayoutMetrics();\r\n        if (this.props.model !== this.previousModel) {\r\n            if (this.previousModel !== undefined) {\r\n                this.previousModel._setChangeListener(undefined); // stop listening to old model\r\n            }\r\n            this.props.model._setChangeListener(this.onModelChange);\r\n            this.previousModel = this.props.model;\r\n        }\r\n        // console.log(\"Layout time: \" + this.layoutTime + \"ms Render time: \" + (Date.now() - this.start) + \"ms\");\r\n    }\r\n    /** @internal */\r\n    getCurrentDocument() {\r\n        return this.currentDocument;\r\n    }\r\n    /** @internal */\r\n    getDomRect() {\r\n        var _a;\r\n        return (_a = this.selfRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\r\n    }\r\n    /** @internal */\r\n    getRootDiv() {\r\n        return this.selfRef.current;\r\n    }\r\n    /** @internal */\r\n    isSupportsPopout() {\r\n        return this.supportsPopout;\r\n    }\r\n    /** @internal */\r\n    isRealtimeResize() {\r\n        var _a;\r\n        return (_a = this.props.realtimeResize) !== null && _a !== void 0 ? _a : false;\r\n    }\r\n    /** @internal */\r\n    onTabDrag(...args) {\r\n        var _a, _b;\r\n        return (_b = (_a = this.props).onTabDrag) === null || _b === void 0 ? void 0 : _b.call(_a, ...args);\r\n    }\r\n    /** @internal */\r\n    getPopoutURL() {\r\n        return this.popoutURL;\r\n    }\r\n    /** @internal */\r\n    componentWillUnmount() {\r\n        var _a;\r\n        const selfRefCurr = this.selfRef.current;\r\n        if (selfRefCurr) {\r\n            (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.unobserve(selfRefCurr);\r\n        }\r\n    }\r\n    /** @internal */\r\n    setEditingTab(tabNode) {\r\n        this.setState({ editingTab: tabNode });\r\n    }\r\n    /** @internal */\r\n    getEditingTab() {\r\n        return this.state.editingTab;\r\n    }\r\n    /** @internal */\r\n    render() {\r\n        // first render will be used to find the size (via selfRef)\r\n        if (!this.selfRef.current) {\r\n            return (React.createElement(\"div\", { ref: this.selfRef, className: this.getClassName(Types_1.CLASSES.FLEXLAYOUT__LAYOUT) }, this.metricsElements()));\r\n        }\r\n        this.props.model._setPointerFine(window && window.matchMedia && window.matchMedia(\"(pointer: fine)\").matches);\r\n        // this.start = Date.now();\r\n        const borderComponents = [];\r\n        const tabSetComponents = [];\r\n        const floatingWindows = [];\r\n        const tabComponents = {};\r\n        const splitterComponents = [];\r\n        const metrics = {\r\n            headerBarSize: this.state.calculatedHeaderBarSize,\r\n            tabBarSize: this.state.calculatedTabBarSize,\r\n            borderBarSize: this.state.calculatedBorderBarSize\r\n        };\r\n        this.props.model._setShowHiddenBorder(this.state.showHiddenBorder);\r\n        this.centerRect = this.props.model._layout(this.state.rect, metrics);\r\n        this.renderBorder(this.props.model.getBorderSet(), borderComponents, tabComponents, floatingWindows, splitterComponents);\r\n        this.renderChildren(\"\", this.props.model.getRoot(), tabSetComponents, tabComponents, floatingWindows, splitterComponents);\r\n        const nextTopIds = [];\r\n        const nextTopIdsMap = {};\r\n        // Keep any previous tabs in the same DOM order as before, removing any that have been deleted\r\n        for (const t of this.tabIds) {\r\n            if (tabComponents[t]) {\r\n                nextTopIds.push(t);\r\n                nextTopIdsMap[t] = t;\r\n            }\r\n        }\r\n        this.tabIds = nextTopIds;\r\n        // Add tabs that have been added to the DOM\r\n        for (const t of Object.keys(tabComponents)) {\r\n            if (!nextTopIdsMap[t]) {\r\n                this.tabIds.push(t);\r\n            }\r\n        }\r\n        const edges = [];\r\n        const arrowIcon = this.icons.edgeArrow;\r\n        if (this.state.showEdges) {\r\n            const r = this.centerRect;\r\n            const length = this.edgeRectLength;\r\n            const width = this.edgeRectWidth;\r\n            const offset = this.edgeRectLength / 2;\r\n            const className = this.getClassName(Types_1.CLASSES.FLEXLAYOUT__EDGE_RECT);\r\n            const radius = 50;\r\n            edges.push(React.createElement(\"div\", { key: \"North\", style: { top: r.y, left: r.x + r.width / 2 - offset, width: length, height: width, borderBottomLeftRadius: radius, borderBottomRightRadius: radius }, className: className + \" \" + this.getClassName(Types_1.CLASSES.FLEXLAYOUT__EDGE_RECT_TOP) },\r\n                React.createElement(\"div\", { style: { transform: \"rotate(180deg)\" } }, arrowIcon)));\r\n            edges.push(React.createElement(\"div\", { key: \"West\", style: { top: r.y + r.height / 2 - offset, left: r.x, width: width, height: length, borderTopRightRadius: radius, borderBottomRightRadius: radius }, className: className + \" \" + this.getClassName(Types_1.CLASSES.FLEXLAYOUT__EDGE_RECT_LEFT) },\r\n                React.createElement(\"div\", { style: { transform: \"rotate(90deg)\" } }, arrowIcon)));\r\n            edges.push(React.createElement(\"div\", { key: \"South\", style: { top: r.y + r.height - width, left: r.x + r.width / 2 - offset, width: length, height: width, borderTopLeftRadius: radius, borderTopRightRadius: radius }, className: className + \" \" + this.getClassName(Types_1.CLASSES.FLEXLAYOUT__EDGE_RECT_BOTTOM) },\r\n                React.createElement(\"div\", null, arrowIcon)));\r\n            edges.push(React.createElement(\"div\", { key: \"East\", style: { top: r.y + r.height / 2 - offset, left: r.x + r.width - width, width: width, height: length, borderTopLeftRadius: radius, borderBottomLeftRadius: radius }, className: className + \" \" + this.getClassName(Types_1.CLASSES.FLEXLAYOUT__EDGE_RECT_RIGHT) },\r\n                React.createElement(\"div\", { style: { transform: \"rotate(-90deg)\" } }, arrowIcon)));\r\n        }\r\n        // this.layoutTime = (Date.now() - this.start);\r\n        return (React.createElement(\"div\", { ref: this.selfRef, className: this.getClassName(Types_1.CLASSES.FLEXLAYOUT__LAYOUT), onDragEnter: this.props.onExternalDrag ? this.onDragEnter : undefined },\r\n            tabSetComponents,\r\n            this.tabIds.map((t) => {\r\n                return tabComponents[t];\r\n            }),\r\n            borderComponents,\r\n            splitterComponents,\r\n            edges,\r\n            floatingWindows,\r\n            this.metricsElements(),\r\n            this.state.portal));\r\n    }\r\n    /** @internal */\r\n    metricsElements() {\r\n        // used to measure the tab and border tab sizes\r\n        const fontStyle = this.styleFont({ visibility: \"hidden\" });\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(\"div\", { key: \"findHeaderBarSize\", ref: this.findHeaderBarSizeRef, style: fontStyle, className: this.getClassName(Types_1.CLASSES.FLEXLAYOUT__TABSET_HEADER_SIZER) }, \"FindHeaderBarSize\"),\r\n            React.createElement(\"div\", { key: \"findTabBarSize\", ref: this.findTabBarSizeRef, style: fontStyle, className: this.getClassName(Types_1.CLASSES.FLEXLAYOUT__TABSET_SIZER) }, \"FindTabBarSize\"),\r\n            React.createElement(\"div\", { key: \"findBorderBarSize\", ref: this.findBorderBarSizeRef, style: fontStyle, className: this.getClassName(Types_1.CLASSES.FLEXLAYOUT__BORDER_SIZER) }, \"FindBorderBarSize\")));\r\n    }\r\n    /** @internal */\r\n    renderBorder(borderSet, borderComponents, tabComponents, floatingWindows, splitterComponents) {\r\n        for (const border of borderSet.getBorders()) {\r\n            const borderPath = `/border/${border.getLocation().getName()}`;\r\n            if (border.isShowing()) {\r\n                borderComponents.push(React.createElement(BorderTabSet_1.BorderTabSet, { key: `border_${border.getLocation().getName()}`, path: borderPath, border: border, layout: this, iconFactory: this.props.iconFactory, titleFactory: this.props.titleFactory, icons: this.icons }));\r\n                const drawChildren = border._getDrawChildren();\r\n                let i = 0;\r\n                let tabCount = 0;\r\n                for (const child of drawChildren) {\r\n                    if (child instanceof SplitterNode_1.SplitterNode) {\r\n                        let path = borderPath + \"/s\";\r\n                        splitterComponents.push(React.createElement(Splitter_1.Splitter, { key: child.getId(), layout: this, node: child, path: path }));\r\n                    }\r\n                    else if (child instanceof TabNode_1.TabNode) {\r\n                        let path = borderPath + \"/t\" + tabCount++;\r\n                        if (this.supportsPopout && child.isFloating()) {\r\n                            const rect = this._getScreenRect(child);\r\n                            const tabBorderWidth = child._getAttr(\"borderWidth\");\r\n                            const tabBorderHeight = child._getAttr(\"borderHeight\");\r\n                            if (rect) {\r\n                                if (tabBorderWidth !== -1 && border.getLocation().getOrientation() === Orientation_1.Orientation.HORZ) {\r\n                                    rect.width = tabBorderWidth;\r\n                                }\r\n                                else if (tabBorderHeight !== -1 && border.getLocation().getOrientation() === Orientation_1.Orientation.VERT) {\r\n                                    rect.height = tabBorderHeight;\r\n                                }\r\n                            }\r\n                            floatingWindows.push(React.createElement(FloatingWindow_1.FloatingWindow, { key: child.getId(), url: this.popoutURL, rect: rect, title: child.getName(), id: child.getId(), onSetWindow: this.onSetWindow, onCloseWindow: this.onCloseWindow },\r\n                                React.createElement(FloatingWindowTab_1.FloatingWindowTab, { layout: this, node: child, factory: this.props.factory })));\r\n                            tabComponents[child.getId()] = React.createElement(TabFloating_1.TabFloating, { key: child.getId(), layout: this, path: path, node: child, selected: i === border.getSelected() });\r\n                        }\r\n                        else {\r\n                            tabComponents[child.getId()] = React.createElement(Tab_1.Tab, { key: child.getId(), layout: this, path: path, node: child, selected: i === border.getSelected(), factory: this.props.factory });\r\n                        }\r\n                    }\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /** @internal */\r\n    renderChildren(path, node, tabSetComponents, tabComponents, floatingWindows, splitterComponents) {\r\n        const drawChildren = node._getDrawChildren();\r\n        let splitterCount = 0;\r\n        let tabCount = 0;\r\n        let rowCount = 0;\r\n        for (const child of drawChildren) {\r\n            if (child instanceof SplitterNode_1.SplitterNode) {\r\n                const newPath = path + \"/s\" + (splitterCount++);\r\n                splitterComponents.push(React.createElement(Splitter_1.Splitter, { key: child.getId(), layout: this, path: newPath, node: child }));\r\n            }\r\n            else if (child instanceof TabSetNode_1.TabSetNode) {\r\n                const newPath = path + \"/ts\" + (rowCount++);\r\n                tabSetComponents.push(React.createElement(TabSet_1.TabSet, { key: child.getId(), layout: this, path: newPath, node: child, iconFactory: this.props.iconFactory, titleFactory: this.props.titleFactory, icons: this.icons }));\r\n                this.renderChildren(newPath, child, tabSetComponents, tabComponents, floatingWindows, splitterComponents);\r\n            }\r\n            else if (child instanceof TabNode_1.TabNode) {\r\n                const newPath = path + \"/t\" + (tabCount++);\r\n                const selectedTab = child.getParent().getChildren()[child.getParent().getSelected()];\r\n                if (selectedTab === undefined) {\r\n                    // this should not happen!\r\n                    console.warn(\"undefined selectedTab should not happen\");\r\n                }\r\n                if (this.supportsPopout && child.isFloating()) {\r\n                    const rect = this._getScreenRect(child);\r\n                    floatingWindows.push(React.createElement(FloatingWindow_1.FloatingWindow, { key: child.getId(), url: this.popoutURL, rect: rect, title: child.getName(), id: child.getId(), onSetWindow: this.onSetWindow, onCloseWindow: this.onCloseWindow },\r\n                        React.createElement(FloatingWindowTab_1.FloatingWindowTab, { layout: this, node: child, factory: this.props.factory })));\r\n                    tabComponents[child.getId()] = React.createElement(TabFloating_1.TabFloating, { key: child.getId(), layout: this, path: newPath, node: child, selected: child === selectedTab });\r\n                }\r\n                else {\r\n                    tabComponents[child.getId()] = React.createElement(Tab_1.Tab, { key: child.getId(), layout: this, path: newPath, node: child, selected: child === selectedTab, factory: this.props.factory });\r\n                }\r\n            }\r\n            else {\r\n                // is row\r\n                const newPath = path + ((child.getOrientation() === Orientation_1.Orientation.HORZ) ? \"/r\" : \"/c\") + (rowCount++);\r\n                this.renderChildren(newPath, child, tabSetComponents, tabComponents, floatingWindows, splitterComponents);\r\n            }\r\n        }\r\n    }\r\n    /** @internal */\r\n    _getScreenRect(node) {\r\n        var _a;\r\n        const rect = node.getRect().clone();\r\n        const bodyRect = (_a = this.selfRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\r\n        if (!bodyRect) {\r\n            return null;\r\n        }\r\n        const navHeight = Math.min(80, this.currentWindow.outerHeight - this.currentWindow.innerHeight);\r\n        const navWidth = Math.min(80, this.currentWindow.outerWidth - this.currentWindow.innerWidth);\r\n        rect.x = rect.x + bodyRect.x + this.currentWindow.screenX + navWidth;\r\n        rect.y = rect.y + bodyRect.y + this.currentWindow.screenY + navHeight;\r\n        return rect;\r\n    }\r\n    /**\r\n     * Adds a new tab to the given tabset\r\n     * @param tabsetId the id of the tabset where the new tab will be added\r\n     * @param json the json for the new tab node\r\n     * @returns the added tab node or undefined\r\n     */\r\n    addTabToTabSet(tabsetId, json) {\r\n        const tabsetNode = this.props.model.getNodeById(tabsetId);\r\n        if (tabsetNode !== undefined) {\r\n            const node = this.doAction(Actions_1.Actions.addNode(json, tabsetId, DockLocation_1.DockLocation.CENTER, -1));\r\n            return node;\r\n        }\r\n        return undefined;\r\n    }\r\n    /**\r\n     * Adds a new tab to the active tabset (if there is one)\r\n     * @param json the json for the new tab node\r\n     * @returns the added tab node or undefined\r\n     */\r\n    addTabToActiveTabSet(json) {\r\n        const tabsetNode = this.props.model.getActiveTabset();\r\n        if (tabsetNode !== undefined) {\r\n            const node = this.doAction(Actions_1.Actions.addNode(json, tabsetNode.getId(), DockLocation_1.DockLocation.CENTER, -1));\r\n            return node;\r\n        }\r\n        return undefined;\r\n    }\r\n    /**\r\n     * Adds a new tab by dragging a labeled panel to the drop location, dragging starts immediatelly\r\n     * @param dragText the text to show on the drag panel\r\n     * @param json the json for the new tab node\r\n     * @param onDrop a callback to call when the drag is complete (node and event will be undefined if the drag was cancelled)\r\n     */\r\n    addTabWithDragAndDrop(dragText, json, onDrop) {\r\n        this.fnNewNodeDropped = onDrop;\r\n        this.newTabJson = json;\r\n        this.dragStart(undefined, dragText, TabNode_1.TabNode._fromJson(json, this.props.model, false), true, undefined, undefined);\r\n    }\r\n    /**\r\n     * Move a tab/tabset using drag and drop\r\n     * @param node the tab or tabset to drag\r\n     * @param dragText the text to show on the drag panel\r\n     */\r\n    moveTabWithDragAndDrop(node, dragText) {\r\n        this.dragStart(undefined, dragText, node, true, undefined, undefined);\r\n    }\r\n    /**\r\n     * Adds a new tab by dragging a labeled panel to the drop location, dragging starts when you\r\n     * mouse down on the panel\r\n     *\r\n     * @param dragText the text to show on the drag panel\r\n     * @param json the json for the new tab node\r\n     * @param onDrop a callback to call when the drag is complete (node and event will be undefined if the drag was cancelled)\r\n     */\r\n    addTabWithDragAndDropIndirect(dragText, json, onDrop) {\r\n        this.fnNewNodeDropped = onDrop;\r\n        this.newTabJson = json;\r\n        DragDrop_1.DragDrop.instance.addGlass(this.onCancelAdd);\r\n        this.dragDivText = dragText;\r\n        this.dragDiv = this.currentDocument.createElement(\"div\");\r\n        this.dragDiv.className = this.getClassName(Types_1.CLASSES.FLEXLAYOUT__DRAG_RECT);\r\n        this.dragDiv.addEventListener(\"mousedown\", this.onDragDivMouseDown);\r\n        this.dragDiv.addEventListener(\"touchstart\", this.onDragDivMouseDown, { passive: false });\r\n        this.dragRectRender(this.dragDivText, undefined, this.newTabJson, () => {\r\n            if (this.dragDiv) {\r\n                // now it's been rendered into the dom it can be centered\r\n                this.dragDiv.style.visibility = \"visible\";\r\n                const domRect = this.dragDiv.getBoundingClientRect();\r\n                const r = new Rect_1.Rect(0, 0, domRect === null || domRect === void 0 ? void 0 : domRect.width, domRect === null || domRect === void 0 ? void 0 : domRect.height);\r\n                r.centerInRect(this.state.rect);\r\n                this.dragDiv.setAttribute(\"data-layout-path\", \"/drag-rectangle\");\r\n                this.dragDiv.style.left = r.x + \"px\";\r\n                this.dragDiv.style.top = r.y + \"px\";\r\n            }\r\n        });\r\n        const rootdiv = this.selfRef.current;\r\n        rootdiv.appendChild(this.dragDiv);\r\n    }\r\n    /** @internal */\r\n    handleCustomTabDrag(dropInfo, pos, event) {\r\n        var _a, _b, _c;\r\n        let invalidated = (_a = this.customDrop) === null || _a === void 0 ? void 0 : _a.invalidated;\r\n        const currentCallback = (_b = this.customDrop) === null || _b === void 0 ? void 0 : _b.callback;\r\n        this.customDrop = undefined;\r\n        const dragging = this.newTabJson || (this.dragNode instanceof TabNode_1.TabNode ? this.dragNode : undefined);\r\n        if (dragging && (dropInfo.node instanceof TabSetNode_1.TabSetNode || dropInfo.node instanceof BorderNode_1.BorderNode) && dropInfo.index === -1) {\r\n            const selected = dropInfo.node.getSelectedNode();\r\n            const tabRect = selected === null || selected === void 0 ? void 0 : selected.getRect();\r\n            if (selected && (tabRect === null || tabRect === void 0 ? void 0 : tabRect.contains(pos.x, pos.y))) {\r\n                let customDrop = undefined;\r\n                try {\r\n                    const dest = this.onTabDrag(dragging, selected, pos.x - tabRect.x, pos.y - tabRect.y, dropInfo.location, () => this.onDragMove(event));\r\n                    if (dest) {\r\n                        customDrop = {\r\n                            rect: new Rect_1.Rect(dest.x + tabRect.x, dest.y + tabRect.y, dest.width, dest.height),\r\n                            callback: dest.callback,\r\n                            invalidated: dest.invalidated,\r\n                            dragging: dragging,\r\n                            over: selected,\r\n                            x: pos.x - tabRect.x,\r\n                            y: pos.y - tabRect.y,\r\n                            location: dropInfo.location,\r\n                            cursor: dest.cursor\r\n                        };\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    console.error(e);\r\n                }\r\n                if ((customDrop === null || customDrop === void 0 ? void 0 : customDrop.callback) === currentCallback) {\r\n                    invalidated = undefined;\r\n                }\r\n                this.customDrop = customDrop;\r\n            }\r\n        }\r\n        this.dropInfo = dropInfo;\r\n        if (this.outlineDiv) {\r\n            this.outlineDiv.className = this.getClassName(this.customDrop ? Types_1.CLASSES.FLEXLAYOUT__OUTLINE_RECT : dropInfo.className);\r\n            if (this.customDrop) {\r\n                this.customDrop.rect.positionElement(this.outlineDiv);\r\n            }\r\n            else {\r\n                dropInfo.rect.positionElement(this.outlineDiv);\r\n            }\r\n        }\r\n        DragDrop_1.DragDrop.instance.setGlassCursorOverride((_c = this.customDrop) === null || _c === void 0 ? void 0 : _c.cursor);\r\n        if (this.outlineDiv) {\r\n            this.outlineDiv.style.visibility = \"visible\";\r\n        }\r\n        try {\r\n            invalidated === null || invalidated === void 0 ? void 0 : invalidated();\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    /** @internal */\r\n    onDragEnter(event) {\r\n        // DragDrop keeps track of number of dragenters minus the number of\r\n        // dragleaves. Only start a new drag if there isn't one already.\r\n        if (DragDrop_1.DragDrop.instance.isDragging())\r\n            return;\r\n        const drag = this.props.onExternalDrag(event);\r\n        if (drag) {\r\n            // Mimic addTabWithDragAndDrop, but pass in DragEvent\r\n            this.fnNewNodeDropped = drag.onDrop;\r\n            this.newTabJson = drag.json;\r\n            this.dragStart(event, drag.dragText, TabNode_1.TabNode._fromJson(drag.json, this.props.model, false), true, undefined, undefined);\r\n        }\r\n    }\r\n    /** @internal */\r\n    checkForBorderToShow(x, y) {\r\n        const r = this.props.model._getOuterInnerRects().outer;\r\n        const c = r.getCenter();\r\n        const margin = this.edgeRectWidth;\r\n        const offset = this.edgeRectLength / 2;\r\n        let overEdge = false;\r\n        if (this.props.model.isEnableEdgeDock() && this.state.showHiddenBorder === DockLocation_1.DockLocation.CENTER) {\r\n            if ((y > c.y - offset && y < c.y + offset) ||\r\n                (x > c.x - offset && x < c.x + offset)) {\r\n                overEdge = true;\r\n            }\r\n        }\r\n        let location = DockLocation_1.DockLocation.CENTER;\r\n        if (!overEdge) {\r\n            if (x <= r.x + margin) {\r\n                location = DockLocation_1.DockLocation.LEFT;\r\n            }\r\n            else if (x >= r.getRight() - margin) {\r\n                location = DockLocation_1.DockLocation.RIGHT;\r\n            }\r\n            else if (y <= r.y + margin) {\r\n                location = DockLocation_1.DockLocation.TOP;\r\n            }\r\n            else if (y >= r.getBottom() - margin) {\r\n                location = DockLocation_1.DockLocation.BOTTOM;\r\n            }\r\n        }\r\n        if (location !== this.state.showHiddenBorder) {\r\n            this.setState({ showHiddenBorder: location });\r\n        }\r\n    }\r\n    /** @internal */\r\n    maximize(tabsetNode) {\r\n        this.doAction(Actions_1.Actions.maximizeToggle(tabsetNode.getId()));\r\n    }\r\n    /** @internal */\r\n    customizeTab(tabNode, renderValues) {\r\n        if (this.props.onRenderTab) {\r\n            this.props.onRenderTab(tabNode, renderValues);\r\n        }\r\n    }\r\n    /** @internal */\r\n    customizeTabSet(tabSetNode, renderValues) {\r\n        if (this.props.onRenderTabSet) {\r\n            this.props.onRenderTabSet(tabSetNode, renderValues);\r\n        }\r\n    }\r\n    /** @internal */\r\n    i18nName(id, param) {\r\n        let message;\r\n        if (this.props.i18nMapper) {\r\n            message = this.props.i18nMapper(id, param);\r\n        }\r\n        if (message === undefined) {\r\n            message = id + (param === undefined ? \"\" : param);\r\n        }\r\n        return message;\r\n    }\r\n    /** @internal */\r\n    getOnRenderFloatingTabPlaceholder() {\r\n        return this.props.onRenderFloatingTabPlaceholder;\r\n    }\r\n    /** @internal */\r\n    getShowOverflowMenu() {\r\n        return this.props.onShowOverflowMenu;\r\n    }\r\n    /** @internal */\r\n    getTabSetPlaceHolderCallback() {\r\n        return this.props.onTabSetPlaceHolder;\r\n    }\r\n    /** @internal */\r\n    showContextMenu(node, event) {\r\n        if (this.props.onContextMenu) {\r\n            this.props.onContextMenu(node, event);\r\n        }\r\n    }\r\n    /** @internal */\r\n    auxMouseClick(node, event) {\r\n        if (this.props.onAuxMouseClick) {\r\n            this.props.onAuxMouseClick(node, event);\r\n        }\r\n    }\r\n}\r\nexports.Layout = Layout;\r\n/** @internal */\r\nconst DragRectRenderWrapper = (props) => {\r\n    React.useEffect(() => {\r\n        var _a;\r\n        (_a = props.onRendered) === null || _a === void 0 ? void 0 : _a.call(props);\r\n    }, [props]);\r\n    return (React.createElement(React.Fragment, null, props.children));\r\n};\r\n//# sourceMappingURL=Layout.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BorderSet = void 0;\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst BorderNode_1 = require(\"./BorderNode\");\r\nclass BorderSet {\r\n    /** @internal */\r\n    static _fromJson(json, model) {\r\n        const borderSet = new BorderSet(model);\r\n        borderSet._borders = json.map((borderJson) => BorderNode_1.BorderNode._fromJson(borderJson, model));\r\n        return borderSet;\r\n    }\r\n    /** @internal */\r\n    constructor(model) {\r\n        this._model = model;\r\n        this._borders = [];\r\n    }\r\n    getBorders() {\r\n        return this._borders;\r\n    }\r\n    /** @internal */\r\n    _forEachNode(fn) {\r\n        for (const borderNode of this._borders) {\r\n            fn(borderNode, 0);\r\n            for (const node of borderNode.getChildren()) {\r\n                node._forEachNode(fn, 1);\r\n            }\r\n        }\r\n    }\r\n    /** @internal */\r\n    _toJson() {\r\n        return this._borders.map((borderNode) => borderNode.toJson());\r\n    }\r\n    /** @internal */\r\n    _layoutBorder(outerInnerRects, metrics) {\r\n        const rect = outerInnerRects.outer;\r\n        const rootRow = this._model.getRoot();\r\n        let height = Math.max(0, rect.height - rootRow.getMinHeight());\r\n        let width = Math.max(0, rect.width - rootRow.getMinWidth());\r\n        let sumHeight = 0;\r\n        let sumWidth = 0;\r\n        let adjustableHeight = 0;\r\n        let adjustableWidth = 0;\r\n        const showingBorders = this._borders.filter((border) => border.isShowing());\r\n        // sum size of borders to see they will fit\r\n        for (const border of showingBorders) {\r\n            border._setAdjustedSize(border.getSize());\r\n            const visible = border.getSelected() !== -1;\r\n            if (border.getLocation().getOrientation() === Orientation_1.Orientation.HORZ) {\r\n                sumWidth += border.getBorderBarSize();\r\n                if (visible) {\r\n                    width -= this._model.getSplitterSize();\r\n                    sumWidth += border.getSize();\r\n                    adjustableWidth += border.getSize();\r\n                }\r\n            }\r\n            else {\r\n                sumHeight += border.getBorderBarSize();\r\n                if (visible) {\r\n                    height -= this._model.getSplitterSize();\r\n                    sumHeight += border.getSize();\r\n                    adjustableHeight += border.getSize();\r\n                }\r\n            }\r\n        }\r\n        // adjust border sizes if too large\r\n        let j = 0;\r\n        let adjusted = false;\r\n        while ((sumWidth > width && adjustableWidth > 0) || (sumHeight > height && adjustableHeight > 0)) {\r\n            const border = showingBorders[j];\r\n            if (border.getSelected() !== -1) {\r\n                // visible\r\n                const size = border._getAdjustedSize();\r\n                if (sumWidth > width && adjustableWidth > 0 && border.getLocation().getOrientation() === Orientation_1.Orientation.HORZ && size > 0\r\n                    && size > border.getMinSize()) {\r\n                    border._setAdjustedSize(size - 1);\r\n                    sumWidth--;\r\n                    adjustableWidth--;\r\n                    adjusted = true;\r\n                }\r\n                else if (sumHeight > height && adjustableHeight > 0 && border.getLocation().getOrientation() === Orientation_1.Orientation.VERT && size > 0\r\n                    && size > border.getMinSize()) {\r\n                    border._setAdjustedSize(size - 1);\r\n                    sumHeight--;\r\n                    adjustableHeight--;\r\n                    adjusted = true;\r\n                }\r\n            }\r\n            j = (j + 1) % showingBorders.length;\r\n            if (j === 0) {\r\n                if (adjusted) {\r\n                    adjusted = false;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        for (const border of showingBorders) {\r\n            outerInnerRects.outer = border._layoutBorderOuter(outerInnerRects.outer, metrics);\r\n        }\r\n        outerInnerRects.inner = outerInnerRects.outer;\r\n        for (const border of showingBorders) {\r\n            outerInnerRects.inner = border._layoutBorderInner(outerInnerRects.inner, metrics);\r\n        }\r\n        return outerInnerRects;\r\n    }\r\n    /** @internal */\r\n    _findDropTargetNode(dragNode, x, y) {\r\n        for (const border of this._borders) {\r\n            if (border.isShowing()) {\r\n                const dropInfo = border.canDrop(dragNode, x, y);\r\n                if (dropInfo !== undefined) {\r\n                    return dropInfo;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\nexports.BorderSet = BorderSet;\r\n//# sourceMappingURL=BorderSet.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=IDraggable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=IDropTarget.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=IJsonModel.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Model = void 0;\r\nconst Attribute_1 = require(\"../Attribute\");\r\nconst AttributeDefinitions_1 = require(\"../AttributeDefinitions\");\r\nconst DockLocation_1 = require(\"../DockLocation\");\r\nconst Orientation_1 = require(\"../Orientation\");\r\nconst Rect_1 = require(\"../Rect\");\r\nconst Actions_1 = require(\"./Actions\");\r\nconst BorderNode_1 = require(\"./BorderNode\");\r\nconst BorderSet_1 = require(\"./BorderSet\");\r\nconst RowNode_1 = require(\"./RowNode\");\r\nconst TabNode_1 = require(\"./TabNode\");\r\nconst TabSetNode_1 = require(\"./TabSetNode\");\r\nconst Utils_1 = require(\"./Utils\");\r\n/**\r\n * Class containing the Tree of Nodes used by the FlexLayout component\r\n */\r\nclass Model {\r\n    /**\r\n     * Loads the model from the given json object\r\n     * @param json the json model to load\r\n     * @returns {Model} a new Model object\r\n     */\r\n    static fromJson(json) {\r\n        const model = new Model();\r\n        Model._attributeDefinitions.fromJson(json.global, model._attributes);\r\n        if (json.borders) {\r\n            model._borders = BorderSet_1.BorderSet._fromJson(json.borders, model);\r\n        }\r\n        model._root = RowNode_1.RowNode._fromJson(json.layout, model);\r\n        model._tidy(); // initial tidy of node tree\r\n        return model;\r\n    }\r\n    /** @internal */\r\n    static _createAttributeDefinitions() {\r\n        const attributeDefinitions = new AttributeDefinitions_1.AttributeDefinitions();\r\n        attributeDefinitions.add(\"legacyOverflowMenu\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"enableEdgeDock\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"rootOrientationVertical\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"marginInsets\", { top: 0, right: 0, bottom: 0, left: 0 })\r\n            .setType(\"IInsets\");\r\n        attributeDefinitions.add(\"enableUseVisibility\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"enableRotateBorderIcons\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        // splitter\r\n        attributeDefinitions.add(\"splitterSize\", -1).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"splitterExtra\", 0).setType(Attribute_1.Attribute.NUMBER);\r\n        // tab\r\n        attributeDefinitions.add(\"tabEnableClose\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabCloseType\", 1).setType(\"ICloseType\");\r\n        attributeDefinitions.add(\"tabEnableFloat\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabEnableDrag\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabEnableRename\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabContentClassName\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"tabClassName\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"tabIcon\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"tabEnableRenderOnDemand\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabDragSpeed\", 0.3).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"tabBorderWidth\", -1).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"tabBorderHeight\", -1).setType(Attribute_1.Attribute.NUMBER);\r\n        // tabset\r\n        attributeDefinitions.add(\"tabSetEnableDeleteWhenEmpty\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetEnableDrop\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetEnableDrag\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetEnableDivide\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetEnableMaximize\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetEnableClose\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetEnableSingleTabStretch\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetAutoSelectTab\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetClassNameTabStrip\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"tabSetClassNameHeader\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"tabSetEnableTabStrip\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"tabSetHeaderHeight\", 0).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"tabSetTabStripHeight\", 0).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"tabSetMarginInsets\", { top: 0, right: 0, bottom: 0, left: 0 })\r\n            .setType(\"IInsets\");\r\n        attributeDefinitions.add(\"tabSetBorderInsets\", { top: 0, right: 0, bottom: 0, left: 0 })\r\n            .setType(\"IInsets\");\r\n        attributeDefinitions.add(\"tabSetTabLocation\", \"top\").setType(\"ITabLocation\");\r\n        attributeDefinitions.add(\"tabSetMinWidth\", 0).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"tabSetMinHeight\", 0).setType(Attribute_1.Attribute.NUMBER);\r\n        // border\r\n        attributeDefinitions.add(\"borderSize\", 200).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"borderMinSize\", 0).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"borderBarSize\", 0).setType(Attribute_1.Attribute.NUMBER);\r\n        attributeDefinitions.add(\"borderEnableDrop\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"borderAutoSelectTabWhenOpen\", true).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"borderAutoSelectTabWhenClosed\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        attributeDefinitions.add(\"borderClassName\", undefined).setType(Attribute_1.Attribute.STRING);\r\n        attributeDefinitions.add(\"borderEnableAutoHide\", false).setType(Attribute_1.Attribute.BOOLEAN);\r\n        return attributeDefinitions;\r\n    }\r\n    /**\r\n     * 'private' constructor. Use the static method Model.fromJson(json) to create a model\r\n     *  @internal\r\n     */\r\n    constructor() {\r\n        /** @internal */\r\n        this._borderRects = { inner: Rect_1.Rect.empty(), outer: Rect_1.Rect.empty() };\r\n        this._attributes = {};\r\n        this._idMap = {};\r\n        this._borders = new BorderSet_1.BorderSet(this);\r\n        this._pointerFine = true;\r\n        this._showHiddenBorder = DockLocation_1.DockLocation.CENTER;\r\n    }\r\n    /** @internal */\r\n    _setChangeListener(listener) {\r\n        this._changeListener = listener;\r\n    }\r\n    /**\r\n     * Get the currently active tabset node\r\n     */\r\n    getActiveTabset() {\r\n        if (this._activeTabSet && this.getNodeById(this._activeTabSet.getId())) {\r\n            return this._activeTabSet;\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    /** @internal */\r\n    _getShowHiddenBorder() {\r\n        return this._showHiddenBorder;\r\n    }\r\n    /** @internal */\r\n    _setShowHiddenBorder(location) {\r\n        this._showHiddenBorder = location;\r\n    }\r\n    /** @internal */\r\n    _setActiveTabset(tabsetNode) {\r\n        this._activeTabSet = tabsetNode;\r\n    }\r\n    /**\r\n     * Get the currently maximized tabset node\r\n     */\r\n    getMaximizedTabset() {\r\n        return this._maximizedTabSet;\r\n    }\r\n    /** @internal */\r\n    _setMaximizedTabset(tabsetNode) {\r\n        this._maximizedTabSet = tabsetNode;\r\n    }\r\n    /**\r\n     * Gets the root RowNode of the model\r\n     * @returns {RowNode}\r\n     */\r\n    getRoot() {\r\n        return this._root;\r\n    }\r\n    isRootOrientationVertical() {\r\n        return this._attributes.rootOrientationVertical;\r\n    }\r\n    isUseVisibility() {\r\n        return this._attributes.enableUseVisibility;\r\n    }\r\n    isEnableRotateBorderIcons() {\r\n        return this._attributes.enableRotateBorderIcons;\r\n    }\r\n    /**\r\n     * Gets the\r\n     * @returns {BorderSet|*}\r\n     */\r\n    getBorderSet() {\r\n        return this._borders;\r\n    }\r\n    /** @internal */\r\n    _getOuterInnerRects() {\r\n        return this._borderRects;\r\n    }\r\n    /** @internal */\r\n    _getPointerFine() {\r\n        return this._pointerFine;\r\n    }\r\n    /** @internal */\r\n    _setPointerFine(pointerFine) {\r\n        this._pointerFine = pointerFine;\r\n    }\r\n    /**\r\n     * Visits all the nodes in the model and calls the given function for each\r\n     * @param fn a function that takes visited node and a integer level as parameters\r\n     */\r\n    visitNodes(fn) {\r\n        this._borders._forEachNode(fn);\r\n        this._root._forEachNode(fn, 0);\r\n    }\r\n    /**\r\n     * Gets a node by its id\r\n     * @param id the id to find\r\n     */\r\n    getNodeById(id) {\r\n        return this._idMap[id];\r\n    }\r\n    /**\r\n     * Finds the first/top left tab set of the given node.\r\n     * @param node The top node you want to begin searching from, deafults to the root node\r\n     * @returns The first Tab Set\r\n     */\r\n    getFirstTabSet(node = this._root) {\r\n        const child = node.getChildren()[0];\r\n        if (child instanceof TabSetNode_1.TabSetNode) {\r\n            return child;\r\n        }\r\n        else {\r\n            return this.getFirstTabSet(child);\r\n        }\r\n    }\r\n    /**\r\n     * Update the node tree by performing the given action,\r\n     * Actions should be generated via static methods on the Actions class\r\n     * @param action the action to perform\r\n     * @returns added Node for Actions.addNode; undefined otherwise\r\n     */\r\n    doAction(action) {\r\n        let returnVal = undefined;\r\n        // console.log(action);\r\n        switch (action.type) {\r\n            case Actions_1.Actions.ADD_NODE: {\r\n                const newNode = new TabNode_1.TabNode(this, action.data.json, true);\r\n                const toNode = this._idMap[action.data.toNode];\r\n                if (toNode instanceof TabSetNode_1.TabSetNode || toNode instanceof BorderNode_1.BorderNode || toNode instanceof RowNode_1.RowNode) {\r\n                    toNode.drop(newNode, DockLocation_1.DockLocation.getByName(action.data.location), action.data.index, action.data.select);\r\n                    returnVal = newNode;\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.MOVE_NODE: {\r\n                const fromNode = this._idMap[action.data.fromNode];\r\n                if (fromNode instanceof TabNode_1.TabNode || fromNode instanceof TabSetNode_1.TabSetNode) {\r\n                    const toNode = this._idMap[action.data.toNode];\r\n                    if (toNode instanceof TabSetNode_1.TabSetNode || toNode instanceof BorderNode_1.BorderNode || toNode instanceof RowNode_1.RowNode) {\r\n                        toNode.drop(fromNode, DockLocation_1.DockLocation.getByName(action.data.location), action.data.index, action.data.select);\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.DELETE_TAB: {\r\n                const node = this._idMap[action.data.node];\r\n                if (node instanceof TabNode_1.TabNode) {\r\n                    node._delete();\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.DELETE_TABSET: {\r\n                const node = this._idMap[action.data.node];\r\n                if (node instanceof TabSetNode_1.TabSetNode) {\r\n                    // first delete all child tabs that are closeable\r\n                    const children = [...node.getChildren()];\r\n                    for (let i = 0; i < children.length; i++) {\r\n                        const child = children[i];\r\n                        if (child.isEnableClose()) {\r\n                            child._delete();\r\n                        }\r\n                    }\r\n                    if (node.getChildren().length === 0) {\r\n                        node._delete();\r\n                    }\r\n                    this._tidy();\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.FLOAT_TAB: {\r\n                const node = this._idMap[action.data.node];\r\n                if (node instanceof TabNode_1.TabNode) {\r\n                    node._setFloating(true);\r\n                    (0, Utils_1.adjustSelectedIndexAfterFloat)(node);\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.UNFLOAT_TAB: {\r\n                const node = this._idMap[action.data.node];\r\n                if (node instanceof TabNode_1.TabNode) {\r\n                    node._setFloating(false);\r\n                    (0, Utils_1.adjustSelectedIndexAfterDock)(node);\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.RENAME_TAB: {\r\n                const node = this._idMap[action.data.node];\r\n                if (node instanceof TabNode_1.TabNode) {\r\n                    node._setName(action.data.text);\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.SELECT_TAB: {\r\n                const tabNode = this._idMap[action.data.tabNode];\r\n                if (tabNode instanceof TabNode_1.TabNode) {\r\n                    const parent = tabNode.getParent();\r\n                    const pos = parent.getChildren().indexOf(tabNode);\r\n                    if (parent instanceof BorderNode_1.BorderNode) {\r\n                        if (parent.getSelected() === pos) {\r\n                            parent._setSelected(-1);\r\n                        }\r\n                        else {\r\n                            parent._setSelected(pos);\r\n                        }\r\n                    }\r\n                    else if (parent instanceof TabSetNode_1.TabSetNode) {\r\n                        if (parent.getSelected() !== pos) {\r\n                            parent._setSelected(pos);\r\n                        }\r\n                        this._activeTabSet = parent;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.SET_ACTIVE_TABSET: {\r\n                if (action.data.tabsetNode === undefined) {\r\n                    this._activeTabSet = undefined;\r\n                }\r\n                else {\r\n                    const tabsetNode = this._idMap[action.data.tabsetNode];\r\n                    if (tabsetNode instanceof TabSetNode_1.TabSetNode) {\r\n                        this._activeTabSet = tabsetNode;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.ADJUST_SPLIT: {\r\n                const node1 = this._idMap[action.data.node1];\r\n                const node2 = this._idMap[action.data.node2];\r\n                if ((node1 instanceof TabSetNode_1.TabSetNode || node1 instanceof RowNode_1.RowNode) && (node2 instanceof TabSetNode_1.TabSetNode || node2 instanceof RowNode_1.RowNode)) {\r\n                    this._adjustSplitSide(node1, action.data.weight1, action.data.pixelWidth1);\r\n                    this._adjustSplitSide(node2, action.data.weight2, action.data.pixelWidth2);\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.ADJUST_BORDER_SPLIT: {\r\n                const node = this._idMap[action.data.node];\r\n                if (node instanceof BorderNode_1.BorderNode) {\r\n                    node._setSize(action.data.pos);\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.MAXIMIZE_TOGGLE: {\r\n                const node = this._idMap[action.data.node];\r\n                if (node instanceof TabSetNode_1.TabSetNode) {\r\n                    if (node === this._maximizedTabSet) {\r\n                        this._maximizedTabSet = undefined;\r\n                    }\r\n                    else {\r\n                        this._maximizedTabSet = node;\r\n                        this._activeTabSet = node;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case Actions_1.Actions.UPDATE_MODEL_ATTRIBUTES: {\r\n                this._updateAttrs(action.data.json);\r\n                break;\r\n            }\r\n            case Actions_1.Actions.UPDATE_NODE_ATTRIBUTES: {\r\n                const node = this._idMap[action.data.node];\r\n                node._updateAttrs(action.data.json);\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n        this._updateIdMap();\r\n        if (this._changeListener !== undefined) {\r\n            this._changeListener(action);\r\n        }\r\n        return returnVal;\r\n    }\r\n    /** @internal */\r\n    _updateIdMap() {\r\n        // regenerate idMap to stop it building up\r\n        this._idMap = {};\r\n        this.visitNodes((node) => (this._idMap[node.getId()] = node));\r\n        // console.log(JSON.stringify(Object.keys(this._idMap)));\r\n    }\r\n    /** @internal */\r\n    _adjustSplitSide(node, weight, pixels) {\r\n        node._setWeight(weight);\r\n        if (node.getWidth() != null && node.getOrientation() === Orientation_1.Orientation.VERT) {\r\n            node._updateAttrs({ width: pixels });\r\n        }\r\n        else if (node.getHeight() != null && node.getOrientation() === Orientation_1.Orientation.HORZ) {\r\n            node._updateAttrs({ height: pixels });\r\n        }\r\n    }\r\n    /**\r\n     * Converts the model to a json object\r\n     * @returns {IJsonModel} json object that represents this model\r\n     */\r\n    toJson() {\r\n        const global = {};\r\n        Model._attributeDefinitions.toJson(global, this._attributes);\r\n        // save state of nodes\r\n        this.visitNodes((node) => {\r\n            node._fireEvent(\"save\", undefined);\r\n        });\r\n        return { global, borders: this._borders._toJson(), layout: this._root.toJson() };\r\n    }\r\n    getSplitterSize() {\r\n        let splitterSize = this._attributes.splitterSize;\r\n        if (splitterSize === -1) {\r\n            // use defaults\r\n            splitterSize = this._pointerFine ? 8 : 12; // larger for mobile\r\n        }\r\n        return splitterSize;\r\n    }\r\n    isLegacyOverflowMenu() {\r\n        return this._attributes.legacyOverflowMenu;\r\n    }\r\n    getSplitterExtra() {\r\n        return this._attributes.splitterExtra;\r\n    }\r\n    isEnableEdgeDock() {\r\n        return this._attributes.enableEdgeDock;\r\n    }\r\n    /** @internal */\r\n    _addNode(node) {\r\n        const id = node.getId();\r\n        if (this._idMap[id] !== undefined) {\r\n            throw new Error(`Error: each node must have a unique id, duplicate id:${node.getId()}`);\r\n        }\r\n        if (node.getType() !== \"splitter\") {\r\n            this._idMap[id] = node;\r\n        }\r\n    }\r\n    /** @internal */\r\n    _layout(rect, metrics) {\r\n        var _a;\r\n        // let start = Date.now();\r\n        this._borderRects = this._borders._layoutBorder({ outer: rect, inner: rect }, metrics);\r\n        rect = this._borderRects.inner.removeInsets(this._getAttribute(\"marginInsets\"));\r\n        (_a = this._root) === null || _a === void 0 ? void 0 : _a.calcMinSize();\r\n        this._root._layout(rect, metrics);\r\n        // console.log(\"layout time: \" + (Date.now() - start));\r\n        return rect;\r\n    }\r\n    /** @internal */\r\n    _findDropTargetNode(dragNode, x, y) {\r\n        let node = this._root._findDropTargetNode(dragNode, x, y);\r\n        if (node === undefined) {\r\n            node = this._borders._findDropTargetNode(dragNode, x, y);\r\n        }\r\n        return node;\r\n    }\r\n    /** @internal */\r\n    _tidy() {\r\n        // console.log(\"before _tidy\", this.toString());\r\n        this._root._tidy();\r\n        // console.log(\"after _tidy\", this.toString());\r\n    }\r\n    /** @internal */\r\n    _updateAttrs(json) {\r\n        Model._attributeDefinitions.update(json, this._attributes);\r\n    }\r\n    /** @internal */\r\n    _nextUniqueId() {\r\n        return '#' + (0, Utils_1.randomUUID)();\r\n    }\r\n    /** @internal */\r\n    _getAttribute(name) {\r\n        return this._attributes[name];\r\n    }\r\n    /**\r\n     * Sets a function to allow/deny dropping a node\r\n     * @param onAllowDrop function that takes the drag node and DropInfo and returns true if the drop is allowed\r\n     */\r\n    setOnAllowDrop(onAllowDrop) {\r\n        this._onAllowDrop = onAllowDrop;\r\n    }\r\n    /** @internal */\r\n    _getOnAllowDrop() {\r\n        return this._onAllowDrop;\r\n    }\r\n    /**\r\n     * set callback called when a new TabSet is created.\r\n     * The tabNode can be undefined if it's the auto created first tabset in the root row (when the last\r\n     * tab is deleted, the root tabset can be recreated)\r\n     * @param onCreateTabSet\r\n     */\r\n    setOnCreateTabSet(onCreateTabSet) {\r\n        this._onCreateTabSet = onCreateTabSet;\r\n    }\r\n    /** @internal */\r\n    _getOnCreateTabSet() {\r\n        return this._onCreateTabSet;\r\n    }\r\n    static toTypescriptInterfaces() {\r\n        console.log(Model._attributeDefinitions.toTypescriptInterface(\"Global\", undefined));\r\n        console.log(RowNode_1.RowNode.getAttributeDefinitions().toTypescriptInterface(\"Row\", Model._attributeDefinitions));\r\n        console.log(TabSetNode_1.TabSetNode.getAttributeDefinitions().toTypescriptInterface(\"TabSet\", Model._attributeDefinitions));\r\n        console.log(TabNode_1.TabNode.getAttributeDefinitions().toTypescriptInterface(\"Tab\", Model._attributeDefinitions));\r\n        console.log(BorderNode_1.BorderNode.getAttributeDefinitions().toTypescriptInterface(\"Border\", Model._attributeDefinitions));\r\n    }\r\n    toString() {\r\n        return JSON.stringify(this.toJson());\r\n    }\r\n}\r\nexports.Model = Model;\r\n/** @internal */\r\nModel._attributeDefinitions = Model._createAttributeDefinitions();\r\n//# sourceMappingURL=Model.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./view/Layout\"), exports);\r\n__exportStar(require(\"./model/Action\"), exports);\r\n__exportStar(require(\"./model/Actions\"), exports);\r\n__exportStar(require(\"./model/BorderNode\"), exports);\r\n__exportStar(require(\"./model/BorderSet\"), exports);\r\n__exportStar(require(\"./model/ICloseType\"), exports);\r\n__exportStar(require(\"./model/IDraggable\"), exports);\r\n__exportStar(require(\"./model/IDropTarget\"), exports);\r\n__exportStar(require(\"./model/IJsonModel\"), exports);\r\n__exportStar(require(\"./model/Model\"), exports);\r\n__exportStar(require(\"./model/Node\"), exports);\r\n__exportStar(require(\"./model/RowNode\"), exports);\r\n__exportStar(require(\"./model/SplitterNode\"), exports);\r\n__exportStar(require(\"./model/TabNode\"), exports);\r\n__exportStar(require(\"./model/TabSetNode\"), exports);\r\n__exportStar(require(\"./DockLocation\"), exports);\r\n__exportStar(require(\"./DragDrop\"), exports);\r\n__exportStar(require(\"./DropInfo\"), exports);\r\n__exportStar(require(\"./I18nLabel\"), exports);\r\n__exportStar(require(\"./Orientation\"), exports);\r\n__exportStar(require(\"./Rect\"), exports);\r\n__exportStar(require(\"./Types\"), exports);\r\n//# sourceMappingURL=index.js.map","<script lang=\"ts\" context=\"module\">\n    import React from \"react\";\n    import type { ComponentType, SvelteComponent } from \"svelte\";\n    import { reactify } from \"svelte-preprocess-react\";\n    import type {\n        TabNode,\n        IJsonTabSetNode,\n        IJsonTabNode,\n        IJsonRowNode,\n        IGlobalAttributes,\n    } from \"flexlayout-react\";\n    import {\n        type Props,\n        type ReactFunctionalComponent,\n        type NoInferredProps,\n        type Framework,\n        svelte,\n    } from \"$lib/utils/ui-framework\";\n\n    export type LayoutProps = ConstructorParameters<typeof Layout>[0];\n\n    type Split = { _row: IJsonRowNode };\n    type TabGroup = { _tabs: IJsonTabSetNode };\n    type Panel = { _panel: IJsonTabNode };\n\n    const isRow = objectIs<Split>(\"_row\");\n    const isTabs = objectIs<TabGroup>(\"_tabs\");\n    const isPanel = objectIs<Panel>(\"_panel\");\n\n    type Config<T> = Omit<T, \"children\" | \"type\">;\n\n    type SplitConfig = Config<IJsonRowNode>;\n    type SplitChildren = (Split | TabGroup | Panel)[];\n\n    type TabGroupConfig = Config<IJsonTabSetNode>;\n    type TabGroupChildren = Panel[];\n\n    type RequiredProps<T> = {\n        [K in keyof T]-?: {} extends Pick<T, K> ? never : K;\n    };\n\n    type PanelConfig<TComponent, TProps> = Config<IJsonTabNode> &\n        (TProps extends NoInferredProps\n            ? {}\n            : RequiredProps<TProps> extends NoInferredProps\n              ? { props?: TProps }\n              : RequiredKeys<TProps> extends never\n                ? { props?: TProps }\n                : { props: TProps }) & {\n            onCreate?: (component: TComponent) => any;\n            tabset?: Config<IJsonTabSetNode>;\n        };\n\n    export interface Factory {\n        /**\n         * Create a split layout, which unites `panels`, `tabs`, and other `splits` in a single view.\n         *\n         * A single `split` should be the root of your configured layout.\n         *\n         * The direction of the split alternates between horizontal and vertical (so if you want to switch the direction of a split, you must create a nested split).\n         *\n         * The first overload accepts a `config` object first, followed by any number of children.\n         * The second overload accepts only children.\n         *\n         * @param config Optionally provided as the first argument,\n         * @param children\n         */\n        split(config: SplitConfig, ...children: SplitChildren): Split;\n        split(...children: SplitChildren): Split;\n\n        /**\n         * Create a tab group layout, which joins multiple `panels` in a single view, where only one panel is visible at a time.\n         *\n         * The first overload accepts a `config` object first, followed by any number of `panel` children.\n         * The second overload accepts only children.\n         * @param children\n         */\n        tabs(...children: TabGroupChildren): TabGroup;\n        tabs(config: TabGroupConfig, ...children: TabGroupChildren): TabGroup;\n\n        /**\n         * Create a panel, which represents a single component to render within a `split` or `tab` view.\n         * @param framework\n         * @param component\n         * @param config\n         */\n        panel<\n            TFramework extends Framework,\n            TComponent extends TFramework extends \"svelte\"\n                ? SvelteComponent\n                : ReactFunctionalComponent | React.Component,\n            TProps extends Props<TComponent>,\n        >(\n            framework: TFramework,\n            component: TComponent extends SvelteComponent\n                ? ComponentType<TComponent>\n                : TComponent,\n            config: PanelConfig<TComponent, TProps>,\n        ): Panel;\n        panel<\n            TFramework extends Framework,\n            TComponent extends TFramework extends \"svelte\"\n                ? SvelteComponent<Record<string, never>>\n                : ReactFunctionalComponent<{}> | React.Component<{}>,\n        >(\n            framework: TFramework,\n            component: TComponent extends SvelteComponent\n                ? ComponentType<TComponent>\n                : TComponent,\n            config?: PanelConfig<TComponent, {}>,\n        ): Panel;\n    }\n\n    export type PanelProps<\n        TFramework extends Framework,\n        TComponent extends TFramework extends \"svelte\"\n            ? SvelteComponent\n            : ReactFunctionalComponent<{}> | React.Component<{}>,\n    > = PanelConfig<\n        TComponent,\n        TComponent extends SvelteComponent<Record<string, never>>\n            ? {}\n            : Props<TComponent>\n    >;\n\n    type ConfigureCallback = (make: Factory) => Split;\n    type MaybeConfigAndChildren<Config, Children extends any[]> =\n        | Children\n        | [Config, ...Children];\n\n    const extractConfigAndChildren = <Config, Children extends any[]>(\n        items: MaybeConfigAndChildren<Config, Children>,\n    ) => {\n        if (items.length === 0) throw new Error(\"No children!\");\n        const first = items[0];\n        const firstIsChild = isRow(first) || isTabs(first) || isPanel(first);\n        const config = firstIsChild ? {} : first;\n        const children = (firstIsChild ? items : items.slice(1)) as Children;\n\n        console.log(config);\n\n        return { config, children };\n    };\n\n    const split: Factory[\"split\"] = (\n        ...items: MaybeConfigAndChildren<SplitConfig, SplitChildren>\n    ) => {\n        const { config, children } = extractConfigAndChildren(items);\n        return {\n            _row: {\n                ...config,\n                type: \"row\",\n                children: children.map((child) => {\n                    if (isRow(child)) return child[\"_row\"];\n                    if (isTabs(child)) return child[\"_tabs\"];\n                    if (isPanel(child)) {\n                        const panel = child[\"_panel\"] as PanelConfig<any, any>;\n                        return {\n                            type: \"tabset\",\n                            children: [child[\"_panel\"]],\n                            ...(panel?.tabset ?? {}),\n                        };\n                    }\n                    throw new Error(\"Uh oh! Unable to determine child\");\n                }),\n            },\n        };\n    };\n\n    const tabs: Factory[\"tabs\"] = (\n        ...items: MaybeConfigAndChildren<TabGroupConfig, TabGroupChildren>\n    ) => {\n        const { config, children } = extractConfigAndChildren(items);\n        return {\n            _tabs: {\n                ...config,\n                type: \"tabset\",\n                children: children.map(({ _panel }) => _panel),\n            },\n        };\n    };\n\n    export const configure = (\n        callback: ConfigureCallback,\n        global: IGlobalAttributes = {},\n    ) => {\n        let index = 0;\n\n        type Component = ComponentType | React.FunctionComponent;\n\n        const propsByID = new Map<number, any>();\n        const onCreateByID = new Map<number, (component: any) => void>();\n        const reactBySvelte = new Map<ComponentType, React.FunctionComponent>();\n        const svelteByID = new Map<number, ComponentType>();\n        const componentByID = new Map<number, React.FunctionComponent>();\n\n        const panel: Factory[\"panel\"] = (\n            type: Framework,\n            component: Component,\n            config: PanelConfig<Component, {}>,\n        ) => {\n            const props = config\n                ? \"props\" in config\n                    ? config[\"props\"]\n                    : undefined\n                : undefined;\n            const id = index++;\n            if (props) propsByID.set(id, props);\n            if (config?.onCreate) onCreateByID.set(id, config.onCreate);\n            if (type === \"svelte\") {\n                const svelte = component as ComponentType;\n                if (!reactBySvelte.has(svelte))\n                    reactBySvelte.set(svelte, reactify(svelte));\n                if (!svelteByID.has(id)) svelteByID.set(id, svelte);\n                componentByID.set(id, reactBySvelte.get(svelte)!);\n            } else componentByID.set(id, component as React.FunctionComponent);\n            return {\n                _panel: {\n                    ...config,\n                    type: \"tab\",\n                    component: id.toString(),\n                },\n            };\n        };\n\n        const { _row } = callback({\n            split,\n            tabs,\n            panel,\n        });\n\n        return {\n            model: Model.fromJson({\n                global,\n                borders: [],\n                layout: _row,\n            }),\n            factory: (node: TabNode) => {\n                const identifier = node.getComponent()!;\n                const id = Number.parseInt(identifier);\n                const component = componentByID.get(id)!;\n\n                const svelteComponent = svelteByID.get(id);\n                const onCreate = onCreateByID.get(id);\n\n                const element = React.createElement(\n                    component,\n                    propsByID.get(id),\n                );\n\n                if (onCreate)\n                    svelteComponent\n                        ? svelte.onRegister(svelteComponent, onCreate)\n                        : onCreate(element);\n\n                return element;\n            },\n        };\n    };\n</script>\n\n<script lang=\"ts\">\n    import { Layout, Model } from \"flexlayout-react\";\n    import \"./Layout.css\";\n    import { objectIs, type RequiredKeys } from \"$lib/utils\";\n\n    export let configuration: LayoutProps;\n</script>\n\n<react:Layout {...configuration} />\n"],"names":["handle_promise","promise","info","token","update","type","index","key","value","child_ctx","block","needs_flush","i","group_outros","transition_out","check_outros","transition_in","flush","is_promise","current_component","get_current_component","set_current_component","error","update_await_block_branch","ctx","dirty","resolved","ensure_array_like","array_like_or_iterator","cubicInOut","t","cubicOut","f","fade","node","delay","duration","easing","linear","fly","x","y","opacity","style","target_opacity","transform","od","xValue","xUnit","split_css_unit","yValue","yUnit","u","slide","axis","primary_property","primary_property_value","secondary_properties","capitalized_secondary_properties","e","padding_start_value","padding_end_value","margin_start_value","margin_end_value","border_width_start_value","border_width_end_value","scale","start","sd","_t","objectIs","obj","messageFromError","scrollDown","element","proxyPattern","unproxy","name","_a","findElementWithValue","children","svelte","instance","identifier","callback","component","deleteOnCallback","Orientation_1","Orientation","from","Rect_1","require$$0","Rect","width","height","rect","position","insets","outerRect","orientation","prefSize","DockLocation_1","require$$1","DockLocation","bl","br","indexPlus","r","size","r1","r2","DragDrop_1","canUseDOM","DragDrop","fCancel","cursor","event","fDragStart","fDragMove","fDragEnd","fDragCancel","fClick","fDblClick","currentDocument","rootElement","posEvent","isDoubleClick","clickTime","Action_1","Action","data","Actions_1","Actions","json","toNodeId","location","select","fromNodeId","tabNodeId","tabsetNodeId","text","splitSpec","node1","node2","nodeId","pos","attributes","Attribute_1","Attribute","modelName","defaultValue","alwaysWriteJson","AttributeDefinitions_1","AttributeDefinitions","attr","conversion","jsonObj","fromValue","parentAttributes","lines","sorted","a","b","c","inherited","defValue","required","comment","DropInfo_1","DropInfo","className","exports","CLASSES","Node_1","require$$2","Node","model","id","params","val","fn","level","visible","parent","weight","metrics","dragNode","rtn","child","dropInfo","childNode","SplitterNode_1","SplitterNode","TabNode_1","TabNode","addToModel","attributeDefinitions","altName","float","window","RowNode_1","require$$3","require$$4","require$$5","Types_1","require$$6","BorderNode_1","require$$7","require$$8","require$$9","TabSetNode_1","require$$10","RowNode$1","RowNode","newLayoutNode","jsonChild","pixelSize","totalWeight","fixedPixels","prefPixels","totalPrefWeight","drawChildren","resizePreferred","availablePixels","totalSizeGiven","variableSize","minSize","changed","p","splitterNode","useMinSize","pBounds","minSize1","minSize2","splitter","splitterPos","weightedLength","pixelWidth1","pixelWidth2","weight1","weight2","newSplitter","first","childChildren","subchild","subChildrenTotal","subChildChildren","ssc","j","subsubChild","attrs","yy","xx","w","h","margin","half","dockLocation","outlineRect","tabSet","sum","horz","vrow","hrow","Utils_1","require$$11","TabSetNode$1","TabSetNode","selected","headerBarHeight","tabBarHeight","childCenter","showHeader","removedIndex","dragParent","fromIndex","insertPos","parentRow","newRow","Utils","adjustSelectedIndexAfterFloat","found","newSelected","adjustSelectedIndexAfterDock","adjustSelectedIndex","selectedIndex","randomUUID","BorderNode$1","BorderNode","border","whenOpen","barSize","defaultSize","tabNode","tabBorderSize","outer","split1","inner","split2","childRect","childY","childHeight","childX","childWidth","innerRect","rootRow","I18nLabel","ICloseType","React","getRenderStateEx","layout","iconFactory","titleFactory","iconAngle","leadingContent","titleContent","isTitleObject","titleObj","renderState","hideElement","useVisibility","isAuxMouseEvent","auxEvent","BorderButton_1","I18nLabel_1","ICloseType_1","BorderButton","props","icons","path","selfRef","contentRef","onMouseDown","onClick","onDoubleClick","onAuxMouseClick","onContextMenu","isClosable","closeType","onClose","onCloseMouseDown","updateRect","layoutRect","onTextBoxMouseDown","onTextBoxKeyPress","cm","classNames","content","leading","closeTitle","TabButtonStamp_1","TabButtonStamp","PopupMenu_1","showPopup","triggerElement","items","onSelect","layoutDiv","classNameMapper","triggerRect","elm","onHide","onElementMouseDown","onDocMouseDown","_event","PopupMenu","onItemClick","item","itemElements","TabOverflowHook","useTabOverflow","toolbarRef","stickyButtonsRef","firstRender","tabsTruncated","lastRect","setPosition","userControlledLeft","hiddenTabs","setHiddenTabs","lastHiddenCount","updateVisibleTabs","onWheel","getNear","getFar","getSize","nodeRect","lastChild","stickyButtonsSize","enabled","endPos","shiftPos","selectedTab","selectedRect","selectedStart","selectedEnd","extraSpace","newPosition","diff","hidden","delta","BorderTabSet_1","TabOverflowHook_1","BorderTabSet","overflowbuttonRef","onMouseWheel","onInterceptMouseDown","onOverflowClick","onOverflowItemSelect","onFloatTab","selectedTabNode","tabs","layoutTab","isSelected","borderClasses","buttons","stickyButtons","overflowTitle","overflowContent","floatTitle","toolbar","innerStyle","borderHeight","Splitter_1","Splitter","outlineDiv","parentNode","onDragStart","onDragMove","onDragEnd","onDragCancel","rootdiv","_wasDragging","clientRect","getBoundPosition","updateLayout","bounds","extra","style2","className2","ErrorBoundary_1","ErrorBoundary","errorInfo","Tab_1","react_1","Tab","factory","renderComponent","setRenderComponent","TabButton_1","TabButton","onRename","onEndEdit","isStretch","baseClassName","TabSet_1","TabSet","tabbarInnerRef","message","event2","onMaximizeToggle","onCloseTab","headerButtons","headerContent","isTabStretch","showClose","minTitle","maxTitle","title","header","tabStrip","tabStripClasses","headerToolbar","tabHeaderClasses","tabStripStyle","placeHolder","placeHolderCallback","center","FloatingWindow_1","react_dom_1","FloatingWindow","url","onCloseWindow","onSetWindow","popoutWindow","timerId","setContent","isMounted","styles","result","styleSheet","rules","rule","popoutDocument","popoutContent","copyStyles","doc","styleSheets","head","promises","styleElement","resolve","FloatingWindowTab_1","FloatingWindowTab","TabFloating_1","TabFloating","showPopout","dockPopout","onClickFocus","onClickDock","showMessage","dockMessage","customRenderCallback","Icons","CloseIcon","MaximizeIcon","OverflowIcon","EdgeIcon","PopoutIcon","RestoreIcon","Layout_1","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","Icons_1","require$$19","require$$20","defaultIcons","isIEorEdge","isDesktop","defaultSupportsPopout","Layout","action","domRect","headerBarSize","tabBarSize","borderBarSize","defaultClassName","_b","wasDragging","dragDiv","dragDivText","allowDrag","onRendered","customContent","DragRectRenderWrapper","control","portal","_c","_d","_e","_f","_g","speed","dragRect","newLeft","dragging","over","newNode","outcome","entries","selfRefCurr","args","borderComponents","tabSetComponents","floatingWindows","tabComponents","splitterComponents","nextTopIds","nextTopIdsMap","edges","arrowIcon","length","offset","radius","fontStyle","borderSet","borderPath","tabCount","tabBorderWidth","tabBorderHeight","splitterCount","rowCount","newPath","bodyRect","navHeight","navWidth","tabsetId","tabsetNode","dragText","onDrop","invalidated","currentCallback","tabRect","customDrop","dest","drag","overEdge","renderValues","tabSetNode","param","BorderSet_1","BorderSet","borderJson","borderNode","outerInnerRects","sumHeight","sumWidth","adjustableHeight","adjustableWidth","showingBorders","adjusted","IDraggable","IDropTarget","IJsonModel","Model_1","Model","listener","pointerFine","returnVal","toNode","fromNode","pixels","global","splitterSize","onAllowDrop","onCreateTabSet","__createBinding","this","o","m","k","k2","desc","__exportStar","require$$21","react_layout_spread_levels","get_spread_update","get_spread_object","isRow","isTabs","isPanel","extractConfigAndChildren","firstIsChild","config","split","panel","_panel","configure","propsByID","onCreateByID","reactBySvelte","svelteByID","componentByID","svelte2","reactify","_row","svelteComponent","onCreate","configuration","$$props"],"mappings":"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","x_google_ignoreList":[0,1,2,3,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]}
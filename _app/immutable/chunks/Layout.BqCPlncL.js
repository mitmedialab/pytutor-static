import{aj as Ki,ak as Fi,R as rt,N as Qi,L as en,al as ri,s as tn,a as nn}from"./scheduler.B_HausrX.js";import{g as on,b as zi,e as sn,t as Pi,S as rn,i as an,c as dn,a as ln,m as cn,d as hn}from"./index.BGGFpMsM.js";import{d as $,b as qt,f as at,R as un,g as _n,a as fn,s as gn,r as Tn,c as bn}from"./server.browser.D4hb9_uX.js";import{r as pn}from"./reactify.BUBICLCa.js";function ts(a,e){const t=e.token={};function i(o,s,l,u){if(e.token!==t)return;e.resolved=u;let f=e.ctx;l!==void 0&&(f=f.slice(),f[l]=u);const T=o&&(e.current=o)(f);let _=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==s&&c&&(on(),zi(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),sn())}):e.block.d(1),T.c(),Pi(T,1),T.m(e.mount(),e.anchor),_=!0),e.block=T,e.blocks&&(e.blocks[s]=T),_&&Qi()}if(Ki(a)){const o=Fi();if(a.then(s=>{rt(o),i(e.then,1,e.value,s),rt(null)},s=>{if(rt(o),i(e.catch,2,e.error,s),rt(null),!e.hasCatch)throw s}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,a),!0;e.resolved=a}}function is(a,e,t){const i=e.slice(),{resolved:o}=a;a.current===a.then&&(i[a.value]=o),a.current===a.catch&&(i[a.error]=o),a.block.p(i,t)}function ns(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function os(a){return a<.5?4*a*a*a:.5*Math.pow(2*a-2,3)+1}function Kt(a){const e=a-1;return e*e*e+1}function ss(a,{delay:e=0,duration:t=400,easing:i=en}={}){const o=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:i,css:s=>`opacity: ${s*o}`}}function rs(a,{delay:e=0,duration:t=400,easing:i=Kt,x:o=0,y:s=0,opacity:l=0}={}){const u=getComputedStyle(a),f=+u.opacity,T=u.transform==="none"?"":u.transform,_=f*(1-l),[c,m]=ri(o),[r,n]=ri(s);return{delay:e,duration:t,easing:i,css:(d,h)=>`
			transform: ${T} translate(${(1-d)*c}${m}, ${(1-d)*r}${n});
			opacity: ${f-_*h}`}}function as(a,{delay:e=0,duration:t=400,easing:i=Kt,axis:o="y"}={}){const s=getComputedStyle(a),l=+s.opacity,u=o==="y"?"height":"width",f=parseFloat(s[u]),T=o==="y"?["top","bottom"]:["left","right"],_=T.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),c=parseFloat(s[`padding${_[0]}`]),m=parseFloat(s[`padding${_[1]}`]),r=parseFloat(s[`margin${_[0]}`]),n=parseFloat(s[`margin${_[1]}`]),d=parseFloat(s[`border${_[0]}Width`]),h=parseFloat(s[`border${_[1]}Width`]);return{delay:e,duration:t,easing:i,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*l};${u}: ${p*f}px;padding-${T[0]}: ${p*c}px;padding-${T[1]}: ${p*m}px;margin-${T[0]}: ${p*r}px;margin-${T[1]}: ${p*n}px;border-${T[0]}-width: ${p*d}px;border-${T[1]}-width: ${p*h}px;`}}function ds(a,{delay:e=0,duration:t=400,easing:i=Kt,start:o=0,opacity:s=0}={}){const l=getComputedStyle(a),u=+l.opacity,f=l.transform==="none"?"":l.transform,T=1-o,_=u*(1-s);return{delay:e,duration:t,easing:i,css:(c,m)=>`
			transform: ${f} scale(${1-T*m});
			opacity: ${u-_*m}
		`}}const Qt=a=>e=>a in e,ls=a=>a instanceof Error?a.message:`${a}`,cs=a=>a.scrollTop=a.scrollHeight,En="^Proxy<(.+)>$",mn=a=>{var e;return((e=a.match(new RegExp(En)))==null?void 0:e.at(1))??a},hs=(a,e)=>{const t=a.querySelectorAll(`[data-value="${e}"]`);return t.length>0?t[0]:null},An={registrationCallbacks:new Map,deleteOnCallback:new Map,register(){const a=Fi(),e=a.constructor.name,t=this.registrationCallbacks.get(e);t==null||t(a),t&&this.deleteOnCallback.get(e)&&(this.registrationCallbacks.delete(e),this.deleteOnCallback.delete(e))},onRegister(a,e,t=!0){const i=mn(a.name);this.registrationCallbacks.set(i,e),this.deleteOnCallback.set(i,t)}};var ei={},ut={},_e={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.Orientation=void 0;class pe{static flip(e){return e===pe.HORZ?pe.VERT:pe.HORZ}constructor(e){this._name=e}getName(){return this._name}toString(){return this._name}}G.Orientation=pe;pe.HORZ=new pe("horz");pe.VERT=new pe("vert");var q={};Object.defineProperty(q,"__esModule",{value:!0});q.Rect=void 0;const On=G;class Xe{static empty(){return new Xe(0,0,0,0)}constructor(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o}static fromElement(e){let{x:t,y:i,width:o,height:s}=e.getBoundingClientRect();return new Xe(t,i,o,s)}clone(){return new Xe(this.x,this.y,this.width,this.height)}equals(e){return this.x===(e==null?void 0:e.x)&&this.y===(e==null?void 0:e.y)&&this.width===(e==null?void 0:e.width)&&this.height===(e==null?void 0:e.height)}getBottom(){return this.y+this.height}getRight(){return this.x+this.width}getCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}positionElement(e,t){this.styleWithPosition(e.style,t)}styleWithPosition(e,t="absolute"){return e.left=this.x+"px",e.top=this.y+"px",e.width=Math.max(0,this.width)+"px",e.height=Math.max(0,this.height)+"px",e.position=t,e}contains(e,t){return this.x<=e&&e<=this.getRight()&&this.y<=t&&t<=this.getBottom()}removeInsets(e){return new Xe(this.x+e.left,this.y+e.top,Math.max(0,this.width-e.left-e.right),Math.max(0,this.height-e.top-e.bottom))}centerInRect(e){this.x=(e.width-this.width)/2,this.y=(e.height-this.height)/2}_getSize(e){let t=this.width;return e===On.Orientation.VERT&&(t=this.height),t}toString(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}q.Rect=Xe;Object.defineProperty(_e,"__esModule",{value:!0});_e.DockLocation=void 0;const Ke=G,ae=q;class M{static getByName(e){return M.values[e]}static getLocation(e,t,i){if(t=(t-e.x)/e.width,i=(i-e.y)/e.height,t>=.25&&t<.75&&i>=.25&&i<.75)return M.CENTER;const o=i>=t,s=i>=1-t;return o?s?M.BOTTOM:M.LEFT:s?M.RIGHT:M.TOP}constructor(e,t,i){this._name=e,this._orientation=t,this._indexPlus=i,M.values[this._name]=this}getName(){return this._name}getOrientation(){return this._orientation}getDockRect(e){return this===M.TOP?new ae.Rect(e.x,e.y,e.width,e.height/2):this===M.BOTTOM?new ae.Rect(e.x,e.getBottom()-e.height/2,e.width,e.height/2):this===M.LEFT?new ae.Rect(e.x,e.y,e.width/2,e.height):this===M.RIGHT?new ae.Rect(e.getRight()-e.width/2,e.y,e.width/2,e.height):e.clone()}split(e,t){if(this===M.TOP){const i=new ae.Rect(e.x,e.y,e.width,t),o=new ae.Rect(e.x,e.y+t,e.width,e.height-t);return{start:i,end:o}}else if(this===M.LEFT){const i=new ae.Rect(e.x,e.y,t,e.height),o=new ae.Rect(e.x+t,e.y,e.width-t,e.height);return{start:i,end:o}}if(this===M.RIGHT){const i=new ae.Rect(e.getRight()-t,e.y,t,e.height),o=new ae.Rect(e.x,e.y,e.width-t,e.height);return{start:i,end:o}}else{const i=new ae.Rect(e.x,e.getBottom()-t,e.width,t),o=new ae.Rect(e.x,e.y,e.width,e.height-t);return{start:i,end:o}}}reflect(){return this===M.TOP?M.BOTTOM:this===M.LEFT?M.RIGHT:this===M.RIGHT?M.LEFT:M.TOP}toString(){return"(DockLocation: name="+this._name+", orientation="+this._orientation+")"}}_e.DockLocation=M;M.values={};M.TOP=new M("top",Ke.Orientation.VERT,0);M.BOTTOM=new M("bottom",Ke.Orientation.VERT,1);M.LEFT=new M("left",Ke.Orientation.HORZ,0);M.RIGHT=new M("right",Ke.Orientation.HORZ,1);M.CENTER=new M("center",Ke.Orientation.VERT,0);var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.DragDrop=void 0;const Rn=q,Sn=!!(typeof window<"u"&&window.document&&window.document.createElement);class Jt{constructor(){this._manualGlassManagement=!1,this._startX=0,this._startY=0,this._dragDepth=0,this._glassShowing=!1,this._dragging=!1,this._active=!1,Sn&&(this._glass=document.createElement("div"),this._glass.style.zIndex="998",this._glass.style.backgroundColor="transparent",this._glass.style.outline="none"),this._defaultGlassCursor="default",this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onKeyPress=this._onKeyPress.bind(this),this._onDragCancel=this._onDragCancel.bind(this),this._onDragEnter=this._onDragEnter.bind(this),this._onDragLeave=this._onDragLeave.bind(this),this.resizeGlass=this.resizeGlass.bind(this),this._lastClick=0,this._clickX=0,this._clickY=0}addGlass(e){var t;this._glassShowing?this._manualGlassManagement=!0:(this._document||(this._document=window.document),this._rootElement||(this._rootElement=this._document.body),this.resizeGlass(),(t=this._document.defaultView)===null||t===void 0||t.addEventListener("resize",this.resizeGlass),this._document.body.appendChild(this._glass),this._glass.tabIndex=-1,this._glass.focus(),this._glass.addEventListener("keydown",this._onKeyPress),this._glass.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._glass.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._glass.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._glassShowing=!0,this._fDragCancel=e,this._manualGlassManagement=!1)}resizeGlass(){Rn.Rect.fromElement(this._rootElement).positionElement(this._glass,"fixed")}hideGlass(){var e;this._glassShowing&&(this._document.body.removeChild(this._glass),(e=this._document.defaultView)===null||e===void 0||e.removeEventListener("resize",this.resizeGlass),this._glassShowing=!1,this._document=void 0,this._rootElement=void 0,this.setGlassCursorOverride(void 0))}_updateGlassCursor(){var e;this._glass.style.cursor=(e=this._glassCursorOverride)!==null&&e!==void 0?e:this._defaultGlassCursor}_setDefaultGlassCursor(e){this._defaultGlassCursor=e,this._updateGlassCursor()}setGlassCursorOverride(e){this._glassCursorOverride=e,this._updateGlassCursor()}startDrag(e,t,i,o,s,l,u,f,T){if(e&&this._lastEvent&&this._lastEvent.type.startsWith("touch")&&e.type.startsWith("mouse")&&e.timeStamp-this._lastEvent.timeStamp<500||this._dragging)return;this._lastEvent=e,f?this._document=f:this._document=window.document,T?this._rootElement=T:this._rootElement=this._document.body;const _=this._getLocationEvent(e);this.addGlass(s),e?(this._startX=_.clientX,this._startY=_.clientY,(!window.matchMedia||window.matchMedia("(pointer: fine)").matches)&&this._setDefaultGlassCursor(getComputedStyle(e.target).cursor),this._stopPropagation(e),this._preventDefault(e)):(this._startX=0,this._startY=0,this._setDefaultGlassCursor("default")),this._dragging=!1,this._fDragStart=t,this._fDragMove=i,this._fDragEnd=o,this._fDragCancel=s,this._fClick=l,this._fDblClick=u,this._active=!0,(e==null?void 0:e.type)==="dragenter"?(this._dragDepth=1,this._rootElement.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._rootElement.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._rootElement.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._document.addEventListener("dragend",this._onDragCancel,{passive:!1}),this._document.addEventListener("drop",this._onMouseUp,{passive:!1})):(this._document.addEventListener("mouseup",this._onMouseUp,{passive:!1}),this._document.addEventListener("mousemove",this._onMouseMove,{passive:!1}),this._document.addEventListener("touchend",this._onMouseUp,{passive:!1}),this._document.addEventListener("touchmove",this._onMouseMove,{passive:!1}))}isDragging(){return this._dragging}isActive(){return this._active}toString(){return"(DragDrop: startX="+this._startX+", startY="+this._startY+", dragging="+this._dragging+")"}_onKeyPress(e){e.code==="Escape"&&this._onDragCancel()}_onDragCancel(){this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this.hideGlass(),this._fDragCancel!==void 0&&this._fDragCancel(this._dragging),this._dragging=!1,this._active=!1}_getLocationEvent(e){let t=e;return e&&e.touches&&(t=e.touches[0]),t}_getLocationEventEnd(e){let t=e;return e.changedTouches&&(t=e.changedTouches[0]),t}_stopPropagation(e){e.stopPropagation&&e.stopPropagation()}_preventDefault(e){return e.preventDefault&&e.cancelable&&e.preventDefault(),e}_onMouseMove(e){this._lastEvent=e;const t=this._getLocationEvent(e);return this._stopPropagation(e),this._preventDefault(e),!this._dragging&&(Math.abs(this._startX-t.clientX)>5||Math.abs(this._startY-t.clientY)>5)&&(this._dragging=!0,this._fDragStart&&(this._setDefaultGlassCursor("move"),this._dragging=this._fDragStart({clientX:this._startX,clientY:this._startY}))),this._dragging&&this._fDragMove&&this._fDragMove(t),!1}_onMouseUp(e){this._lastEvent=e;const t=this._getLocationEventEnd(e);if(this._stopPropagation(e),this._preventDefault(e),this._active=!1,this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this._manualGlassManagement||this.hideGlass(),this._dragging)this._dragging=!1,this._fDragEnd&&this._fDragEnd(e);else if(this._fDragCancel&&this._fDragCancel(this._dragging),Math.abs(this._startX-t.clientX)<=5&&Math.abs(this._startY-t.clientY)<=5){let i=!1;const o=new Date().getTime();Math.abs(this._clickX-t.clientX)<=5&&Math.abs(this._clickY-t.clientY)<=5&&o-this._lastClick<500&&this._fDblClick&&(this._fDblClick(e),i=!0),!i&&this._fClick&&this._fClick(e),this._lastClick=o,this._clickX=t.clientX,this._clickY=t.clientY}return!1}_onDragEnter(e){return this._preventDefault(e),this._stopPropagation(e),this._dragDepth++,!1}_onDragLeave(e){return this._preventDefault(e),this._stopPropagation(e),this._dragDepth--,this._dragDepth<=0&&this._onDragCancel(),!1}}xe.DragDrop=Jt;Jt.instance=new Jt;var re={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.Action=void 0;class vn{constructor(e,t){this.type=e,this.data=t}}Qe.Action=vn;Object.defineProperty(re,"__esModule",{value:!0});re.Actions=void 0;const Q=Qe;class I{static addNode(e,t,i,o,s){return new Q.Action(I.ADD_NODE,{json:e,toNode:t,location:i.getName(),index:o,select:s})}static moveNode(e,t,i,o,s){return new Q.Action(I.MOVE_NODE,{fromNode:e,toNode:t,location:i.getName(),index:o,select:s})}static deleteTab(e){return new Q.Action(I.DELETE_TAB,{node:e})}static deleteTabset(e){return new Q.Action(I.DELETE_TABSET,{node:e})}static renameTab(e,t){return new Q.Action(I.RENAME_TAB,{node:e,text:t})}static selectTab(e){return new Q.Action(I.SELECT_TAB,{tabNode:e})}static setActiveTabset(e){return new Q.Action(I.SET_ACTIVE_TABSET,{tabsetNode:e})}static adjustSplit(e){const t=e.node1Id,i=e.node2Id;return new Q.Action(I.ADJUST_SPLIT,{node1:t,weight1:e.weight1,pixelWidth1:e.pixelWidth1,node2:i,weight2:e.weight2,pixelWidth2:e.pixelWidth2})}static adjustBorderSplit(e,t){return new Q.Action(I.ADJUST_BORDER_SPLIT,{node:e,pos:t})}static maximizeToggle(e){return new Q.Action(I.MAXIMIZE_TOGGLE,{node:e})}static updateModelAttributes(e){return new Q.Action(I.UPDATE_MODEL_ATTRIBUTES,{json:e})}static updateNodeAttributes(e,t){return new Q.Action(I.UPDATE_NODE_ATTRIBUTES,{node:e,json:t})}static floatTab(e){return new Q.Action(I.FLOAT_TAB,{node:e})}static unFloatTab(e){return new Q.Action(I.UNFLOAT_TAB,{node:e})}}re.Actions=I;I.ADD_NODE="FlexLayout_AddNode";I.MOVE_NODE="FlexLayout_MoveNode";I.DELETE_TAB="FlexLayout_DeleteTab";I.DELETE_TABSET="FlexLayout_DeleteTabset";I.RENAME_TAB="FlexLayout_RenameTab";I.SELECT_TAB="FlexLayout_SelectTab";I.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset";I.ADJUST_SPLIT="FlexLayout_AdjustSplit";I.ADJUST_BORDER_SPLIT="FlexLayout_AdjustBorderSplit";I.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle";I.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes";I.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes";I.FLOAT_TAB="FlexLayout_FloatTab";I.UNFLOAT_TAB="FlexLayout_UnFloatTab";var We={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.Attribute=void 0;class _t{constructor(e,t,i,o){this.name=e,this.modelName=t,this.defaultValue=i,this.alwaysWriteJson=o,this.required=!1,this.fixed=!1,this.type="any"}setType(e){return this.type=e,this}setRequired(){return this.required=!0,this}setFixed(){return this.fixed=!0,this}}Ee.Attribute=_t;_t.NUMBER="number";_t.STRING="string";_t.BOOLEAN="boolean";var me={};Object.defineProperty(me,"__esModule",{value:!0});me.AttributeDefinitions=void 0;const yn=Ee;class Ln{constructor(){this.attributes=[],this.nameToAttribute={}}addWithAll(e,t,i,o){const s=new yn.Attribute(e,t,i,o);return this.attributes.push(s),this.nameToAttribute[e]=s,s}addInherited(e,t){return this.addWithAll(e,t,void 0,!1)}add(e,t,i){return this.addWithAll(e,void 0,t,i)}getAttributes(){return this.attributes}getModelName(e){const t=this.nameToAttribute[e];if(t!==void 0)return t.modelName}toJson(e,t){for(const i of this.attributes){const o=t[i.name];(i.alwaysWriteJson||o!==i.defaultValue)&&(e[i.name]=o)}}fromJson(e,t){for(const i of this.attributes){const o=e[i.name];o===void 0?t[i.name]=i.defaultValue:t[i.name]=o}}update(e,t){for(const i of this.attributes)if(e.hasOwnProperty(i.name)){const o=e[i.name];o===void 0?delete t[i.name]:t[i.name]=o}}setDefaults(e){for(const t of this.attributes)e[t.name]=t.defaultValue}toTypescriptInterface(e,t){const i=[],o=this.attributes.sort((s,l)=>s.name.localeCompare(l.name));i.push("export interface I"+e+"Attributes {");for(let s=0;s<o.length;s++){const l=o[s];let u=l.type,f,T=l,_;T.defaultValue!==void 0?f=T.defaultValue:T.modelName!==void 0&&t!==void 0&&t.nameToAttribute[T.modelName]!==void 0&&(_=T.modelName,T=t.nameToAttribute[T.modelName],f=T.defaultValue,u=T.type);let c=JSON.stringify(f);const m=T.required||T.fixed?"":"?";if(l.fixed)i.push("	"+l.name+": "+c+";");else{const r=(f!==void 0?"default: "+c:"")+(_!==void 0?" - inherited from global "+_:"");i.push("	"+l.name+m+": "+u+";"+(r.length>0?" // "+r:""))}}return i.push("}"),i.join(`
`)}}me.AttributeDefinitions=Ln;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.DropInfo=void 0;class Nn{constructor(e,t,i,o,s){this.node=e,this.rect=t,this.location=i,this.index=o,this.className=s}}Ue.DropInfo=Nn;var j={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.CLASSES=void 0,function(e){e.FLEXLAYOUT__BORDER="flexlayout__border",e.FLEXLAYOUT__BORDER_="flexlayout__border_",e.FLEXLAYOUT__BORDER_BUTTON="flexlayout__border_button",e.FLEXLAYOUT__BORDER_BUTTON_="flexlayout__border_button_",e.FLEXLAYOUT__BORDER_BUTTON_CONTENT="flexlayout__border_button_content",e.FLEXLAYOUT__BORDER_BUTTON_LEADING="flexlayout__border_button_leading",e.FLEXLAYOUT__BORDER_BUTTON_TRAILING="flexlayout__border_button_trailing",e.FLEXLAYOUT__BORDER_BUTTON__SELECTED="flexlayout__border_button--selected",e.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED="flexlayout__border_button--unselected",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW="flexlayout__border_toolbar_button_overflow",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_="flexlayout__border_toolbar_button_overflow_",e.FLEXLAYOUT__BORDER_INNER="flexlayout__border_inner",e.FLEXLAYOUT__BORDER_INNER_="flexlayout__border_inner_",e.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER="flexlayout__border_inner_tab_container",e.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_="flexlayout__border_inner_tab_container_",e.FLEXLAYOUT__BORDER_TAB_DIVIDER="flexlayout__border_tab_divider",e.FLEXLAYOUT__BORDER_SIZER="flexlayout__border_sizer",e.FLEXLAYOUT__BORDER_TOOLBAR="flexlayout__border_toolbar",e.FLEXLAYOUT__BORDER_TOOLBAR_="flexlayout__border_toolbar_",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON="flexlayout__border_toolbar_button",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT="flexlayout__border_toolbar_button-float",e.FLEXLAYOUT__DRAG_RECT="flexlayout__drag_rect",e.FLEXLAYOUT__EDGE_RECT="flexlayout__edge_rect",e.FLEXLAYOUT__EDGE_RECT_TOP="flexlayout__edge_rect_top",e.FLEXLAYOUT__EDGE_RECT_LEFT="flexlayout__edge_rect_left",e.FLEXLAYOUT__EDGE_RECT_BOTTOM="flexlayout__edge_rect_bottom",e.FLEXLAYOUT__EDGE_RECT_RIGHT="flexlayout__edge_rect_right",e.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER="flexlayout__error_boundary_container",e.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT="flexlayout__error_boundary_content",e.FLEXLAYOUT__FLOATING_WINDOW_CONTENT="flexlayout__floating_window_content",e.FLEXLAYOUT__FLOATING_WINDOW_TAB="flexlayout__floating_window_tab",e.FLEXLAYOUT__LAYOUT="flexlayout__layout",e.FLEXLAYOUT__OUTLINE_RECT="flexlayout__outline_rect",e.FLEXLAYOUT__OUTLINE_RECT_EDGE="flexlayout__outline_rect_edge",e.FLEXLAYOUT__SPLITTER="flexlayout__splitter",e.FLEXLAYOUT__SPLITTER_EXTRA="flexlayout__splitter_extra",e.FLEXLAYOUT__SPLITTER_="flexlayout__splitter_",e.FLEXLAYOUT__SPLITTER_BORDER="flexlayout__splitter_border",e.FLEXLAYOUT__SPLITTER_DRAG="flexlayout__splitter_drag",e.FLEXLAYOUT__TAB="flexlayout__tab",e.FLEXLAYOUT__TABSET="flexlayout__tabset",e.FLEXLAYOUT__TABSET_HEADER="flexlayout__tabset_header",e.FLEXLAYOUT__TABSET_HEADER_SIZER="flexlayout__tabset_header_sizer",e.FLEXLAYOUT__TABSET_HEADER_CONTENT="flexlayout__tabset_header_content",e.FLEXLAYOUT__TABSET_MAXIMIZED="flexlayout__tabset-maximized",e.FLEXLAYOUT__TABSET_SELECTED="flexlayout__tabset-selected",e.FLEXLAYOUT__TABSET_SIZER="flexlayout__tabset_sizer",e.FLEXLAYOUT__TABSET_TAB_DIVIDER="flexlayout__tabset_tab_divider",e.FLEXLAYOUT__TABSET_CONTENT="flexlayout__tabset_content",e.FLEXLAYOUT__TABSET_TABBAR_INNER="flexlayout__tabset_tabbar_inner",e.FLEXLAYOUT__TABSET_TABBAR_INNER_="flexlayout__tabset_tabbar_inner_",e.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER="flexlayout__tabset_tabbar_inner_tab_container",e.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_="flexlayout__tabset_tabbar_inner_tab_container_",e.FLEXLAYOUT__TABSET_TABBAR_OUTER="flexlayout__tabset_tabbar_outer",e.FLEXLAYOUT__TABSET_TABBAR_OUTER_="flexlayout__tabset_tabbar_outer_",e.FLEXLAYOUT__TAB_BORDER="flexlayout__tab_border",e.FLEXLAYOUT__TAB_BORDER_="flexlayout__tab_border_",e.FLEXLAYOUT__TAB_BUTTON="flexlayout__tab_button",e.FLEXLAYOUT__TAB_BUTTON_STRETCH="flexlayout__tab_button_stretch",e.FLEXLAYOUT__TAB_BUTTON_CONTENT="flexlayout__tab_button_content",e.FLEXLAYOUT__TAB_BUTTON_LEADING="flexlayout__tab_button_leading",e.FLEXLAYOUT__TAB_BUTTON_OVERFLOW="flexlayout__tab_button_overflow",e.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT="flexlayout__tab_button_overflow_count",e.FLEXLAYOUT__TAB_BUTTON_TEXTBOX="flexlayout__tab_button_textbox",e.FLEXLAYOUT__TAB_BUTTON_TRAILING="flexlayout__tab_button_trailing",e.FLEXLAYOUT__TAB_BUTTON_STAMP="flexlayout__tab_button_stamp",e.FLEXLAYOUT__TAB_FLOATING="flexlayout__tab_floating",e.FLEXLAYOUT__TAB_FLOATING_INNER="flexlayout__tab_floating_inner",e.FLEXLAYOUT__TAB_TOOLBAR="flexlayout__tab_toolbar",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON="flexlayout__tab_toolbar_button",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_="flexlayout__tab_toolbar_button-",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT="flexlayout__tab_toolbar_button-float",e.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER="flexlayout__tab_toolbar_sticky_buttons_container",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE="flexlayout__tab_toolbar_button-close",e.FLEXLAYOUT__POPUP_MENU_CONTAINER="flexlayout__popup_menu_container",e.FLEXLAYOUT__POPUP_MENU_ITEM="flexlayout__popup_menu_item",e.FLEXLAYOUT__POPUP_MENU="flexlayout__popup_menu"}(a.CLASSES||(a.CLASSES={}))})(j);var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Node=void 0;const Dt=_e,wt=G,Dn=q;class wn{constructor(e){this._dirty=!1,this._tempSize=0,this._model=e,this._attributes={},this._children=[],this._fixed=!1,this._rect=Dn.Rect.empty(),this._visible=!1,this._listeners={}}getId(){let e=this._attributes.id;return e!==void 0||(e=this._model._nextUniqueId(),this._setId(e)),e}getModel(){return this._model}getType(){return this._attributes.type}getParent(){return this._parent}getChildren(){return this._children}getRect(){return this._rect}isVisible(){return this._visible}getOrientation(){return this._parent===void 0?this._model.isRootOrientationVertical()?wt.Orientation.VERT:wt.Orientation.HORZ:wt.Orientation.flip(this._parent.getOrientation())}setEventListener(e,t){this._listeners[e]=t}removeEventListener(e){delete this._listeners[e]}_setId(e){this._attributes.id=e}_fireEvent(e,t){this._listeners[e]!==void 0&&this._listeners[e](t)}_getAttr(e){let t=this._attributes[e];if(t===void 0){const i=this._getAttributeDefinitions().getModelName(e);i!==void 0&&(t=this._model._getAttribute(i))}return t}_forEachNode(e,t){e(this,t),t++;for(const i of this._children)i._forEachNode(e,t)}_setVisible(e){e!==this._visible&&(this._fireEvent("visibility",{visible:e}),this._visible=e)}_getDrawChildren(){return this._children}_setParent(e){this._parent=e}_setRect(e){this._rect=e}_setWeight(e){this._attributes.weight=e}_setSelected(e){this._attributes.selected=e}_isFixed(){return this._fixed}_layout(e,t){this._rect=e}_findDropTargetNode(e,t,i){let o;if(this._rect.contains(t,i)){if(this._model.getMaximizedTabset()!==void 0)o=this._model.getMaximizedTabset().canDrop(e,t,i);else if(o=this.canDrop(e,t,i),o===void 0&&this._children.length!==0){for(const s of this._children)if(o=s._findDropTargetNode(e,t,i),o!==void 0)break}}return o}canDrop(e,t,i){}_canDockInto(e,t){if(t!=null){if(t.location===Dt.DockLocation.CENTER&&t.node.isEnableDrop()===!1||t.location===Dt.DockLocation.CENTER&&e.getType()==="tabset"&&e.getName()!==void 0||t.location!==Dt.DockLocation.CENTER&&t.node.isEnableDivide()===!1)return!1;if(this._model._getOnAllowDrop())return this._model._getOnAllowDrop()(e,t)}return!0}_removeChild(e){const t=this._children.indexOf(e);return t!==-1&&this._children.splice(t,1),this._dirty=!0,t}_addChild(e,t){return t!=null?this._children.splice(t,0,e):(this._children.push(e),t=this._children.length-1),e._parent=this,this._dirty=!0,t}_removeAll(){this._children=[],this._dirty=!0}_styleWithPosition(e){return e==null&&(e={}),this._rect.styleWithPosition(e)}_getTempSize(){return this._tempSize}_setTempSize(e){this._tempSize=e}isEnableDivide(){return!0}_toAttributeString(){return JSON.stringify(this._attributes,void 0,"	")}}Ae.Node=wn;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.SplitterNode=void 0;const Bn=me,Bt=G,Cn=Ae;class ft extends Cn.Node{constructor(e){super(e),this._fixed=!0,this._attributes.type=ft.TYPE,e._addNode(this)}getWidth(){return this._model.getSplitterSize()}getMinWidth(){return this.getOrientation()===Bt.Orientation.VERT?this._model.getSplitterSize():0}getHeight(){return this._model.getSplitterSize()}getMinHeight(){return this.getOrientation()===Bt.Orientation.HORZ?this._model.getSplitterSize():0}getMinSize(e){return e===Bt.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}getWeight(){return 0}_setWeight(e){}_getPrefSize(e){return this._model.getSplitterSize()}_updateAttrs(e){}_getAttributeDefinitions(){return new Bn.AttributeDefinitions}toJson(){}}Fe.SplitterNode=ft;ft.TYPE="splitter";var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.TabNode=void 0;const W=Ee,Mn=me,In=Ae;class de extends In.Node{static _fromJson(e,t,i=!0){return new de(t,e,i)}static _createAttributeDefinitions(){const e=new Mn.AttributeDefinitions;return e.add("type",de.TYPE,!0).setType(W.Attribute.STRING),e.add("id",void 0).setType(W.Attribute.STRING),e.add("name","[Unnamed Tab]").setType(W.Attribute.STRING),e.add("altName",void 0).setType(W.Attribute.STRING),e.add("helpText",void 0).setType(W.Attribute.STRING),e.add("component",void 0).setType(W.Attribute.STRING),e.add("config",void 0).setType("any"),e.add("floating",!1).setType(W.Attribute.BOOLEAN),e.add("tabsetClassName",void 0).setType(W.Attribute.STRING),e.addInherited("enableClose","tabEnableClose").setType(W.Attribute.BOOLEAN),e.addInherited("closeType","tabCloseType").setType("ICloseType"),e.addInherited("enableDrag","tabEnableDrag").setType(W.Attribute.BOOLEAN),e.addInherited("enableRename","tabEnableRename").setType(W.Attribute.BOOLEAN),e.addInherited("className","tabClassName").setType(W.Attribute.STRING),e.addInherited("contentClassName","tabContentClassName").setType(W.Attribute.STRING),e.addInherited("icon","tabIcon").setType(W.Attribute.STRING),e.addInherited("enableRenderOnDemand","tabEnableRenderOnDemand").setType(W.Attribute.BOOLEAN),e.addInherited("enableFloat","tabEnableFloat").setType(W.Attribute.BOOLEAN),e.addInherited("borderWidth","tabBorderWidth").setType(W.Attribute.NUMBER),e.addInherited("borderHeight","tabBorderHeight").setType(W.Attribute.NUMBER),e}constructor(e,t,i=!0){super(e),this._extra={},de._attributeDefinitions.fromJson(t,this._attributes),i===!0&&e._addNode(this)}getWindow(){return this._window}getTabRect(){return this._tabRect}_setTabRect(e){this._tabRect=e}_setRenderedName(e){this._renderedName=e}_getNameForOverflowMenu(){const e=this._getAttr("altName");return e!==void 0?e:this._renderedName}getName(){return this._getAttr("name")}getHelpText(){return this._getAttr("helpText")}getComponent(){return this._getAttr("component")}getConfig(){return this._attributes.config}getExtraData(){return this._extra}isFloating(){return this._getAttr("floating")}getIcon(){return this._getAttr("icon")}isEnableClose(){return this._getAttr("enableClose")}getCloseType(){return this._getAttr("closeType")}isEnableFloat(){return this._getAttr("enableFloat")}isEnableDrag(){return this._getAttr("enableDrag")}isEnableRename(){return this._getAttr("enableRename")}getClassName(){return this._getAttr("className")}getContentClassName(){return this._getAttr("contentClassName")}getTabSetClassName(){return this._getAttr("tabsetClassName")}isEnableRenderOnDemand(){return this._getAttr("enableRenderOnDemand")}_setName(e){this._attributes.name=e,this._window&&this._window.document&&(this._window.document.title=e)}_setFloating(e){this._attributes.floating=e}_layout(e,t){e.equals(this._rect)||this._fireEvent("resize",{rect:e}),this._rect=e}_delete(){this._parent._remove(this),this._fireEvent("close",{})}toJson(){const e={};return de._attributeDefinitions.toJson(e,this._attributes),e}_updateAttrs(e){de._attributeDefinitions.update(e,this._attributes)}_getAttributeDefinitions(){return de._attributeDefinitions}_setWindow(e){this._window=e}_setBorderWidth(e){this._attributes.borderWidth=e}_setBorderHeight(e){this._attributes.borderHeight=e}static getAttributeDefinitions(){return de._attributeDefinitions}}Be.TabNode=de;de.TYPE="tab";de._attributeDefinitions=de._createAttributeDefinitions();var le={},$e={},Ge={},ai;function ti(){if(ai)return Ge;ai=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.RowNode=void 0;const a=Ee,e=me,t=_e,i=Ue,o=G,s=q,l=j,u=Oe(),f=Ae,T=Fe,_=Ce();let c=class Z extends f.Node{static _fromJson(r,n){const d=new Z(n,r);if(r.children!=null)for(const h of r.children)if(h.type===_.TabSetNode.TYPE){const p=_.TabSetNode._fromJson(h,n);d._addChild(p)}else{const p=Z._fromJson(h,n);d._addChild(p)}return d}static _createAttributeDefinitions(){const r=new e.AttributeDefinitions;return r.add("type",Z.TYPE,!0).setType(a.Attribute.STRING).setFixed(),r.add("id",void 0).setType(a.Attribute.STRING),r.add("weight",100).setType(a.Attribute.NUMBER),r.add("width",void 0).setType(a.Attribute.NUMBER),r.add("height",void 0).setType(a.Attribute.NUMBER),r}constructor(r,n){super(r),this._dirty=!0,this._drawChildren=[],this._minHeight=0,this._minWidth=0,Z._attributeDefinitions.fromJson(n,this._attributes),r._addNode(this)}getWeight(){return this._attributes.weight}getWidth(){return this._getAttr("width")}getHeight(){return this._getAttr("height")}_setWeight(r){this._attributes.weight=r}_layout(r,n){super._layout(r,n);const d=this._rect._getSize(this.getOrientation());let h=0,p=0,g=0,b=0;const O=this._getDrawChildren();for(const y of O){const D=y._getPrefSize(this.getOrientation());y._isFixed()?D!==void 0&&(p+=D):D===void 0?h+=y.getWeight():(g+=D,b+=y.getWeight())}let A=!1,E=d-p-g;E<0&&(E=d-p,A=!0,h+=b);let S=0,v=0;for(const y of O){const D=y._getPrefSize(this.getOrientation());if(y._isFixed())D!==void 0&&y._setTempSize(D);else if(D==null||A){if(h===0)y._setTempSize(0);else{const R=y.getMinSize(this.getOrientation()),P=Math.floor(E*(y.getWeight()/h));y._setTempSize(Math.max(R,P))}v+=y._getTempSize()}else y._setTempSize(D);S+=y._getTempSize()}if(v>0){for(;S<d;)for(const y of O)if(!(y instanceof T.SplitterNode)){const D=y._getPrefSize(this.getOrientation());!y._isFixed()&&(D===void 0||A)&&S<d&&(y._setTempSize(y._getTempSize()+1),S++)}for(;S>d;){let y=!1;for(const D of O)if(!(D instanceof T.SplitterNode)){const R=D.getMinSize(this.getOrientation());D._getTempSize()>R&&S>d&&(D._setTempSize(D._getTempSize()-1),S--,y=!0)}if(!y)break}for(;S>d;){let y=!1;for(const D of O)D instanceof T.SplitterNode||D._getTempSize()>0&&S>d&&(D._setTempSize(D._getTempSize()-1),S--,y=!0);if(!y)break}}let z=0;for(const y of O)this.getOrientation()===o.Orientation.HORZ?y._layout(new s.Rect(this._rect.x+z,this._rect.y,y._getTempSize(),this._rect.height),n):y._layout(new s.Rect(this._rect.x,this._rect.y+z,this._rect.width,y._getTempSize()),n),z+=y._getTempSize();return!0}_getSplitterBounds(r,n=!1){const d=[0,0],h=this._getDrawChildren(),p=h.indexOf(r),g=h[p-1],b=h[p+1];if(this.getOrientation()===o.Orientation.HORZ){const O=n?g.getMinWidth():0,A=n?b.getMinWidth():0;d[0]=g.getRect().x+O,d[1]=b.getRect().getRight()-r.getWidth()-A}else{const O=n?g.getMinHeight():0,A=n?b.getMinHeight():0;d[0]=g.getRect().y+O,d[1]=b.getRect().getBottom()-r.getHeight()-A}return d}_calculateSplit(r,n){let d;const h=this._getDrawChildren(),p=h.indexOf(r),g=this._getSplitterBounds(r),b=h[p-1].getWeight()+h[p+1].getWeight(),O=Math.max(0,n-g[0]),A=Math.max(0,g[1]-n);if(O+A>0){const E=O*b/(O+A),S=A*b/(O+A);d={node1Id:h[p-1].getId(),weight1:E,pixelWidth1:O,node2Id:h[p+1].getId(),weight2:S,pixelWidth2:A}}return d}_getDrawChildren(){if(this._dirty){this._drawChildren=[];for(let r=0;r<this._children.length;r++){const n=this._children[r];if(r!==0){const d=new T.SplitterNode(this._model);d._setParent(this),this._drawChildren.push(d)}this._drawChildren.push(n)}this._dirty=!1}return this._drawChildren}getMinSize(r){return r===o.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}getMinWidth(){return this._minWidth}getMinHeight(){return this._minHeight}calcMinSize(){this._minHeight=0,this._minWidth=0;let r=!0;for(const n of this._children){const d=n;d instanceof Z&&d.calcMinSize(),this.getOrientation()===o.Orientation.VERT?(this._minHeight+=d.getMinHeight(),r||(this._minHeight+=this._model.getSplitterSize()),this._minWidth=Math.max(this._minWidth,d.getMinWidth())):(this._minWidth+=d.getMinWidth(),r||(this._minWidth+=this._model.getSplitterSize()),this._minHeight=Math.max(this._minHeight,d.getMinHeight())),r=!1}}_tidy(){let r=0;for(;r<this._children.length;){const n=this._children[r];if(n instanceof Z){n._tidy();const d=n.getChildren();if(d.length===0)this._removeChild(n);else if(d.length===1){const h=d[0];if(this._removeChild(n),h instanceof Z){let p=0;const g=h.getChildren();for(const b of g)p+=b.getWeight();for(let b=0;b<g.length;b++){const O=g[b];O._setWeight(n.getWeight()*O.getWeight()/p),this._addChild(O,r+b)}}else h._setWeight(n.getWeight()),this._addChild(h,r)}else r++}else n instanceof _.TabSetNode&&n.getChildren().length===0&&n.isEnableDeleteWhenEmpty()?(this._removeChild(n),n===this._model.getMaximizedTabset()&&this._model._setMaximizedTabset(void 0)):r++}if(this===this._model.getRoot()&&this._children.length===0){const n=this._model._getOnCreateTabSet();let d=n?n():{};d=Object.assign(Object.assign({},d),{selected:-1});const h=new _.TabSetNode(this._model,d);this._model._setActiveTabset(h),this._addChild(h)}}canDrop(r,n,d){const h=d-this._rect.y,p=n-this._rect.x,g=this._rect.width,b=this._rect.height,O=10,A=50;let E;if(this._model.isEnableEdgeDock()&&this._parent===void 0){if(n<this._rect.x+O&&h>b/2-A&&h<b/2+A){const S=t.DockLocation.LEFT,v=S.getDockRect(this._rect);v.width=v.width/2,E=new i.DropInfo(this,v,S,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(n>this._rect.getRight()-O&&h>b/2-A&&h<b/2+A){const S=t.DockLocation.RIGHT,v=S.getDockRect(this._rect);v.width=v.width/2,v.x+=v.width,E=new i.DropInfo(this,v,S,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(d<this._rect.y+O&&p>g/2-A&&p<g/2+A){const S=t.DockLocation.TOP,v=S.getDockRect(this._rect);v.height=v.height/2,E=new i.DropInfo(this,v,S,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(d>this._rect.getBottom()-O&&p>g/2-A&&p<g/2+A){const S=t.DockLocation.BOTTOM,v=S.getDockRect(this._rect);v.height=v.height/2,v.y+=v.height,E=new i.DropInfo(this,v,S,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}if(E!==void 0&&!r._canDockInto(r,E))return}return E}drop(r,n,d){const h=n,p=r.getParent();p&&p._removeChild(r),p!==void 0&&p.getType()===_.TabSetNode.TYPE&&p._setSelected(0),p!==void 0&&p.getType()===u.BorderNode.TYPE&&p._setSelected(-1);let g;if(r instanceof _.TabSetNode)g=r;else{const A=this._model._getOnCreateTabSet();g=new _.TabSetNode(this._model,A?A(r):{}),g._addChild(r)}let b=this._children.reduce((A,E)=>A+E.getWeight(),0);b===0&&(b=100),g._setWeight(b/3);const O=!this._model.isRootOrientationVertical();if(O&&h===t.DockLocation.LEFT||!O&&h===t.DockLocation.TOP)this._addChild(g,0);else if(O&&h===t.DockLocation.RIGHT||!O&&h===t.DockLocation.BOTTOM)this._addChild(g);else if(O&&h===t.DockLocation.TOP||!O&&h===t.DockLocation.LEFT){const A=new Z(this._model,{}),E=new Z(this._model,{});E._setWeight(75),g._setWeight(25);for(const S of this._children)E._addChild(S);this._removeAll(),A._addChild(g),A._addChild(E),this._addChild(A)}else if(O&&h===t.DockLocation.BOTTOM||!O&&h===t.DockLocation.RIGHT){const A=new Z(this._model,{}),E=new Z(this._model,{});E._setWeight(75),g._setWeight(25);for(const S of this._children)E._addChild(S);this._removeAll(),A._addChild(E),A._addChild(g),this._addChild(A)}this._model._setActiveTabset(g),this._model._tidy()}toJson(){const r={};Z._attributeDefinitions.toJson(r,this._attributes),r.children=[];for(const n of this._children)r.children.push(n.toJson());return r}isEnableDrop(){return!0}_getPrefSize(r){let n=this.getWidth();return r===o.Orientation.VERT&&(n=this.getHeight()),n}_getAttributeDefinitions(){return Z._attributeDefinitions}_updateAttrs(r){Z._attributeDefinitions.update(r,this._attributes)}static getAttributeDefinitions(){return Z._attributeDefinitions}};return Ge.RowNode=c,c.TYPE="row",c._attributeDefinitions=c._createAttributeDefinitions(),Ge}var di;function Ce(){if(di)return $e;di=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.TabSetNode=void 0;const a=Ee,e=me,t=_e,i=Ue,o=G,s=q,l=j,u=Oe(),f=Ae,T=ti(),_=Be,c=ii();let m=class Te extends f.Node{static _fromJson(n,d){const h=new Te(d,n);if(n.children!=null)for(const p of n.children){const g=_.TabNode._fromJson(p,d);h._addChild(g)}return h._children.length===0&&h._setSelected(-1),n.maximized&&n.maximized===!0&&d._setMaximizedTabset(h),n.active&&n.active===!0&&d._setActiveTabset(h),h}static _createAttributeDefinitions(){const n=new e.AttributeDefinitions;return n.add("type",Te.TYPE,!0).setType(a.Attribute.STRING).setFixed(),n.add("id",void 0).setType(a.Attribute.STRING),n.add("weight",100).setType(a.Attribute.NUMBER),n.add("width",void 0).setType(a.Attribute.NUMBER),n.add("height",void 0).setType(a.Attribute.NUMBER),n.add("selected",0).setType(a.Attribute.NUMBER),n.add("name",void 0).setType(a.Attribute.STRING),n.add("config",void 0).setType("any"),n.addInherited("enableDeleteWhenEmpty","tabSetEnableDeleteWhenEmpty"),n.addInherited("enableDrop","tabSetEnableDrop"),n.addInherited("enableDrag","tabSetEnableDrag"),n.addInherited("enableDivide","tabSetEnableDivide"),n.addInherited("enableMaximize","tabSetEnableMaximize"),n.addInherited("enableClose","tabSetEnableClose"),n.addInherited("enableSingleTabStretch","tabSetEnableSingleTabStretch"),n.addInherited("classNameTabStrip","tabSetClassNameTabStrip"),n.addInherited("classNameHeader","tabSetClassNameHeader"),n.addInherited("enableTabStrip","tabSetEnableTabStrip"),n.addInherited("borderInsets","tabSetBorderInsets"),n.addInherited("marginInsets","tabSetMarginInsets"),n.addInherited("minWidth","tabSetMinWidth"),n.addInherited("minHeight","tabSetMinHeight"),n.addInherited("headerHeight","tabSetHeaderHeight"),n.addInherited("tabStripHeight","tabSetTabStripHeight"),n.addInherited("tabLocation","tabSetTabLocation"),n.addInherited("autoSelectTab","tabSetAutoSelectTab").setType(a.Attribute.BOOLEAN),n}constructor(n,d){super(n),Te._attributeDefinitions.fromJson(d,this._attributes),n._addNode(this),this._calculatedTabBarHeight=0,this._calculatedHeaderBarHeight=0}getName(){return this._getAttr("name")}getSelected(){const n=this._attributes.selected;return n!==void 0?n:-1}getSelectedNode(){const n=this.getSelected();if(n!==-1)return this._children[n]}getWeight(){return this._getAttr("weight")}getWidth(){return this._getAttr("width")}getMinWidth(){return this._getAttr("minWidth")}getHeight(){return this._getAttr("height")}getMinHeight(){return this._getAttr("minHeight")}getMinSize(n){return n===o.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}getConfig(){return this._attributes.config}isMaximized(){return this._model.getMaximizedTabset()===this}isActive(){return this._model.getActiveTabset()===this}isEnableDeleteWhenEmpty(){return this._getAttr("enableDeleteWhenEmpty")}isEnableDrop(){return this._getAttr("enableDrop")}isEnableDrag(){return this._getAttr("enableDrag")}isEnableDivide(){return this._getAttr("enableDivide")}isEnableMaximize(){return this._getAttr("enableMaximize")}isEnableClose(){return this._getAttr("enableClose")}isEnableSingleTabStretch(){return this._getAttr("enableSingleTabStretch")}canMaximize(){return this.isEnableMaximize()?this.getModel().getMaximizedTabset()===this?!0:!(this.getParent()===this.getModel().getRoot()&&this.getModel().getRoot().getChildren().length===1):!1}isEnableTabStrip(){return this._getAttr("enableTabStrip")}isAutoSelectTab(){return this._getAttr("autoSelectTab")}getClassNameTabStrip(){return this._getAttr("classNameTabStrip")}getClassNameHeader(){return this._getAttr("classNameHeader")}calculateHeaderBarHeight(n){const d=this._getAttr("headerHeight");d!==0?this._calculatedHeaderBarHeight=d:this._calculatedHeaderBarHeight=n.headerBarSize}calculateTabBarHeight(n){const d=this._getAttr("tabStripHeight");d!==0?this._calculatedTabBarHeight=d:this._calculatedTabBarHeight=n.tabBarSize}getHeaderHeight(){return this._calculatedHeaderBarHeight}getTabStripHeight(){return this._calculatedTabBarHeight}getTabLocation(){return this._getAttr("tabLocation")}_setWeight(n){this._attributes.weight=n}_setSelected(n){this._attributes.selected=n}canDrop(n,d,h){let p;if(n===this){const g=t.DockLocation.CENTER,b=this._tabHeaderRect;p=new i.DropInfo(this,b,g,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._contentRect.contains(d,h)){let g=t.DockLocation.CENTER;this._model.getMaximizedTabset()===void 0&&(g=t.DockLocation.getLocation(this._contentRect,d,h));const b=g.getDockRect(this._rect);p=new i.DropInfo(this,b,g,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._tabHeaderRect!=null&&this._tabHeaderRect.contains(d,h)){let g,b,O;if(this._children.length===0)g=this._tabHeaderRect.clone(),b=g.y+3,O=g.height-4,g.width=2;else{let A=this._children[0];g=A.getTabRect(),b=g.y,O=g.height;let E=this._tabHeaderRect.x,S=0;for(let v=0;v<this._children.length;v++){if(A=this._children[v],g=A.getTabRect(),S=g.x+g.width/2,d>=E&&d<S){const z=t.DockLocation.CENTER,y=new s.Rect(g.x-2,b,3,O);p=new i.DropInfo(this,y,z,v,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}E=S}}if(p==null){const A=t.DockLocation.CENTER,E=new s.Rect(g.getRight()-2,b,3,O);p=new i.DropInfo(this,E,A,this._children.length,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}if(n._canDockInto(n,p))return p}_layout(n,d){this.calculateHeaderBarHeight(d),this.calculateTabBarHeight(d),this.isMaximized()&&(n=this._model.getRoot().getRect()),n=n.removeInsets(this._getAttr("marginInsets")),this._rect=n,n=n.removeInsets(this._getAttr("borderInsets"));const h=this.getName()!==void 0;let p=0,g=0;h&&(p+=this._calculatedHeaderBarHeight,g+=this._calculatedHeaderBarHeight),this.isEnableTabStrip()&&(this.getTabLocation()==="top"?this._tabHeaderRect=new s.Rect(n.x,n.y+p,n.width,this._calculatedTabBarHeight):this._tabHeaderRect=new s.Rect(n.x,n.y+n.height-this._calculatedTabBarHeight,n.width,this._calculatedTabBarHeight),g+=this._calculatedTabBarHeight,this.getTabLocation()==="top"&&(p+=this._calculatedTabBarHeight)),this._contentRect=new s.Rect(n.x,n.y+p,n.width,n.height-g);for(let b=0;b<this._children.length;b++){const O=this._children[b];O._layout(this._contentRect,d),O._setVisible(b===this.getSelected())}}_delete(){this._parent._removeChild(this)}_remove(n){const d=this._removeChild(n);this._model._tidy(),(0,c.adjustSelectedIndex)(this,d)}drop(n,d,h,p){const g=d;if(this===n)return;let b=n.getParent(),O=0;if(b!==void 0&&(O=b._removeChild(n),b instanceof u.BorderNode&&b.getSelected()===O?b._setSelected(-1):(0,c.adjustSelectedIndex)(b,O)),n.getType()===_.TabNode.TYPE&&b===this&&O<h&&h>0&&h--,g===t.DockLocation.CENTER){let A=h;if(A===-1&&(A=this._children.length),n.getType()===_.TabNode.TYPE)this._addChild(n,A),(p||p!==!1&&this.isAutoSelectTab())&&this._setSelected(A);else{for(let E=0;E<n.getChildren().length;E++){const S=n.getChildren()[E];this._addChild(S,A),A++}this.getSelected()===-1&&this._children.length>0&&this._setSelected(0)}this._model._setActiveTabset(this)}else{let A;if(n instanceof _.TabNode){const v=this._model._getOnCreateTabSet();A=new Te(this._model,v?v(n):{}),A._addChild(n),b=A}else A=n;const E=this._parent,S=E.getChildren().indexOf(this);if(E.getOrientation()===g._orientation)A._setWeight(this.getWeight()/2),this._setWeight(this.getWeight()/2),E._addChild(A,S+g._indexPlus);else{const v=new T.RowNode(this._model,{});v._setWeight(this.getWeight()),v._addChild(this),this._setWeight(50),A._setWeight(50),v._addChild(A,g._indexPlus),E._removeChild(this),E._addChild(v,S)}this._model._setActiveTabset(A)}this._model._tidy()}toJson(){const n={};return Te._attributeDefinitions.toJson(n,this._attributes),n.children=this._children.map(d=>d.toJson()),this.isActive()&&(n.active=!0),this.isMaximized()&&(n.maximized=!0),n}_updateAttrs(n){Te._attributeDefinitions.update(n,this._attributes)}_getAttributeDefinitions(){return Te._attributeDefinitions}_getPrefSize(n){let d=this.getWidth();return n===o.Orientation.VERT&&(d=this.getHeight()),d}static getAttributeDefinitions(){return Te._attributeDefinitions}};return $e.TabSetNode=m,m.TYPE="tabset",m._attributeDefinitions=m._createAttributeDefinitions(),$e}var li;function ii(){if(li)return le;li=1,Object.defineProperty(le,"__esModule",{value:!0}),le.randomUUID=le.adjustSelectedIndex=le.adjustSelectedIndexAfterDock=le.adjustSelectedIndexAfterFloat=void 0;const a=Ce(),e=Oe();function t(l){const u=l.getParent();if(u!==null)if(u instanceof a.TabSetNode){let f=!1,T=0;const _=u.getChildren();for(let c=0;c<_.length;c++){const m=_[c];if(m===l)f=!0;else if(!m.isFloating()&&(T=c,f))break}u._setSelected(T)}else u instanceof e.BorderNode&&u._setSelected(-1)}le.adjustSelectedIndexAfterFloat=t;function i(l){const u=l.getParent();if(u!==null&&(u instanceof a.TabSetNode||u instanceof e.BorderNode)){const f=u.getChildren();for(let T=0;T<f.length;T++)if(f[T]===l){u._setSelected(T);return}}}le.adjustSelectedIndexAfterDock=i;function o(l,u){if(l!==void 0&&(l.getType()===a.TabSetNode.TYPE||l.getType()===e.BorderNode.TYPE)){const f=l.getSelected();f!==-1&&(u===f&&l.getChildren().length>0?u>=l.getChildren().length&&l._setSelected(l.getChildren().length-1):u<f?l._setSelected(f-1):u>f||l._setSelected(-1))}}le.adjustSelectedIndex=o;function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,l=>(l^crypto.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16))}return le.randomUUID=s,le}var ci;function Oe(){if(ci)return We;ci=1,Object.defineProperty(We,"__esModule",{value:!0}),We.BorderNode=void 0;const a=Ee,e=me,t=_e,i=Ue,o=G,s=q,l=j,u=Ae,f=Fe,T=Be,_=ii();let c=class be extends u.Node{static _fromJson(r,n){const d=t.DockLocation.getByName(r.location),h=new be(d,r,n);return r.children&&(h._children=r.children.map(p=>{const g=T.TabNode._fromJson(p,n);return g._setParent(h),g})),h}static _createAttributeDefinitions(){const r=new e.AttributeDefinitions;return r.add("type",be.TYPE,!0).setType(a.Attribute.STRING).setFixed(),r.add("selected",-1).setType(a.Attribute.NUMBER),r.add("show",!0).setType(a.Attribute.BOOLEAN),r.add("config",void 0).setType("any"),r.addInherited("barSize","borderBarSize").setType(a.Attribute.NUMBER),r.addInherited("enableDrop","borderEnableDrop").setType(a.Attribute.BOOLEAN),r.addInherited("className","borderClassName").setType(a.Attribute.STRING),r.addInherited("autoSelectTabWhenOpen","borderAutoSelectTabWhenOpen").setType(a.Attribute.BOOLEAN),r.addInherited("autoSelectTabWhenClosed","borderAutoSelectTabWhenClosed").setType(a.Attribute.BOOLEAN),r.addInherited("size","borderSize").setType(a.Attribute.NUMBER),r.addInherited("minSize","borderMinSize").setType(a.Attribute.NUMBER),r.addInherited("enableAutoHide","borderEnableAutoHide").setType(a.Attribute.BOOLEAN),r}constructor(r,n,d){super(d),this._adjustedSize=0,this._calculatedBorderBarSize=0,this._location=r,this._drawChildren=[],this._attributes.id=`border_${r.getName()}`,be._attributeDefinitions.fromJson(n,this._attributes),d._addNode(this)}getLocation(){return this._location}getTabHeaderRect(){return this._tabHeaderRect}getRect(){return this._tabHeaderRect}getContentRect(){return this._contentRect}isEnableDrop(){return this._getAttr("enableDrop")}isAutoSelectTab(r){return r==null&&(r=this.getSelected()!==-1),r?this._getAttr("autoSelectTabWhenOpen"):this._getAttr("autoSelectTabWhenClosed")}getClassName(){return this._getAttr("className")}calcBorderBarSize(r){const n=this._getAttr("barSize");n!==0?this._calculatedBorderBarSize=n:this._calculatedBorderBarSize=r.borderBarSize}getBorderBarSize(){return this._calculatedBorderBarSize}getSize(){const r=this._getAttr("size"),n=this.getSelected();if(n===-1)return r;{const d=this._children[n],h=this._location._orientation===o.Orientation.HORZ?d._getAttr("borderWidth"):d._getAttr("borderHeight");return h===-1?r:h}}getMinSize(){return this._getAttr("minSize")}getSelected(){return this._attributes.selected}getSelectedNode(){if(this.getSelected()!==-1)return this._children[this.getSelected()]}getOrientation(){return this._location.getOrientation()}getConfig(){return this._attributes.config}isMaximized(){return!1}isShowing(){return this._attributes.show?!(this._model._getShowHiddenBorder()!==this._location&&this.isAutoHide()&&this._children.length===0):!1}isAutoHide(){return this._getAttr("enableAutoHide")}_setSelected(r){this._attributes.selected=r}_setSize(r){const n=this.getSelected();if(n===-1)this._attributes.size=r;else{const d=this._children[n];(this._location._orientation===o.Orientation.HORZ?d._getAttr("borderWidth"):d._getAttr("borderHeight"))===-1?this._attributes.size=r:this._location._orientation===o.Orientation.HORZ?d._setBorderWidth(r):d._setBorderHeight(r)}}_updateAttrs(r){be._attributeDefinitions.update(r,this._attributes)}_getDrawChildren(){return this._drawChildren}_setAdjustedSize(r){this._adjustedSize=r}_getAdjustedSize(){return this._adjustedSize}_layoutBorderOuter(r,n){this.calcBorderBarSize(n);const d=this._location.split(r,this.getBorderBarSize());return this._tabHeaderRect=d.start,d.end}_layoutBorderInner(r,n){this._drawChildren=[];const d=this._location,h=d.split(r,this._adjustedSize+this._model.getSplitterSize()),p=d.reflect().split(h.start,this._model.getSplitterSize());this._contentRect=p.end;for(let g=0;g<this._children.length;g++){const b=this._children[g];b._layout(this._contentRect,n),b._setVisible(g===this.getSelected()),this._drawChildren.push(b)}if(this.getSelected()===-1)return r;{const g=new f.SplitterNode(this._model);return g._setParent(this),g._setRect(p.start),this._drawChildren.push(g),h.end}}_remove(r){const n=this._removeChild(r);this.getSelected()!==-1&&(0,_.adjustSelectedIndex)(this,n)}canDrop(r,n,d){if(r.getType()!==T.TabNode.TYPE)return;let h;const p=t.DockLocation.CENTER;if(this._tabHeaderRect.contains(n,d)){if(this._location._orientation===o.Orientation.VERT)if(this._children.length>0){let g=this._children[0],b=g.getTabRect();const O=b.y,A=b.height;let E=this._tabHeaderRect.x,S=0;for(let v=0;v<this._children.length;v++){if(g=this._children[v],b=g.getTabRect(),S=b.x+b.width/2,n>=E&&n<S){const z=new s.Rect(b.x-2,O,3,A);h=new i.DropInfo(this,z,p,v,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}E=S}if(h==null){const v=new s.Rect(b.getRight()-2,O,3,A);h=new i.DropInfo(this,v,p,this._children.length,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}else{const g=new s.Rect(this._tabHeaderRect.x+1,this._tabHeaderRect.y+2,3,18);h=new i.DropInfo(this,g,p,0,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._children.length>0){let g=this._children[0],b=g.getTabRect();const O=b.x,A=b.width;let E=this._tabHeaderRect.y,S=0;for(let v=0;v<this._children.length;v++){if(g=this._children[v],b=g.getTabRect(),S=b.y+b.height/2,d>=E&&d<S){const z=new s.Rect(O,b.y-2,A,3);h=new i.DropInfo(this,z,p,v,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}E=S}if(h==null){const v=new s.Rect(O,b.getBottom()-2,A,3);h=new i.DropInfo(this,v,p,this._children.length,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}else{const g=new s.Rect(this._tabHeaderRect.x+2,this._tabHeaderRect.y+1,18,3);h=new i.DropInfo(this,g,p,0,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}if(!r._canDockInto(r,h))return}else if(this.getSelected()!==-1&&this._contentRect.contains(n,d)){const g=this._contentRect;if(h=new i.DropInfo(this,g,p,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT),!r._canDockInto(r,h))return}return h}drop(r,n,d,h){let p=0;const g=r.getParent();g!==void 0&&(p=g._removeChild(r),g!==this&&g instanceof be&&g.getSelected()===p?g._setSelected(-1):(0,_.adjustSelectedIndex)(g,p)),r.getType()===T.TabNode.TYPE&&g===this&&p<d&&d>0&&d--;let b=d;b===-1&&(b=this._children.length),r.getType()===T.TabNode.TYPE&&this._addChild(r,b),(h||h!==!1&&this.isAutoSelectTab())&&this._setSelected(b),this._model._tidy()}toJson(){const r={};return be._attributeDefinitions.toJson(r,this._attributes),r.location=this._location.getName(),r.children=this._children.map(n=>n.toJson()),r}_getSplitterBounds(r,n=!1){const d=[0,0],h=n?this.getMinSize():0,p=this._model._getOuterInnerRects().outer,g=this._model._getOuterInnerRects().inner,b=this._model.getRoot();return this._location===t.DockLocation.TOP?(d[0]=p.y+h,d[1]=Math.max(d[0],g.getBottom()-r.getHeight()-b.getMinHeight())):this._location===t.DockLocation.LEFT?(d[0]=p.x+h,d[1]=Math.max(d[0],g.getRight()-r.getWidth()-b.getMinWidth())):this._location===t.DockLocation.BOTTOM?(d[1]=p.getBottom()-r.getHeight()-h,d[0]=Math.min(d[1],g.y+b.getMinHeight())):this._location===t.DockLocation.RIGHT&&(d[1]=p.getRight()-r.getWidth()-h,d[0]=Math.min(d[1],g.x+b.getMinWidth())),d}_calculateSplit(r,n){const d=this._getSplitterBounds(r);return this._location===t.DockLocation.BOTTOM||this._location===t.DockLocation.RIGHT?Math.max(0,d[1]-n):Math.max(0,n-d[0])}_getAttributeDefinitions(){return be._attributeDefinitions}static getAttributeDefinitions(){return be._attributeDefinitions}};return We.BorderNode=c,c.TYPE="border",c._attributeDefinitions=c._createAttributeDefinitions(),We}var gt={},Tt={},Re={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.I18nLabel=void 0,function(e){e.Close_Tab="Close",e.Close_Tabset="Close tabset",e.Move_Tab="Move: ",e.Move_Tabset="Move tabset",e.Maximize="Maximize tabset",e.Restore="Restore tabset",e.Float_Tab="Show selected tab in floating window",e.Overflow_Menu_Tooltip="Hidden tabs",e.Floating_Window_Message="This panel is shown in a floating window",e.Floating_Window_Show_Window="Show window",e.Floating_Window_Dock_Window="Dock window",e.Error_rendering_component="Error rendering component"}(a.I18nLabel||(a.I18nLabel={}))})(Re);var bt={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ICloseType=void 0,function(e){e[e.Visible=1]="Visible",e[e.Always=2]="Always",e[e.Selected=3]="Selected"}(a.ICloseType||(a.ICloseType={}))})(bt);var ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.isAuxMouseEvent=ne.hideElement=ne.getRenderStateEx=void 0;const hi=$;function xn(a,e,t,i,o){let s=t?t(e):void 0,l=e.getName(),u=e.getName();o===void 0&&(o=0);function f(c){return c.titleContent!==void 0}if(i!==void 0){const c=i(e);c!==void 0&&(typeof c=="string"?(l=c,u=c):f(c)?(l=c.titleContent,u=c.name):l=c)}s===void 0&&e.getIcon()!==void 0&&(o!==0?s=hi.createElement("img",{style:{width:"1em",height:"1em",transform:"rotate("+o+"deg)"},src:e.getIcon(),alt:"leadingContent"}):s=hi.createElement("img",{style:{width:"1em",height:"1em"},src:e.getIcon(),alt:"leadingContent"}));const _={leading:s,content:l,name:u,buttons:[]};return a.customizeTab(e,_),e._setRenderedName(_.name),_}ne.getRenderStateEx=xn;function Un(a,e){e?a.visibility="hidden":a.display="none"}ne.hideElement=Un;function Fn(a){let e=!1;return a.nativeEvent instanceof MouseEvent&&(a.nativeEvent.button!==0||a.ctrlKey||a.altKey||a.metaKey||a.shiftKey)&&(e=!0),e}ne.isAuxMouseEvent=Fn;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.BorderButton=void 0;const Se=$,zn=Re,Ct=re,Pn=q,ui=bt,ve=j,Mt=ne,Hn=a=>{const{layout:e,node:t,selected:i,border:o,iconFactory:s,titleFactory:l,icons:u,path:f}=a,T=Se.useRef(null),_=Se.useRef(null),c=R=>{!(0,Mt.isAuxMouseEvent)(R)&&!e.getEditingTab()&&e.dragStart(R,void 0,t,t.isEnableDrag(),n,d)},m=R=>{(0,Mt.isAuxMouseEvent)(R)&&e.auxMouseClick(t,R)},r=R=>{e.showContextMenu(t,R)},n=()=>{e.doAction(Ct.Actions.selectTab(t.getId()))},d=R=>{},h=()=>{const R=t.getCloseType();return!!(i||R===ui.ICloseType.Always||R===ui.ICloseType.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)},p=R=>{h()?e.doAction(Ct.Actions.deleteTab(t.getId())):n()},g=R=>{R.stopPropagation()};Se.useLayoutEffect(()=>{b(),e.getEditingTab()===t&&_.current.select()});const b=()=>{var R;const P=e.getDomRect(),k=(R=T.current)===null||R===void 0?void 0:R.getBoundingClientRect();k&&P&&t._setTabRect(new Pn.Rect(k.left-P.left,k.top-P.top,k.width,k.height))},O=R=>{R.stopPropagation()},A=R=>{R.code==="Escape"?e.setEditingTab(void 0):R.code==="Enter"&&(e.setEditingTab(void 0),e.doAction(Ct.Actions.renameTab(t.getId(),R.target.value)))},E=e.getClassName;let S=E(ve.CLASSES.FLEXLAYOUT__BORDER_BUTTON)+" "+E(ve.CLASSES.FLEXLAYOUT__BORDER_BUTTON_+o);i?S+=" "+E(ve.CLASSES.FLEXLAYOUT__BORDER_BUTTON__SELECTED):S+=" "+E(ve.CLASSES.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED),t.getClassName()!==void 0&&(S+=" "+t.getClassName());let v=0;t.getModel().isEnableRotateBorderIcons()===!1&&(o==="left"?v=90:o==="right"&&(v=-90));const z=(0,Mt.getRenderStateEx)(e,t,s,l,v);let y=z.content?Se.createElement("div",{className:E(ve.CLASSES.FLEXLAYOUT__BORDER_BUTTON_CONTENT)},z.content):null;const D=z.leading?Se.createElement("div",{className:E(ve.CLASSES.FLEXLAYOUT__BORDER_BUTTON_LEADING)},z.leading):null;if(e.getEditingTab()===t&&(y=Se.createElement("input",{ref:_,className:E(ve.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":f+"/textbox",type:"text",autoFocus:!0,defaultValue:t.getName(),onKeyDown:A,onMouseDown:O,onTouchStart:O})),t.isEnableClose()){const R=e.i18nName(zn.I18nLabel.Close_Tab);z.buttons.push(Se.createElement("div",{key:"close","data-layout-path":f+"/button/close",title:R,className:E(ve.CLASSES.FLEXLAYOUT__BORDER_BUTTON_TRAILING),onMouseDown:g,onClick:p,onTouchStart:g},typeof u.close=="function"?u.close(t):u.close))}return Se.createElement("div",{ref:T,"data-layout-path":f,className:S,onMouseDown:c,onClick:m,onAuxClick:m,onContextMenu:r,onTouchStart:c,title:t.getHelpText()},D,y,z.buttons)};Tt.BorderButton=Hn;var et={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.TabButtonStamp=void 0;const dt=$,It=j,Yn=ne,kn=a=>{const{layout:e,node:t,iconFactory:i,titleFactory:o}=a,s=dt.useRef(null),l=e.getClassName;let u=l(It.CLASSES.FLEXLAYOUT__TAB_BUTTON_STAMP);const f=(0,Yn.getRenderStateEx)(e,t,i,o);let T=f.content?dt.createElement("div",{className:l(It.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT)},f.content):t._getNameForOverflowMenu();const _=f.leading?dt.createElement("div",{className:l(It.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING)},f.leading):null;return dt.createElement("div",{ref:s,className:u,title:t.getHelpText()},_,T)};tt.TabButtonStamp=kn;Object.defineProperty(et,"__esModule",{value:!0});et.showPopup=void 0;const ht=$,xt=xe,Zt=j,Xn=tt;function Wn(a,e,t,i,o,s){var l;const u=i.getRootDiv(),f=i.getClassName,T=a.ownerDocument,_=a.getBoundingClientRect(),c=(l=u==null?void 0:u.getBoundingClientRect())!==null&&l!==void 0?l:new DOMRect(0,0,100,100),m=T.createElement("div");m.className=f(Zt.CLASSES.FLEXLAYOUT__POPUP_MENU_CONTAINER),_.left<c.left+c.width/2?m.style.left=_.left-c.left+"px":m.style.right=c.right-_.right+"px",_.top<c.top+c.height/2?m.style.top=_.top-c.top+"px":m.style.bottom=c.bottom-_.bottom+"px",xt.DragDrop.instance.addGlass(()=>r()),xt.DragDrop.instance.setGlassCursorOverride("default"),u&&u.appendChild(m);const r=()=>{i.hidePortal(),xt.DragDrop.instance.hideGlass(),u&&u.removeChild(m),m.removeEventListener("mousedown",n),T.removeEventListener("mousedown",d)},n=h=>{h.stopPropagation()},d=h=>{r()};m.addEventListener("mousedown",n),T.addEventListener("mousedown",d),i.showPortal(ht.createElement($n,{currentDocument:T,onSelect:t,onHide:r,items:e,classNameMapper:f,layout:i,iconFactory:o,titleFactory:s}),m)}et.showPopup=Wn;const $n=a=>{const{items:e,onHide:t,onSelect:i,classNameMapper:o,layout:s,iconFactory:l,titleFactory:u}=a,f=(_,c)=>{i(_),t(),c.stopPropagation()},T=e.map((_,c)=>ht.createElement("div",{key:_.index,className:o(Zt.CLASSES.FLEXLAYOUT__POPUP_MENU_ITEM),"data-layout-path":"/popup-menu/tb"+c,onClick:m=>f(_,m),title:_.node.getHelpText()},_.node.getModel().isLegacyOverflowMenu()?_.node._getNameForOverflowMenu():ht.createElement(Xn.TabButtonStamp,{node:_.node,layout:s,iconFactory:l,titleFactory:u})));return ht.createElement("div",{className:o(Zt.CLASSES.FLEXLAYOUT__POPUP_MENU),"data-layout-path":"/popup-menu"},T)};var it={};Object.defineProperty(it,"__esModule",{value:!0});it.useTabOverflow=void 0;const ce=$,Gn=q,_i=Ce(),Ut=G,jn=(a,e,t,i)=>{const o=ce.useRef(!0),s=ce.useRef(!1),l=ce.useRef(new Gn.Rect(0,0,0,0)),u=ce.useRef(null),[f,T]=ce.useState(0),_=ce.useRef(!1),[c,m]=ce.useState([]),r=ce.useRef(0);ce.useLayoutEffect(()=>{_.current=!1},[a.getSelectedNode(),a.getRect().width,a.getRect().height]),ce.useLayoutEffect(()=>{b()});const n=u.current;ce.useEffect(()=>{if(n)return n.addEventListener("wheel",d,{passive:!1}),()=>{n.removeEventListener("wheel",d)}},[n]);const d=A=>{A.preventDefault()},h=A=>e===Ut.Orientation.HORZ?A.x:A.y,p=A=>e===Ut.Orientation.HORZ?A.getRight():A.getBottom(),g=A=>e===Ut.Orientation.HORZ?A.width:A.height,b=()=>{o.current===!0&&(s.current=!1);const E=a instanceof _i.TabSetNode?a.getRect():a.getTabHeaderRect();let S=a.getChildren()[a.getChildren().length-1];const v=i.current===null?0:g(i.current.getBoundingClientRect());if(o.current===!0||r.current===0&&c.length!==0||E.width!==l.current.width||E.height!==l.current.height){r.current=c.length,l.current=E;const z=a instanceof _i.TabSetNode?a.isEnableTabStrip()===!0:!0;let y=p(E)-v;if(t.current!==null&&(y-=g(t.current.getBoundingClientRect())),z&&a.getChildren().length>0){if(c.length===0&&f===0&&p(S.getTabRect())+2<y)return;let D=0;const R=a.getSelectedNode();if(R&&!_.current){const x=R.getTabRect(),L=h(x)-2,H=p(x)+2;g(x)+2*2>=y-h(E)?D=h(E)-L:(H>y||L<h(E))&&(L<h(E)&&(D=h(E)-L),H+D>y&&(D=y-H))}const P=Math.max(0,y-(p(S.getTabRect())+2+D)),k=Math.min(0,f+D+P),C=k-f,X=[];for(let x=0;x<a.getChildren().length;x++){const L=a.getChildren()[x];(h(L.getTabRect())+C<h(E)||p(L.getTabRect())+C>y)&&X.push({node:L,index:x})}X.length>0&&(s.current=!0),o.current=!1,m(X),T(k)}}else o.current=!0};return{selfRef:u,position:f,userControlledLeft:_,hiddenTabs:c,onMouseWheel:A=>{let E=0;Math.abs(A.deltaX)>Math.abs(A.deltaY)?E=-A.deltaX:E=-A.deltaY,A.deltaMode===1&&(E*=40),T(f+E),_.current=!0,A.stopPropagation()},tabsTruncated:s.current}};it.useTabOverflow=jn;Object.defineProperty(gt,"__esModule",{value:!0});gt.BorderTabSet=void 0;const K=$,fi=_e,Vn=Tt,Jn=et,gi=re,Ti=Re,Zn=it,qn=G,J=j,Kn=ne,Qn=a=>{const{border:e,layout:t,iconFactory:i,titleFactory:o,icons:s,path:l}=a,u=K.useRef(null),f=K.useRef(null),T=K.useRef(null),{selfRef:_,position:c,userControlledLeft:m,hiddenTabs:r,onMouseWheel:n,tabsTruncated:d}=(0,Zn.useTabOverflow)(e,qn.Orientation.flip(e.getOrientation()),u,T),h=L=>{(0,Kn.isAuxMouseEvent)(L)&&t.auxMouseClick(e,L)},p=L=>{t.showContextMenu(e,L)},g=L=>{L.stopPropagation()},b=L=>{const H=t.getShowOverflowMenu();if(H!==void 0)H(e,L,r,O);else{const oe=f.current;(0,Jn.showPopup)(oe,r,O,t,i,o)}L.stopPropagation()},O=L=>{t.doAction(gi.Actions.selectTab(L.node.getId())),m.current=!1},A=L=>{const H=e.getChildren()[e.getSelected()];H!==void 0&&t.doAction(gi.Actions.floatTab(H.getId())),L.stopPropagation()},E=t.getClassName;let S=e.getTabHeaderRect().styleWithPosition({});const v=[],z=L=>{let H=e.getSelected()===L,oe=e.getChildren()[L];v.push(K.createElement(Vn.BorderButton,{layout:t,border:e.getLocation().getName(),node:oe,path:l+"/tb"+L,key:oe.getId(),selected:H,iconFactory:i,titleFactory:o,icons:s})),L<e.getChildren().length-1&&v.push(K.createElement("div",{key:"divider"+L,className:E(J.CLASSES.FLEXLAYOUT__BORDER_TAB_DIVIDER)}))};for(let L=0;L<e.getChildren().length;L++)z(L);let y=E(J.CLASSES.FLEXLAYOUT__BORDER)+" "+E(J.CLASSES.FLEXLAYOUT__BORDER_+e.getLocation().getName());e.getClassName()!==void 0&&(y+=" "+e.getClassName());let D=[],R=[];const P={headerContent:void 0,buttons:D,stickyButtons:R,headerButtons:[],overflowPosition:void 0};if(t.customizeTabSet(e,P),D=P.buttons,P.overflowPosition===void 0&&(P.overflowPosition=R.length),R.length>0&&(d?D=[...R,...D]:v.push(K.createElement("div",{ref:T,key:"sticky_buttons_container",onMouseDown:g,onTouchStart:g,onDragStart:L=>{L.preventDefault()},className:E(J.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},R))),r.length>0){const L=t.i18nName(Ti.I18nLabel.Overflow_Menu_Tooltip);let H;typeof s.more=="function"?H=s.more(e,r):H=K.createElement(K.Fragment,null,s.more,K.createElement("div",{className:E(J.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},r.length)),D.splice(Math.min(P.overflowPosition,D.length),0,K.createElement("button",{key:"overflowbutton",ref:f,className:E(J.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+E(J.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW)+" "+E(J.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_+e.getLocation().getName()),title:L,onClick:b,onMouseDown:g,onTouchStart:g},H))}const k=e.getSelected();if(k!==-1){const L=e.getChildren()[k];if(L!==void 0&&t.isSupportsPopout()&&L.isEnableFloat()&&!L.isFloating()){const H=t.i18nName(Ti.I18nLabel.Float_Tab);D.push(K.createElement("button",{key:"float",title:H,className:E(J.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+E(J.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT),onClick:A,onMouseDown:g,onTouchStart:g},typeof s.popout=="function"?s.popout(L):s.popout))}}const C=K.createElement("div",{key:"toolbar",ref:u,className:E(J.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR)+" "+E(J.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_+e.getLocation().getName())},D);S=t.styleFont(S);let X={};const x=e.getBorderBarSize()-1;return e.getLocation()===fi.DockLocation.LEFT?X={right:x,height:x,top:c}:e.getLocation()===fi.DockLocation.RIGHT?X={left:x,height:x,top:c}:X={height:x,left:c},K.createElement("div",{ref:_,dir:"ltr",style:S,className:y,"data-layout-path":l,onClick:h,onAuxClick:h,onContextMenu:p,onWheel:n},K.createElement("div",{style:{height:x},className:E(J.CLASSES.FLEXLAYOUT__BORDER_INNER)+" "+E(J.CLASSES.FLEXLAYOUT__BORDER_INNER_+e.getLocation().getName())},K.createElement("div",{style:X,className:E(J.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER)+" "+E(J.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_+e.getLocation().getName())},v)),C)};gt.BorderTabSet=Qn;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.Splitter=void 0;const je=$,bi=xe,pi=re,Ei=Oe(),ge=G,Ve=j,eo=a=>{const{layout:e,node:t,path:i}=a,o=je.useRef([]),s=je.useRef(void 0),l=t.getParent(),u=b=>{var O;bi.DragDrop.instance.setGlassCursorOverride(t.getOrientation()===ge.Orientation.HORZ?"ns-resize":"ew-resize"),bi.DragDrop.instance.startDrag(b,T,_,m,f,void 0,void 0,e.getCurrentDocument(),(O=e.getRootDiv())!==null&&O!==void 0?O:void 0),o.current=l._getSplitterBounds(t,!0);const A=e.getRootDiv();s.current=e.getCurrentDocument().createElement("div"),s.current.style.position="absolute",s.current.className=e.getClassName(Ve.CLASSES.FLEXLAYOUT__SPLITTER_DRAG),s.current.style.cursor=t.getOrientation()===ge.Orientation.HORZ?"ns-resize":"ew-resize";const E=t.getRect();t.getOrientation()===ge.Orientation.VERT&&E.width<2?E.width=2:t.getOrientation()===ge.Orientation.HORZ&&E.height<2&&(E.height=2),E.positionElement(s.current),A&&A.appendChild(s.current)},f=b=>{const O=e.getRootDiv();O&&O.removeChild(s.current)},T=()=>!0,_=b=>{const O=e.getDomRect();if(!O)return;const A={x:b.clientX-O.left,y:b.clientY-O.top};s&&(t.getOrientation()===ge.Orientation.HORZ?s.current.style.top=r(A.y-4)+"px":s.current.style.left=r(A.x-4)+"px"),e.isRealtimeResize()&&c()},c=()=>{let b=0;if(s&&(t.getOrientation()===ge.Orientation.HORZ?b=s.current.offsetTop:b=s.current.offsetLeft),l instanceof Ei.BorderNode){const O=l._calculateSplit(t,b);e.doAction(pi.Actions.adjustBorderSplit(t.getParent().getId(),O))}else{const O=l._calculateSplit(t,b);O!==void 0&&e.doAction(pi.Actions.adjustSplit(O))}},m=()=>{c();const b=e.getRootDiv();b&&b.removeChild(s.current)},r=b=>{const O=o.current;let A=b;return b<O[0]&&(A=O[0]),b>O[1]&&(A=O[1]),A},n=e.getClassName;let d=t.getRect();const h=d.styleWithPosition({cursor:t.getOrientation()===ge.Orientation.HORZ?"ns-resize":"ew-resize"});let p=n(Ve.CLASSES.FLEXLAYOUT__SPLITTER)+" "+n(Ve.CLASSES.FLEXLAYOUT__SPLITTER_+t.getOrientation().getName());l instanceof Ei.BorderNode?p+=" "+n(Ve.CLASSES.FLEXLAYOUT__SPLITTER_BORDER):t.getModel().getMaximizedTabset()!==void 0&&(h.display="none");const g=t.getModel().getSplitterExtra();if(g===0)return je.createElement("div",{style:h,"data-layout-path":i,className:p,onTouchStart:u,onMouseDown:u});{let b=d.clone();b.x=0,b.y=0,t.getOrientation()===ge.Orientation.VERT?b.width+=g:b.height+=g;const O=b.styleWithPosition({cursor:t.getOrientation()===ge.Orientation.HORZ?"ns-resize":"ew-resize"}),A=n(Ve.CLASSES.FLEXLAYOUT__SPLITTER_EXTRA);return je.createElement("div",{style:h,"data-layout-path":i,className:p},je.createElement("div",{style:O,className:A,onTouchStart:u,onMouseDown:u}))}};pt.Splitter=eo;var Et={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.ErrorBoundary=void 0;const Ft=$,mi=j;class to extends Ft.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.debug(e),console.debug(t)}render(){return this.state.hasError?Ft.createElement("div",{className:mi.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER},Ft.createElement("div",{className:mi.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT},this.props.message)):this.props.children}}nt.ErrorBoundary=to;Object.defineProperty(Et,"__esModule",{value:!0});Et.Tab=void 0;const Je=$,io=$,no=re,Ai=Ce(),zt=j,oo=nt,so=Re,ro=Oe(),Oi=ne,ao=a=>{const{layout:e,selected:t,node:i,factory:o,path:s}=a,[l,u]=Je.useState(!a.node.isEnableRenderOnDemand()||a.selected);Je.useLayoutEffect(()=>{!l&&t&&u(!0)});const f=()=>{const d=i.getParent();d.getType()===Ai.TabSetNode.TYPE&&(d.isActive()||e.doAction(no.Actions.setActiveTabset(d.getId())))},T=e.getClassName,_=i.getModel().isUseVisibility(),c=i.getParent(),m=i._styleWithPosition();t||(0,Oi.hideElement)(m,_),c instanceof Ai.TabSetNode&&i.getModel().getMaximizedTabset()!==void 0&&!c.isMaximized()&&(0,Oi.hideElement)(m,_);let r;l&&(r=o(i));let n=T(zt.CLASSES.FLEXLAYOUT__TAB);return c instanceof ro.BorderNode&&(n+=" "+T(zt.CLASSES.FLEXLAYOUT__TAB_BORDER),n+=" "+T(zt.CLASSES.FLEXLAYOUT__TAB_BORDER_+c.getLocation().getName())),i.getContentClassName()!==void 0&&(n+=" "+i.getContentClassName()),Je.createElement("div",{className:n,"data-layout-path":s,onMouseDown:f,onTouchStart:f,style:m},Je.createElement(oo.ErrorBoundary,{message:a.layout.i18nName(so.I18nLabel.Error_rendering_component)},Je.createElement(io.Fragment,null,r)))};Et.Tab=ao;var mt={},At={};Object.defineProperty(At,"__esModule",{value:!0});At.TabButton=void 0;const ye=$,lo=Re,Pt=re,co=q,Ri=bt,He=j,Ht=ne,ho=a=>{const{layout:e,node:t,selected:i,iconFactory:o,titleFactory:s,icons:l,path:u}=a,f=ye.useRef(null),T=ye.useRef(null),_=C=>{!(0,Ht.isAuxMouseEvent)(C)&&!e.getEditingTab()&&e.dragStart(C,void 0,t,t.isEnableDrag(),r,n)},c=C=>{(0,Ht.isAuxMouseEvent)(C)&&e.auxMouseClick(t,C)},m=C=>{e.showContextMenu(t,C)},r=()=>{e.doAction(Pt.Actions.selectTab(t.getId()))},n=C=>{t.isEnableRename()&&d()},d=()=>{e.setEditingTab(t),e.getCurrentDocument().body.addEventListener("mousedown",h),e.getCurrentDocument().body.addEventListener("touchstart",h)},h=C=>{C.target!==T.current&&(e.getCurrentDocument().body.removeEventListener("mousedown",h),e.getCurrentDocument().body.removeEventListener("touchstart",h),e.setEditingTab(void 0))},p=()=>{const C=t.getCloseType();return!!(i||C===Ri.ICloseType.Always||C===Ri.ICloseType.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)},g=C=>{p()?e.doAction(Pt.Actions.deleteTab(t.getId())):r()},b=C=>{C.stopPropagation()};ye.useLayoutEffect(()=>{O(),e.getEditingTab()===t&&T.current.select()});const O=()=>{var C;const X=e.getDomRect(),x=(C=f.current)===null||C===void 0?void 0:C.getBoundingClientRect();x&&X&&t._setTabRect(new co.Rect(x.left-X.left,x.top-X.top,x.width,x.height))},A=C=>{C.stopPropagation()},E=C=>{C.code==="Escape"?e.setEditingTab(void 0):C.code==="Enter"&&(e.setEditingTab(void 0),e.doAction(Pt.Actions.renameTab(t.getId(),C.target.value)))},S=e.getClassName,v=t.getParent(),z=v.isEnableSingleTabStretch()&&v.getChildren().length===1;let y=z?He.CLASSES.FLEXLAYOUT__TAB_BUTTON_STRETCH:He.CLASSES.FLEXLAYOUT__TAB_BUTTON,D=S(y);D+=" "+S(y+"_"+v.getTabLocation()),z||(i?D+=" "+S(y+"--selected"):D+=" "+S(y+"--unselected")),t.getClassName()!==void 0&&(D+=" "+t.getClassName());const R=(0,Ht.getRenderStateEx)(e,t,o,s);let P=R.content?ye.createElement("div",{className:S(He.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT)},R.content):null;const k=R.leading?ye.createElement("div",{className:S(He.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING)},R.leading):null;if(e.getEditingTab()===t&&(P=ye.createElement("input",{ref:T,className:S(He.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":u+"/textbox",type:"text",autoFocus:!0,defaultValue:t.getName(),onKeyDown:E,onMouseDown:A,onTouchStart:A})),t.isEnableClose()&&!z){const C=e.i18nName(lo.I18nLabel.Close_Tab);R.buttons.push(ye.createElement("div",{key:"close","data-layout-path":u+"/button/close",title:C,className:S(He.CLASSES.FLEXLAYOUT__TAB_BUTTON_TRAILING),onMouseDown:b,onClick:g,onTouchStart:b},typeof l.close=="function"?l.close(t):l.close))}return ye.createElement("div",{ref:f,"data-layout-path":u,className:D,onMouseDown:_,onClick:c,onAuxClick:c,onContextMenu:m,onTouchStart:_,title:t.getHelpText()},k,P,R.buttons)};At.TabButton=ho;Object.defineProperty(mt,"__esModule",{value:!0});mt.TabSet=void 0;const U=$,Me=Re,Ze=re,uo=et,_o=At,fo=it,go=G,F=j,Yt=ne,To=a=>{const{node:e,layout:t,iconFactory:i,titleFactory:o,icons:s,path:l}=a,u=U.useRef(null),f=U.useRef(null),T=U.useRef(null),_=U.useRef(null),{selfRef:c,position:m,userControlledLeft:r,hiddenTabs:n,onMouseWheel:d,tabsTruncated:h}=(0,fo.useTabOverflow)(e,go.Orientation.HORZ,u,_),p=N=>{const Y=t.getShowOverflowMenu();if(Y!==void 0)Y(e,N,n,g);else{const fe=f.current;(0,uo.showPopup)(fe,n,g,t,i,o)}N.stopPropagation()},g=N=>{t.doAction(Ze.Actions.selectTab(N.node.getId())),r.current=!1},b=N=>{if(!(0,Yt.isAuxMouseEvent)(N)){let Y=e.getName();if(Y===void 0?Y="":Y=": "+Y,t.doAction(Ze.Actions.setActiveTabset(e.getId())),!t.getEditingTab()){const fe=t.i18nName(Me.I18nLabel.Move_Tabset,Y);e.getModel().getMaximizedTabset()!==void 0?t.dragStart(N,fe,e,!1,qi=>{},D):t.dragStart(N,fe,e,e.isEnableDrag(),qi=>{},D)}}},O=N=>{(0,Yt.isAuxMouseEvent)(N)&&t.auxMouseClick(e,N)},A=N=>{t.showContextMenu(e,N)},E=N=>{N.stopPropagation()},S=N=>{e.canMaximize()&&t.maximize(e),N.stopPropagation()},v=N=>{t.doAction(Ze.Actions.deleteTabset(e.getId())),N.stopPropagation()},z=N=>{t.doAction(Ze.Actions.deleteTab(e.getChildren()[0].getId())),N.stopPropagation()},y=N=>{P!==void 0&&t.doAction(Ze.Actions.floatTab(P.getId())),N.stopPropagation()},D=N=>{e.canMaximize()&&t.maximize(e)},R=t.getClassName;T.current!==null&&T.current.scrollLeft!==0&&(T.current.scrollLeft=0);const P=e.getSelectedNode();let k=e._styleWithPosition();e.getModel().getMaximizedTabset()!==void 0&&!e.isMaximized()&&(0,Yt.hideElement)(k,e.getModel().isUseVisibility());const C=[];if(e.isEnableTabStrip())for(let N=0;N<e.getChildren().length;N++){const Y=e.getChildren()[N];let fe=e.getSelected()===N;C.push(U.createElement(_o.TabButton,{layout:t,node:Y,path:l+"/tb"+N,key:Y.getId(),selected:fe,iconFactory:i,titleFactory:o,icons:s})),N<e.getChildren().length-1&&C.push(U.createElement("div",{key:"divider"+N,className:R(F.CLASSES.FLEXLAYOUT__TABSET_TAB_DIVIDER)}))}const X=e.getName()!==void 0;let x=[],L=[],H=[];const oe={headerContent:e.getName(),stickyButtons:x,buttons:L,headerButtons:H,overflowPosition:void 0};t.customizeTabSet(e,oe);const ji=oe.headerContent;x=oe.stickyButtons,L=oe.buttons,H=oe.headerButtons;const ze=e.isEnableSingleTabStretch()&&e.getChildren().length===1,Vi=ze&&e.getChildren()[0].isEnableClose()||e.isEnableClose();if(oe.overflowPosition===void 0&&(oe.overflowPosition=x.length),x.length>0&&(h||ze?L=[...x,...L]:C.push(U.createElement("div",{ref:_,key:"sticky_buttons_container",onMouseDown:E,onTouchStart:E,onDragStart:N=>{N.preventDefault()},className:R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},x))),n.length>0){const N=t.i18nName(Me.I18nLabel.Overflow_Menu_Tooltip);let Y;typeof s.more=="function"?Y=s.more(e,n):Y=U.createElement(U.Fragment,null,s.more,U.createElement("div",{className:R(F.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},n.length)),L.splice(Math.min(oe.overflowPosition,L.length),0,U.createElement("button",{key:"overflowbutton","data-layout-path":l+"/button/overflow",ref:f,className:R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+R(F.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW),title:N,onClick:p,onMouseDown:E,onTouchStart:E},Y))}if(P!==void 0&&t.isSupportsPopout()&&P.isEnableFloat()&&!P.isFloating()){const N=t.i18nName(Me.I18nLabel.Float_Tab);L.push(U.createElement("button",{key:"float","data-layout-path":l+"/button/float",title:N,className:R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT),onClick:y,onMouseDown:E,onTouchStart:E},typeof s.popout=="function"?s.popout(P):s.popout))}if(e.canMaximize()){const N=t.i18nName(Me.I18nLabel.Restore),Y=t.i18nName(Me.I18nLabel.Maximize);(X?H:L).push(U.createElement("button",{key:"max","data-layout-path":l+"/button/max",title:e.isMaximized()?N:Y,className:R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_+(e.isMaximized()?"max":"min")),onClick:S,onMouseDown:E,onTouchStart:E},e.isMaximized()?typeof s.restore=="function"?s.restore(e):s.restore:typeof s.maximize=="function"?s.maximize(e):s.maximize))}if(!e.isMaximized()&&Vi){const N=ze?t.i18nName(Me.I18nLabel.Close_Tab):t.i18nName(Me.I18nLabel.Close_Tabset);(X?H:L).push(U.createElement("button",{key:"close","data-layout-path":l+"/button/close",title:N,className:R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE),onClick:ze?z:v,onMouseDown:E,onTouchStart:E},typeof s.closeTabset=="function"?s.closeTabset(e):s.closeTabset))}const Ji=U.createElement("div",{key:"toolbar",ref:u,className:R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:E,onTouchStart:E,onDragStart:N=>{N.preventDefault()}},L);let yt,Lt,Pe=R(F.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER);if(e.getClassNameTabStrip()!==void 0&&(Pe+=" "+e.getClassNameTabStrip()),Pe+=" "+F.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER_+e.getTabLocation(),e.isActive()&&!X&&(Pe+=" "+R(F.CLASSES.FLEXLAYOUT__TABSET_SELECTED)),e.isMaximized()&&!X&&(Pe+=" "+R(F.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED)),ze){const N=e.getChildren()[0];N.getTabSetClassName()!==void 0&&(Pe+=" "+N.getTabSetClassName())}if(X){const N=U.createElement("div",{key:"toolbar",ref:u,className:R(F.CLASSES.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:E,onTouchStart:E,onDragStart:fe=>{fe.preventDefault()}},H);let Y=R(F.CLASSES.FLEXLAYOUT__TABSET_HEADER);e.isActive()&&(Y+=" "+R(F.CLASSES.FLEXLAYOUT__TABSET_SELECTED)),e.isMaximized()&&(Y+=" "+R(F.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED)),e.getClassNameHeader()!==void 0&&(Y+=" "+e.getClassNameHeader()),yt=U.createElement("div",{className:Y,style:{height:e.getHeaderHeight()+"px"},"data-layout-path":l+"/header",onMouseDown:b,onContextMenu:A,onClick:O,onAuxClick:O,onTouchStart:b},U.createElement("div",{className:R(F.CLASSES.FLEXLAYOUT__TABSET_HEADER_CONTENT)},ji),N)}const Zi={height:e.getTabStripHeight()+"px"};Lt=U.createElement("div",{className:Pe,style:Zi,"data-layout-path":l+"/tabstrip",onMouseDown:b,onContextMenu:A,onClick:O,onAuxClick:O,onTouchStart:b},U.createElement("div",{ref:T,className:R(F.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER)+" "+R(F.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_+e.getTabLocation())},U.createElement("div",{style:{left:m,width:ze?"100%":"10000px"},className:R(F.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER)+" "+R(F.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_+e.getTabLocation())},C)),Ji),k=t.styleFont(k);var oi=void 0;if(e.getChildren().length===0){const N=t.getTabSetPlaceHolderCallback();N&&(oi=N(e))}const si=U.createElement("div",{className:R(F.CLASSES.FLEXLAYOUT__TABSET_CONTENT)},oi);var Nt;return e.getTabLocation()==="top"?Nt=U.createElement(U.Fragment,null,yt,Lt,si):Nt=U.createElement(U.Fragment,null,yt,si,Lt),U.createElement("div",{ref:c,dir:"ltr","data-layout-path":l,style:k,className:R(F.CLASSES.FLEXLAYOUT__TABSET),onWheel:d},Nt)};mt.TabSet=To;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.FloatingWindow=void 0;const lt=$,bo=qt,po=q,Eo=j,mo=a=>{const{title:e,id:t,url:i,rect:o,onCloseWindow:s,onSetWindow:l,children:u}=a,f=lt.useRef(null),T=lt.useRef(null),[_,c]=lt.useState(void 0);return lt.useLayoutEffect(()=>{T.current&&clearTimeout(T.current);let m=!0;const r=o||new po.Rect(0,0,100,100),n=Array.from(window.document.styleSheets).reduce((d,h)=>{let p;try{p=h.cssRules}catch{}try{return[...d,{href:h.href,type:h.type,rules:p?Array.from(p).map(g=>g.cssText):null}]}catch{return d}},[]);return f.current=window.open(i,t,`left=${r.x},top=${r.y},width=${r.width},height=${r.height}`),f.current!==null?(l(t,f.current),window.addEventListener("beforeunload",()=>{f.current&&(f.current.close(),f.current=null)}),f.current.addEventListener("load",()=>{if(m){const d=f.current.document;d.title=e;const h=d.createElement("div");h.className=Eo.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_CONTENT,d.body.appendChild(h),Ao(d,n).then(()=>{c(h)}),f.current.addEventListener("beforeunload",()=>{s(t)})}})):(console.warn(`Unable to open window ${i}`),s(t)),()=>{m=!1,T.current=setTimeout(()=>{f.current&&(f.current.close(),f.current=null)},0)}},[]),_!==void 0?(0,bo.createPortal)(u,_):null};Ot.FloatingWindow=mo;function Ao(a,e){const t=a.head,i=[];for(const o of e)if(o.href){const s=a.createElement("link");s.type=o.type,s.rel="stylesheet",s.href=o.href,t.appendChild(s),i.push(new Promise(l=>{s.onload=()=>l(!0)}))}else if(o.rules){const s=a.createElement("style");for(const l of o.rules)s.appendChild(a.createTextNode(l));t.appendChild(s)}return Promise.all(i)}var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.FloatingWindowTab=void 0;const kt=$,Oo=nt,Ro=Re,So=$,vo=j,yo=a=>{const{layout:e,node:t,factory:i}=a,o=e.getClassName,s=i(t);return kt.createElement("div",{className:o(vo.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_TAB)},kt.createElement(Oo.ErrorBoundary,{message:a.layout.i18nName(Ro.I18nLabel.Error_rendering_component)},kt.createElement(So.Fragment,null,s)))};Rt.FloatingWindowTab=yo;var St={};Object.defineProperty(St,"__esModule",{value:!0});St.TabFloating=void 0;const Le=$,Si=re,vi=Ce(),Xt=j,Wt=Re,yi=ne,Lo=a=>{const{layout:e,selected:t,node:i,path:o}=a,s=()=>{i.getWindow()&&i.getWindow().focus()},l=()=>{e.doAction(Si.Actions.unFloatTab(i.getId()))},u=()=>{const p=i.getParent();p.getType()===vi.TabSetNode.TYPE&&(p.isActive()||e.doAction(Si.Actions.setActiveTabset(p.getId())))},f=p=>{p.preventDefault(),s()},T=p=>{p.preventDefault(),l()},_=e.getClassName,c=i.getParent(),m=i._styleWithPosition();t||(0,yi.hideElement)(m,i.getModel().isUseVisibility()),c instanceof vi.TabSetNode&&i.getModel().getMaximizedTabset()!==void 0&&!c.isMaximized()&&(0,yi.hideElement)(m,i.getModel().isUseVisibility());const r=e.i18nName(Wt.I18nLabel.Floating_Window_Message),n=e.i18nName(Wt.I18nLabel.Floating_Window_Show_Window),d=e.i18nName(Wt.I18nLabel.Floating_Window_Dock_Window),h=e.getOnRenderFloatingTabPlaceholder();return h?Le.createElement("div",{className:_(Xt.CLASSES.FLEXLAYOUT__TAB_FLOATING),onMouseDown:u,onTouchStart:u,style:m},h(l,s)):Le.createElement("div",{className:_(Xt.CLASSES.FLEXLAYOUT__TAB_FLOATING),"data-layout-path":o,onMouseDown:u,onTouchStart:u,style:m},Le.createElement("div",{className:_(Xt.CLASSES.FLEXLAYOUT__TAB_FLOATING_INNER)},Le.createElement("div",null,r),Le.createElement("div",null,Le.createElement("a",{href:"#",onClick:f},n)),Le.createElement("div",null,Le.createElement("a",{href:"#",onClick:T},d))))};St.TabFloating=Lo;var ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.RestoreIcon=ie.PopoutIcon=ie.EdgeIcon=ie.OverflowIcon=ie.MaximizeIcon=ie.CloseIcon=void 0;const V=$,ot={width:"1em",height:"1em",display:"flex",alignItems:"center"},No=()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:ot,viewBox:"0 0 24 24"},V.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),V.createElement("path",{stroke:"var(--color-icon)",fill:"var(--color-icon)",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));ie.CloseIcon=No;const Do=()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:ot,viewBox:"0 0 24 24",fill:"var(--color-icon)"},V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),V.createElement("path",{stroke:"var(--color-icon)",d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}));ie.MaximizeIcon=Do;const wo=()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:ot,viewBox:"0 0 24 24",fill:"var(--color-icon)"},V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),V.createElement("path",{stroke:"var(--color-icon)",d:"M7 10l5 5 5-5z"}));ie.OverflowIcon=wo;const Bo=()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"block",width:10,height:10},preserveAspectRatio:"none",viewBox:"0 0 100 100"},V.createElement("path",{fill:"var(--color-edge-icon)",stroke:"var(--color-edge-icon)",d:"M10 30 L90 30 l-40 40 Z"}));ie.EdgeIcon=Bo;const Co=()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:ot,viewBox:"0 0 20 20",fill:"var(--color-icon)"},V.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),V.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}));ie.PopoutIcon=Co;const Mo=()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:ot,viewBox:"0 0 24 24",fill:"var(--color-icon)"},V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),V.createElement("path",{stroke:"var(--color-icon)",d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));ie.RestoreIcon=Mo;Object.defineProperty(ut,"__esModule",{value:!0});ut.Layout=void 0;const w=$,Io=qt,he=_e,Ne=xe,Ye=re,xo=Oe(),Li=Fe,De=Be,Ni=Ce(),ct=q,ee=j,Uo=gt,Di=pt,wi=Et,Fo=mt,Bi=Ot,Ci=Rt,Mi=St,$t=G,Ie=ie,zo=tt,Po={close:w.createElement(Ie.CloseIcon,null),closeTabset:w.createElement(Ie.CloseIcon,null),popout:w.createElement(Ie.PopoutIcon,null),maximize:w.createElement(Ie.MaximizeIcon,null),restore:w.createElement(Ie.RestoreIcon,null),more:w.createElement(Ie.OverflowIcon,null),edgeArrow:w.createElement(Ie.EdgeIcon,null)},Ho=typeof window<"u"&&(window.document.documentMode||/Edge\//.test(window.navigator.userAgent)),Yo=typeof window<"u"&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches,ko=Yo&&!Ho;class Xo extends w.Component{constructor(e){super(e),this.firstMove=!1,this.dragRectRendered=!0,this.dragDivText=void 0,this.edgeRectLength=100,this.edgeRectWidth=10,this.onModelChange=t=>{this.forceUpdate(),this.props.onModelChange&&this.props.onModelChange(this.props.model,t)},this.updateRect=t=>{if(t||(t=this.getDomRect()),!t)return;const i=new ct.Rect(0,0,t.width,t.height);!i.equals(this.state.rect)&&i.width!==0&&i.height!==0&&this.setState({rect:i})},this.updateLayoutMetrics=()=>{if(this.findHeaderBarSizeRef.current){const t=this.findHeaderBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedHeaderBarSize&&this.setState({calculatedHeaderBarSize:t})}if(this.findTabBarSizeRef.current){const t=this.findTabBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedTabBarSize&&this.setState({calculatedTabBarSize:t})}if(this.findBorderBarSizeRef.current){const t=this.findBorderBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedBorderBarSize&&this.setState({calculatedBorderBarSize:t})}},this.getClassName=t=>this.props.classNameMapper===void 0?t:this.props.classNameMapper(t),this.onCloseWindow=t=>{this.doAction(Ye.Actions.unFloatTab(t));try{this.props.model.getNodeById(t)._setWindow(void 0)}catch{}},this.onSetWindow=(t,i)=>{this.props.model.getNodeById(t)._setWindow(i)},this.onCancelAdd=()=>{var t,i;const o=this.selfRef.current;o&&this.dragDiv&&o.removeChild(this.dragDiv),this.dragDiv=void 0,this.hidePortal(),this.fnNewNodeDropped!=null&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0);try{(i=(t=this.customDrop)===null||t===void 0?void 0:t.invalidated)===null||i===void 0||i.call(t)}catch(s){console.error(s)}Ne.DragDrop.instance.hideGlass(),this.newTabJson=void 0,this.customDrop=void 0},this.onCancelDrag=t=>{var i,o;if(t){const s=this.selfRef.current,l=this.outlineDiv;if(s&&l)try{s.removeChild(l)}catch{}const u=this.dragDiv;if(s&&u)try{s.removeChild(u)}catch{}this.dragDiv=void 0,this.hidePortal(),this.setState({showEdges:!1}),this.fnNewNodeDropped!=null&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0);try{(o=(i=this.customDrop)===null||i===void 0?void 0:i.invalidated)===null||o===void 0||o.call(i)}catch(f){console.error(f)}Ne.DragDrop.instance.hideGlass(),this.newTabJson=void 0,this.customDrop=void 0}this.setState({showHiddenBorder:he.DockLocation.CENTER})},this.onDragDivMouseDown=t=>{t.preventDefault(),this.dragStart(t,this.dragDivText,De.TabNode._fromJson(this.newTabJson,this.props.model,!1),!0,void 0,void 0)},this.dragStart=(t,i,o,s,l,u)=>{var f,T;s?(this.dragNode=o,this.dragDivText=i,Ne.DragDrop.instance.startDrag(t,this.onDragStart,this.onDragMove,this.onDragEnd,this.onCancelDrag,l,u,this.currentDocument,(T=this.selfRef.current)!==null&&T!==void 0?T:void 0)):Ne.DragDrop.instance.startDrag(t,void 0,void 0,void 0,void 0,l,u,this.currentDocument,(f=this.selfRef.current)!==null&&f!==void 0?f:void 0)},this.dragRectRender=(t,i,o,s)=>{let l;if(t!==void 0?l=w.createElement("div",{style:{whiteSpace:"pre"}},t.replace("<br>",`
`)):i&&i instanceof De.TabNode&&(l=w.createElement(zo.TabButtonStamp,{node:i,layout:this,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory})),this.props.onRenderDragRect!==void 0){const f=this.props.onRenderDragRect(l,i,o);f!==void 0&&(l=f)}this.dragRectRendered=!1;const u=this.dragDiv;u&&(u.style.visibility="hidden",this.showPortal(w.createElement(Wo,{onRendered:()=>{this.dragRectRendered=!0,s==null||s()}},l),u))},this.showPortal=(t,i)=>{const o=(0,Io.createPortal)(t,i);this.setState({portal:o})},this.hidePortal=()=>{this.setState({portal:void 0})},this.onDragStart=()=>{var t;this.dropInfo=void 0,this.customDrop=void 0;const i=this.selfRef.current;return this.outlineDiv=this.currentDocument.createElement("div"),this.outlineDiv.className=this.getClassName(ee.CLASSES.FLEXLAYOUT__OUTLINE_RECT),this.outlineDiv.style.visibility="hidden",i&&i.appendChild(this.outlineDiv),this.dragDiv==null&&(this.dragDiv=this.currentDocument.createElement("div"),this.dragDiv.className=this.getClassName(ee.CLASSES.FLEXLAYOUT__DRAG_RECT),this.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),this.dragRectRender(this.dragDivText,this.dragNode,this.newTabJson),i&&i.appendChild(this.dragDiv)),this.props.model.getMaximizedTabset()===void 0&&this.setState({showEdges:this.props.model.isEnableEdgeDock()}),this.dragNode&&this.outlineDiv&&this.dragNode instanceof De.TabNode&&this.dragNode.getTabRect()!==void 0&&((t=this.dragNode.getTabRect())===null||t===void 0||t.positionElement(this.outlineDiv)),this.firstMove=!0,!0},this.onDragMove=t=>{var i,o,s,l,u,f,T;if(this.firstMove===!1){const d=this.props.model._getAttribute("tabDragSpeed");this.outlineDiv&&(this.outlineDiv.style.transition=`top ${d}s, left ${d}s, width ${d}s, height ${d}s`)}this.firstMove=!1;const _=(i=this.selfRef.current)===null||i===void 0?void 0:i.getBoundingClientRect(),c={x:t.clientX-((o=_==null?void 0:_.left)!==null&&o!==void 0?o:0),y:t.clientY-((s=_==null?void 0:_.top)!==null&&s!==void 0?s:0)};this.checkForBorderToShow(c.x,c.y);const m=(u=(l=this.dragDiv)===null||l===void 0?void 0:l.getBoundingClientRect())!==null&&u!==void 0?u:new DOMRect(0,0,100,100);let r=c.x-m.width/2;r+m.width>((f=_==null?void 0:_.width)!==null&&f!==void 0?f:0)&&(r=((T=_==null?void 0:_.width)!==null&&T!==void 0?T:0)-m.width),r=Math.max(0,r),this.dragDiv&&(this.dragDiv.style.left=r+"px",this.dragDiv.style.top=c.y+5+"px",this.dragRectRendered&&this.dragDiv.style.visibility==="hidden"&&(this.dragDiv.style.visibility="visible"));let n=this.props.model._findDropTargetNode(this.dragNode,c.x,c.y);n&&(this.props.onTabDrag?this.handleCustomTabDrag(n,c,t):(this.dropInfo=n,this.outlineDiv&&(this.outlineDiv.className=this.getClassName(n.className),n.rect.positionElement(this.outlineDiv),this.outlineDiv.style.visibility="visible")))},this.onDragEnd=t=>{const i=this.selfRef.current;if(i&&(this.outlineDiv&&i.removeChild(this.outlineDiv),this.dragDiv&&i.removeChild(this.dragDiv)),this.dragDiv=void 0,this.hidePortal(),this.setState({showEdges:!1}),Ne.DragDrop.instance.hideGlass(),this.dropInfo)if(this.customDrop){this.newTabJson=void 0;try{const{callback:o,dragging:s,over:l,x:u,y:f,location:T}=this.customDrop;o(s,l,u,f,T),this.fnNewNodeDropped!=null&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0)}catch(o){console.error(o)}}else if(this.newTabJson!==void 0){const o=this.doAction(Ye.Actions.addNode(this.newTabJson,this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index));this.fnNewNodeDropped!=null&&(this.fnNewNodeDropped(o,t),this.fnNewNodeDropped=void 0),this.newTabJson=void 0}else this.dragNode!==void 0&&this.doAction(Ye.Actions.moveNode(this.dragNode.getId(),this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index));this.setState({showHiddenBorder:he.DockLocation.CENTER})},this.props.model._setChangeListener(this.onModelChange),this.tabIds=[],this.selfRef=w.createRef(),this.findHeaderBarSizeRef=w.createRef(),this.findTabBarSizeRef=w.createRef(),this.findBorderBarSizeRef=w.createRef(),this.supportsPopout=e.supportsPopout!==void 0?e.supportsPopout:ko,this.popoutURL=e.popoutURL?e.popoutURL:"popout.html",this.icons=Object.assign(Object.assign({},Po),e.icons),this.state={rect:new ct.Rect(0,0,0,0),calculatedHeaderBarSize:25,calculatedTabBarSize:26,calculatedBorderBarSize:30,editingTab:void 0,showHiddenBorder:he.DockLocation.CENTER,showEdges:!1},this.onDragEnter=this.onDragEnter.bind(this)}styleFont(e){return this.props.font&&(this.selfRef.current&&(this.props.font.size&&this.selfRef.current.style.setProperty("--font-size",this.props.font.size),this.props.font.family&&this.selfRef.current.style.setProperty("--font-family",this.props.font.family)),this.props.font.style&&(e.fontStyle=this.props.font.style),this.props.font.weight&&(e.fontWeight=this.props.font.weight)),e}doAction(e){if(this.props.onAction!==void 0){const t=this.props.onAction(e);return t!==void 0?this.props.model.doAction(t):void 0}else return this.props.model.doAction(e)}componentDidMount(){this.updateRect(),this.updateLayoutMetrics(),this.currentDocument=this.selfRef.current.ownerDocument,this.currentWindow=this.currentDocument.defaultView,this.resizeObserver=new ResizeObserver(t=>{this.updateRect(t[0].contentRect)});const e=this.selfRef.current;e&&this.resizeObserver.observe(e)}componentDidUpdate(){this.updateLayoutMetrics(),this.props.model!==this.previousModel&&(this.previousModel!==void 0&&this.previousModel._setChangeListener(void 0),this.props.model._setChangeListener(this.onModelChange),this.previousModel=this.props.model)}getCurrentDocument(){return this.currentDocument}getDomRect(){var e;return(e=this.selfRef.current)===null||e===void 0?void 0:e.getBoundingClientRect()}getRootDiv(){return this.selfRef.current}isSupportsPopout(){return this.supportsPopout}isRealtimeResize(){var e;return(e=this.props.realtimeResize)!==null&&e!==void 0?e:!1}onTabDrag(...e){var t,i;return(i=(t=this.props).onTabDrag)===null||i===void 0?void 0:i.call(t,...e)}getPopoutURL(){return this.popoutURL}componentWillUnmount(){var e;const t=this.selfRef.current;t&&((e=this.resizeObserver)===null||e===void 0||e.unobserve(t))}setEditingTab(e){this.setState({editingTab:e})}getEditingTab(){return this.state.editingTab}render(){if(!this.selfRef.current)return w.createElement("div",{ref:this.selfRef,className:this.getClassName(ee.CLASSES.FLEXLAYOUT__LAYOUT)},this.metricsElements());this.props.model._setPointerFine(window&&window.matchMedia&&window.matchMedia("(pointer: fine)").matches);const e=[],t=[],i=[],o={},s=[],l={headerBarSize:this.state.calculatedHeaderBarSize,tabBarSize:this.state.calculatedTabBarSize,borderBarSize:this.state.calculatedBorderBarSize};this.props.model._setShowHiddenBorder(this.state.showHiddenBorder),this.centerRect=this.props.model._layout(this.state.rect,l),this.renderBorder(this.props.model.getBorderSet(),e,o,i,s),this.renderChildren("",this.props.model.getRoot(),t,o,i,s);const u=[],f={};for(const c of this.tabIds)o[c]&&(u.push(c),f[c]=c);this.tabIds=u;for(const c of Object.keys(o))f[c]||this.tabIds.push(c);const T=[],_=this.icons.edgeArrow;if(this.state.showEdges){const c=this.centerRect,m=this.edgeRectLength,r=this.edgeRectWidth,n=this.edgeRectLength/2,d=this.getClassName(ee.CLASSES.FLEXLAYOUT__EDGE_RECT),h=50;T.push(w.createElement("div",{key:"North",style:{top:c.y,left:c.x+c.width/2-n,width:m,height:r,borderBottomLeftRadius:h,borderBottomRightRadius:h},className:d+" "+this.getClassName(ee.CLASSES.FLEXLAYOUT__EDGE_RECT_TOP)},w.createElement("div",{style:{transform:"rotate(180deg)"}},_))),T.push(w.createElement("div",{key:"West",style:{top:c.y+c.height/2-n,left:c.x,width:r,height:m,borderTopRightRadius:h,borderBottomRightRadius:h},className:d+" "+this.getClassName(ee.CLASSES.FLEXLAYOUT__EDGE_RECT_LEFT)},w.createElement("div",{style:{transform:"rotate(90deg)"}},_))),T.push(w.createElement("div",{key:"South",style:{top:c.y+c.height-r,left:c.x+c.width/2-n,width:m,height:r,borderTopLeftRadius:h,borderTopRightRadius:h},className:d+" "+this.getClassName(ee.CLASSES.FLEXLAYOUT__EDGE_RECT_BOTTOM)},w.createElement("div",null,_))),T.push(w.createElement("div",{key:"East",style:{top:c.y+c.height/2-n,left:c.x+c.width-r,width:r,height:m,borderTopLeftRadius:h,borderBottomLeftRadius:h},className:d+" "+this.getClassName(ee.CLASSES.FLEXLAYOUT__EDGE_RECT_RIGHT)},w.createElement("div",{style:{transform:"rotate(-90deg)"}},_)))}return w.createElement("div",{ref:this.selfRef,className:this.getClassName(ee.CLASSES.FLEXLAYOUT__LAYOUT),onDragEnter:this.props.onExternalDrag?this.onDragEnter:void 0},t,this.tabIds.map(c=>o[c]),e,s,T,i,this.metricsElements(),this.state.portal)}metricsElements(){const e=this.styleFont({visibility:"hidden"});return w.createElement(w.Fragment,null,w.createElement("div",{key:"findHeaderBarSize",ref:this.findHeaderBarSizeRef,style:e,className:this.getClassName(ee.CLASSES.FLEXLAYOUT__TABSET_HEADER_SIZER)},"FindHeaderBarSize"),w.createElement("div",{key:"findTabBarSize",ref:this.findTabBarSizeRef,style:e,className:this.getClassName(ee.CLASSES.FLEXLAYOUT__TABSET_SIZER)},"FindTabBarSize"),w.createElement("div",{key:"findBorderBarSize",ref:this.findBorderBarSizeRef,style:e,className:this.getClassName(ee.CLASSES.FLEXLAYOUT__BORDER_SIZER)},"FindBorderBarSize"))}renderBorder(e,t,i,o,s){for(const l of e.getBorders()){const u=`/border/${l.getLocation().getName()}`;if(l.isShowing()){t.push(w.createElement(Uo.BorderTabSet,{key:`border_${l.getLocation().getName()}`,path:u,border:l,layout:this,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons}));const f=l._getDrawChildren();let T=0,_=0;for(const c of f){if(c instanceof Li.SplitterNode){let m=u+"/s";s.push(w.createElement(Di.Splitter,{key:c.getId(),layout:this,node:c,path:m}))}else if(c instanceof De.TabNode){let m=u+"/t"+_++;if(this.supportsPopout&&c.isFloating()){const r=this._getScreenRect(c),n=c._getAttr("borderWidth"),d=c._getAttr("borderHeight");r&&(n!==-1&&l.getLocation().getOrientation()===$t.Orientation.HORZ?r.width=n:d!==-1&&l.getLocation().getOrientation()===$t.Orientation.VERT&&(r.height=d)),o.push(w.createElement(Bi.FloatingWindow,{key:c.getId(),url:this.popoutURL,rect:r,title:c.getName(),id:c.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},w.createElement(Ci.FloatingWindowTab,{layout:this,node:c,factory:this.props.factory}))),i[c.getId()]=w.createElement(Mi.TabFloating,{key:c.getId(),layout:this,path:m,node:c,selected:T===l.getSelected()})}else i[c.getId()]=w.createElement(wi.Tab,{key:c.getId(),layout:this,path:m,node:c,selected:T===l.getSelected(),factory:this.props.factory})}T++}}}}renderChildren(e,t,i,o,s,l){const u=t._getDrawChildren();let f=0,T=0,_=0;for(const c of u)if(c instanceof Li.SplitterNode){const m=e+"/s"+f++;l.push(w.createElement(Di.Splitter,{key:c.getId(),layout:this,path:m,node:c}))}else if(c instanceof Ni.TabSetNode){const m=e+"/ts"+_++;i.push(w.createElement(Fo.TabSet,{key:c.getId(),layout:this,path:m,node:c,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons})),this.renderChildren(m,c,i,o,s,l)}else if(c instanceof De.TabNode){const m=e+"/t"+T++,r=c.getParent().getChildren()[c.getParent().getSelected()];if(r===void 0&&console.warn("undefined selectedTab should not happen"),this.supportsPopout&&c.isFloating()){const n=this._getScreenRect(c);s.push(w.createElement(Bi.FloatingWindow,{key:c.getId(),url:this.popoutURL,rect:n,title:c.getName(),id:c.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},w.createElement(Ci.FloatingWindowTab,{layout:this,node:c,factory:this.props.factory}))),o[c.getId()]=w.createElement(Mi.TabFloating,{key:c.getId(),layout:this,path:m,node:c,selected:c===r})}else o[c.getId()]=w.createElement(wi.Tab,{key:c.getId(),layout:this,path:m,node:c,selected:c===r,factory:this.props.factory})}else{const m=e+(c.getOrientation()===$t.Orientation.HORZ?"/r":"/c")+_++;this.renderChildren(m,c,i,o,s,l)}}_getScreenRect(e){var t;const i=e.getRect().clone(),o=(t=this.selfRef.current)===null||t===void 0?void 0:t.getBoundingClientRect();if(!o)return null;const s=Math.min(80,this.currentWindow.outerHeight-this.currentWindow.innerHeight),l=Math.min(80,this.currentWindow.outerWidth-this.currentWindow.innerWidth);return i.x=i.x+o.x+this.currentWindow.screenX+l,i.y=i.y+o.y+this.currentWindow.screenY+s,i}addTabToTabSet(e,t){if(this.props.model.getNodeById(e)!==void 0)return this.doAction(Ye.Actions.addNode(t,e,he.DockLocation.CENTER,-1))}addTabToActiveTabSet(e){const t=this.props.model.getActiveTabset();if(t!==void 0)return this.doAction(Ye.Actions.addNode(e,t.getId(),he.DockLocation.CENTER,-1))}addTabWithDragAndDrop(e,t,i){this.fnNewNodeDropped=i,this.newTabJson=t,this.dragStart(void 0,e,De.TabNode._fromJson(t,this.props.model,!1),!0,void 0,void 0)}moveTabWithDragAndDrop(e,t){this.dragStart(void 0,t,e,!0,void 0,void 0)}addTabWithDragAndDropIndirect(e,t,i){this.fnNewNodeDropped=i,this.newTabJson=t,Ne.DragDrop.instance.addGlass(this.onCancelAdd),this.dragDivText=e,this.dragDiv=this.currentDocument.createElement("div"),this.dragDiv.className=this.getClassName(ee.CLASSES.FLEXLAYOUT__DRAG_RECT),this.dragDiv.addEventListener("mousedown",this.onDragDivMouseDown),this.dragDiv.addEventListener("touchstart",this.onDragDivMouseDown,{passive:!1}),this.dragRectRender(this.dragDivText,void 0,this.newTabJson,()=>{if(this.dragDiv){this.dragDiv.style.visibility="visible";const s=this.dragDiv.getBoundingClientRect(),l=new ct.Rect(0,0,s==null?void 0:s.width,s==null?void 0:s.height);l.centerInRect(this.state.rect),this.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),this.dragDiv.style.left=l.x+"px",this.dragDiv.style.top=l.y+"px"}}),this.selfRef.current.appendChild(this.dragDiv)}handleCustomTabDrag(e,t,i){var o,s,l;let u=(o=this.customDrop)===null||o===void 0?void 0:o.invalidated;const f=(s=this.customDrop)===null||s===void 0?void 0:s.callback;this.customDrop=void 0;const T=this.newTabJson||(this.dragNode instanceof De.TabNode?this.dragNode:void 0);if(T&&(e.node instanceof Ni.TabSetNode||e.node instanceof xo.BorderNode)&&e.index===-1){const _=e.node.getSelectedNode(),c=_==null?void 0:_.getRect();if(_&&(c!=null&&c.contains(t.x,t.y))){let m;try{const r=this.onTabDrag(T,_,t.x-c.x,t.y-c.y,e.location,()=>this.onDragMove(i));r&&(m={rect:new ct.Rect(r.x+c.x,r.y+c.y,r.width,r.height),callback:r.callback,invalidated:r.invalidated,dragging:T,over:_,x:t.x-c.x,y:t.y-c.y,location:e.location,cursor:r.cursor})}catch(r){console.error(r)}(m==null?void 0:m.callback)===f&&(u=void 0),this.customDrop=m}}this.dropInfo=e,this.outlineDiv&&(this.outlineDiv.className=this.getClassName(this.customDrop?ee.CLASSES.FLEXLAYOUT__OUTLINE_RECT:e.className),this.customDrop?this.customDrop.rect.positionElement(this.outlineDiv):e.rect.positionElement(this.outlineDiv)),Ne.DragDrop.instance.setGlassCursorOverride((l=this.customDrop)===null||l===void 0?void 0:l.cursor),this.outlineDiv&&(this.outlineDiv.style.visibility="visible");try{u==null||u()}catch(_){console.error(_)}}onDragEnter(e){if(Ne.DragDrop.instance.isDragging())return;const t=this.props.onExternalDrag(e);t&&(this.fnNewNodeDropped=t.onDrop,this.newTabJson=t.json,this.dragStart(e,t.dragText,De.TabNode._fromJson(t.json,this.props.model,!1),!0,void 0,void 0))}checkForBorderToShow(e,t){const i=this.props.model._getOuterInnerRects().outer,o=i.getCenter(),s=this.edgeRectWidth,l=this.edgeRectLength/2;let u=!1;this.props.model.isEnableEdgeDock()&&this.state.showHiddenBorder===he.DockLocation.CENTER&&(t>o.y-l&&t<o.y+l||e>o.x-l&&e<o.x+l)&&(u=!0);let f=he.DockLocation.CENTER;u||(e<=i.x+s?f=he.DockLocation.LEFT:e>=i.getRight()-s?f=he.DockLocation.RIGHT:t<=i.y+s?f=he.DockLocation.TOP:t>=i.getBottom()-s&&(f=he.DockLocation.BOTTOM)),f!==this.state.showHiddenBorder&&this.setState({showHiddenBorder:f})}maximize(e){this.doAction(Ye.Actions.maximizeToggle(e.getId()))}customizeTab(e,t){this.props.onRenderTab&&this.props.onRenderTab(e,t)}customizeTabSet(e,t){this.props.onRenderTabSet&&this.props.onRenderTabSet(e,t)}i18nName(e,t){let i;return this.props.i18nMapper&&(i=this.props.i18nMapper(e,t)),i===void 0&&(i=e+(t===void 0?"":t)),i}getOnRenderFloatingTabPlaceholder(){return this.props.onRenderFloatingTabPlaceholder}getShowOverflowMenu(){return this.props.onShowOverflowMenu}getTabSetPlaceHolderCallback(){return this.props.onTabSetPlaceHolder}showContextMenu(e,t){this.props.onContextMenu&&this.props.onContextMenu(e,t)}auxMouseClick(e,t){this.props.onAuxMouseClick&&this.props.onAuxMouseClick(e,t)}}ut.Layout=Xo;const Wo=a=>(w.useEffect(()=>{var e;(e=a.onRendered)===null||e===void 0||e.call(a)},[a]),w.createElement(w.Fragment,null,a.children));var st={};Object.defineProperty(st,"__esModule",{value:!0});st.BorderSet=void 0;const Gt=G,$o=Oe();class ni{static _fromJson(e,t){const i=new ni(t);return i._borders=e.map(o=>$o.BorderNode._fromJson(o,t)),i}constructor(e){this._model=e,this._borders=[]}getBorders(){return this._borders}_forEachNode(e){for(const t of this._borders){e(t,0);for(const i of t.getChildren())i._forEachNode(e,1)}}_toJson(){return this._borders.map(e=>e.toJson())}_layoutBorder(e,t){const i=e.outer,o=this._model.getRoot();let s=Math.max(0,i.height-o.getMinHeight()),l=Math.max(0,i.width-o.getMinWidth()),u=0,f=0,T=0,_=0;const c=this._borders.filter(n=>n.isShowing());for(const n of c){n._setAdjustedSize(n.getSize());const d=n.getSelected()!==-1;n.getLocation().getOrientation()===Gt.Orientation.HORZ?(f+=n.getBorderBarSize(),d&&(l-=this._model.getSplitterSize(),f+=n.getSize(),_+=n.getSize())):(u+=n.getBorderBarSize(),d&&(s-=this._model.getSplitterSize(),u+=n.getSize(),T+=n.getSize()))}let m=0,r=!1;for(;f>l&&_>0||u>s&&T>0;){const n=c[m];if(n.getSelected()!==-1){const d=n._getAdjustedSize();f>l&&_>0&&n.getLocation().getOrientation()===Gt.Orientation.HORZ&&d>0&&d>n.getMinSize()?(n._setAdjustedSize(d-1),f--,_--,r=!0):u>s&&T>0&&n.getLocation().getOrientation()===Gt.Orientation.VERT&&d>0&&d>n.getMinSize()&&(n._setAdjustedSize(d-1),u--,T--,r=!0)}if(m=(m+1)%c.length,m===0)if(r)r=!1;else break}for(const n of c)e.outer=n._layoutBorderOuter(e.outer,t);e.inner=e.outer;for(const n of c)e.inner=n._layoutBorderInner(e.inner,t);return e}_findDropTargetNode(e,t,i){for(const o of this._borders)if(o.isShowing()){const s=o.canDrop(e,t,i);if(s!==void 0)return s}}}st.BorderSet=ni;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});var ki={};Object.defineProperty(ki,"__esModule",{value:!0});var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.Model=void 0;const B=Ee,Go=me,jt=_e,Ii=G,xi=q,te=re,qe=Oe(),Ui=st,ke=ti(),we=Be,ue=Ce(),Vt=ii();class se{static fromJson(e){const t=new se;return se._attributeDefinitions.fromJson(e.global,t._attributes),e.borders&&(t._borders=Ui.BorderSet._fromJson(e.borders,t)),t._root=ke.RowNode._fromJson(e.layout,t),t._tidy(),t}static _createAttributeDefinitions(){const e=new Go.AttributeDefinitions;return e.add("legacyOverflowMenu",!1).setType(B.Attribute.BOOLEAN),e.add("enableEdgeDock",!0).setType(B.Attribute.BOOLEAN),e.add("rootOrientationVertical",!1).setType(B.Attribute.BOOLEAN),e.add("marginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("enableUseVisibility",!1).setType(B.Attribute.BOOLEAN),e.add("enableRotateBorderIcons",!0).setType(B.Attribute.BOOLEAN),e.add("splitterSize",-1).setType(B.Attribute.NUMBER),e.add("splitterExtra",0).setType(B.Attribute.NUMBER),e.add("tabEnableClose",!0).setType(B.Attribute.BOOLEAN),e.add("tabCloseType",1).setType("ICloseType"),e.add("tabEnableFloat",!1).setType(B.Attribute.BOOLEAN),e.add("tabEnableDrag",!0).setType(B.Attribute.BOOLEAN),e.add("tabEnableRename",!0).setType(B.Attribute.BOOLEAN),e.add("tabContentClassName",void 0).setType(B.Attribute.STRING),e.add("tabClassName",void 0).setType(B.Attribute.STRING),e.add("tabIcon",void 0).setType(B.Attribute.STRING),e.add("tabEnableRenderOnDemand",!0).setType(B.Attribute.BOOLEAN),e.add("tabDragSpeed",.3).setType(B.Attribute.NUMBER),e.add("tabBorderWidth",-1).setType(B.Attribute.NUMBER),e.add("tabBorderHeight",-1).setType(B.Attribute.NUMBER),e.add("tabSetEnableDeleteWhenEmpty",!0).setType(B.Attribute.BOOLEAN),e.add("tabSetEnableDrop",!0).setType(B.Attribute.BOOLEAN),e.add("tabSetEnableDrag",!0).setType(B.Attribute.BOOLEAN),e.add("tabSetEnableDivide",!0).setType(B.Attribute.BOOLEAN),e.add("tabSetEnableMaximize",!0).setType(B.Attribute.BOOLEAN),e.add("tabSetEnableClose",!1).setType(B.Attribute.BOOLEAN),e.add("tabSetEnableSingleTabStretch",!1).setType(B.Attribute.BOOLEAN),e.add("tabSetAutoSelectTab",!0).setType(B.Attribute.BOOLEAN),e.add("tabSetClassNameTabStrip",void 0).setType(B.Attribute.STRING),e.add("tabSetClassNameHeader",void 0).setType(B.Attribute.STRING),e.add("tabSetEnableTabStrip",!0).setType(B.Attribute.BOOLEAN),e.add("tabSetHeaderHeight",0).setType(B.Attribute.NUMBER),e.add("tabSetTabStripHeight",0).setType(B.Attribute.NUMBER),e.add("tabSetMarginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("tabSetBorderInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("tabSetTabLocation","top").setType("ITabLocation"),e.add("tabSetMinWidth",0).setType(B.Attribute.NUMBER),e.add("tabSetMinHeight",0).setType(B.Attribute.NUMBER),e.add("borderSize",200).setType(B.Attribute.NUMBER),e.add("borderMinSize",0).setType(B.Attribute.NUMBER),e.add("borderBarSize",0).setType(B.Attribute.NUMBER),e.add("borderEnableDrop",!0).setType(B.Attribute.BOOLEAN),e.add("borderAutoSelectTabWhenOpen",!0).setType(B.Attribute.BOOLEAN),e.add("borderAutoSelectTabWhenClosed",!1).setType(B.Attribute.BOOLEAN),e.add("borderClassName",void 0).setType(B.Attribute.STRING),e.add("borderEnableAutoHide",!1).setType(B.Attribute.BOOLEAN),e}constructor(){this._borderRects={inner:xi.Rect.empty(),outer:xi.Rect.empty()},this._attributes={},this._idMap={},this._borders=new Ui.BorderSet(this),this._pointerFine=!0,this._showHiddenBorder=jt.DockLocation.CENTER}_setChangeListener(e){this._changeListener=e}getActiveTabset(){if(this._activeTabSet&&this.getNodeById(this._activeTabSet.getId()))return this._activeTabSet}_getShowHiddenBorder(){return this._showHiddenBorder}_setShowHiddenBorder(e){this._showHiddenBorder=e}_setActiveTabset(e){this._activeTabSet=e}getMaximizedTabset(){return this._maximizedTabSet}_setMaximizedTabset(e){this._maximizedTabSet=e}getRoot(){return this._root}isRootOrientationVertical(){return this._attributes.rootOrientationVertical}isUseVisibility(){return this._attributes.enableUseVisibility}isEnableRotateBorderIcons(){return this._attributes.enableRotateBorderIcons}getBorderSet(){return this._borders}_getOuterInnerRects(){return this._borderRects}_getPointerFine(){return this._pointerFine}_setPointerFine(e){this._pointerFine=e}visitNodes(e){this._borders._forEachNode(e),this._root._forEachNode(e,0)}getNodeById(e){return this._idMap[e]}getFirstTabSet(e=this._root){const t=e.getChildren()[0];return t instanceof ue.TabSetNode?t:this.getFirstTabSet(t)}doAction(e){let t;switch(e.type){case te.Actions.ADD_NODE:{const i=new we.TabNode(this,e.data.json,!0),o=this._idMap[e.data.toNode];(o instanceof ue.TabSetNode||o instanceof qe.BorderNode||o instanceof ke.RowNode)&&(o.drop(i,jt.DockLocation.getByName(e.data.location),e.data.index,e.data.select),t=i);break}case te.Actions.MOVE_NODE:{const i=this._idMap[e.data.fromNode];if(i instanceof we.TabNode||i instanceof ue.TabSetNode){const o=this._idMap[e.data.toNode];(o instanceof ue.TabSetNode||o instanceof qe.BorderNode||o instanceof ke.RowNode)&&o.drop(i,jt.DockLocation.getByName(e.data.location),e.data.index,e.data.select)}break}case te.Actions.DELETE_TAB:{const i=this._idMap[e.data.node];i instanceof we.TabNode&&i._delete();break}case te.Actions.DELETE_TABSET:{const i=this._idMap[e.data.node];if(i instanceof ue.TabSetNode){const o=[...i.getChildren()];for(let s=0;s<o.length;s++){const l=o[s];l.isEnableClose()&&l._delete()}i.getChildren().length===0&&i._delete(),this._tidy()}break}case te.Actions.FLOAT_TAB:{const i=this._idMap[e.data.node];i instanceof we.TabNode&&(i._setFloating(!0),(0,Vt.adjustSelectedIndexAfterFloat)(i));break}case te.Actions.UNFLOAT_TAB:{const i=this._idMap[e.data.node];i instanceof we.TabNode&&(i._setFloating(!1),(0,Vt.adjustSelectedIndexAfterDock)(i));break}case te.Actions.RENAME_TAB:{const i=this._idMap[e.data.node];i instanceof we.TabNode&&i._setName(e.data.text);break}case te.Actions.SELECT_TAB:{const i=this._idMap[e.data.tabNode];if(i instanceof we.TabNode){const o=i.getParent(),s=o.getChildren().indexOf(i);o instanceof qe.BorderNode?o.getSelected()===s?o._setSelected(-1):o._setSelected(s):o instanceof ue.TabSetNode&&(o.getSelected()!==s&&o._setSelected(s),this._activeTabSet=o)}break}case te.Actions.SET_ACTIVE_TABSET:{if(e.data.tabsetNode===void 0)this._activeTabSet=void 0;else{const i=this._idMap[e.data.tabsetNode];i instanceof ue.TabSetNode&&(this._activeTabSet=i)}break}case te.Actions.ADJUST_SPLIT:{const i=this._idMap[e.data.node1],o=this._idMap[e.data.node2];(i instanceof ue.TabSetNode||i instanceof ke.RowNode)&&(o instanceof ue.TabSetNode||o instanceof ke.RowNode)&&(this._adjustSplitSide(i,e.data.weight1,e.data.pixelWidth1),this._adjustSplitSide(o,e.data.weight2,e.data.pixelWidth2));break}case te.Actions.ADJUST_BORDER_SPLIT:{const i=this._idMap[e.data.node];i instanceof qe.BorderNode&&i._setSize(e.data.pos);break}case te.Actions.MAXIMIZE_TOGGLE:{const i=this._idMap[e.data.node];i instanceof ue.TabSetNode&&(i===this._maximizedTabSet?this._maximizedTabSet=void 0:(this._maximizedTabSet=i,this._activeTabSet=i));break}case te.Actions.UPDATE_MODEL_ATTRIBUTES:{this._updateAttrs(e.data.json);break}case te.Actions.UPDATE_NODE_ATTRIBUTES:{this._idMap[e.data.node]._updateAttrs(e.data.json);break}}return this._updateIdMap(),this._changeListener!==void 0&&this._changeListener(e),t}_updateIdMap(){this._idMap={},this.visitNodes(e=>this._idMap[e.getId()]=e)}_adjustSplitSide(e,t,i){e._setWeight(t),e.getWidth()!=null&&e.getOrientation()===Ii.Orientation.VERT?e._updateAttrs({width:i}):e.getHeight()!=null&&e.getOrientation()===Ii.Orientation.HORZ&&e._updateAttrs({height:i})}toJson(){const e={};return se._attributeDefinitions.toJson(e,this._attributes),this.visitNodes(t=>{t._fireEvent("save",void 0)}),{global:e,borders:this._borders._toJson(),layout:this._root.toJson()}}getSplitterSize(){let e=this._attributes.splitterSize;return e===-1&&(e=this._pointerFine?8:12),e}isLegacyOverflowMenu(){return this._attributes.legacyOverflowMenu}getSplitterExtra(){return this._attributes.splitterExtra}isEnableEdgeDock(){return this._attributes.enableEdgeDock}_addNode(e){const t=e.getId();if(this._idMap[t]!==void 0)throw new Error(`Error: each node must have a unique id, duplicate id:${e.getId()}`);e.getType()!=="splitter"&&(this._idMap[t]=e)}_layout(e,t){var i;return this._borderRects=this._borders._layoutBorder({outer:e,inner:e},t),e=this._borderRects.inner.removeInsets(this._getAttribute("marginInsets")),(i=this._root)===null||i===void 0||i.calcMinSize(),this._root._layout(e,t),e}_findDropTargetNode(e,t,i){let o=this._root._findDropTargetNode(e,t,i);return o===void 0&&(o=this._borders._findDropTargetNode(e,t,i)),o}_tidy(){this._root._tidy()}_updateAttrs(e){se._attributeDefinitions.update(e,this._attributes)}_nextUniqueId(){return"#"+(0,Vt.randomUUID)()}_getAttribute(e){return this._attributes[e]}setOnAllowDrop(e){this._onAllowDrop=e}_getOnAllowDrop(){return this._onAllowDrop}setOnCreateTabSet(e){this._onCreateTabSet=e}_getOnCreateTabSet(){return this._onCreateTabSet}static toTypescriptInterfaces(){console.log(se._attributeDefinitions.toTypescriptInterface("Global",void 0)),console.log(ke.RowNode.getAttributeDefinitions().toTypescriptInterface("Row",se._attributeDefinitions)),console.log(ue.TabSetNode.getAttributeDefinitions().toTypescriptInterface("TabSet",se._attributeDefinitions)),console.log(we.TabNode.getAttributeDefinitions().toTypescriptInterface("Tab",se._attributeDefinitions)),console.log(qe.BorderNode.getAttributeDefinitions().toTypescriptInterface("Border",se._attributeDefinitions))}toString(){return JSON.stringify(this.toJson())}}vt.Model=se;se._attributeDefinitions=se._createAttributeDefinitions();(function(a){var e=at&&at.__createBinding||(Object.create?function(i,o,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,l,u)}:function(i,o,s,l){l===void 0&&(l=s),i[l]=o[s]}),t=at&&at.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,i,s)};Object.defineProperty(a,"__esModule",{value:!0}),t(ut,a),t(Qe,a),t(re,a),t(Oe(),a),t(st,a),t(bt,a),t(Hi,a),t(Yi,a),t(ki,a),t(vt,a),t(Ae,a),t(ti(),a),t(Fe,a),t(Be,a),t(Ce(),a),t(_e,a),t(xe,a),t(Ue,a),t(Re,a),t(G,a),t(q,a),t(j,a)})(ei);function jo(a){let e,t;const i=[a[0]];let o={};for(let s=0;s<i.length;s+=1)o=nn(o,i[s]);return e=new a[1]({props:o}),{c(){dn(e.$$.fragment)},l(s){ln(e.$$.fragment,s)},m(s,l){cn(e,s,l),t=!0},p(s,[l]){const u=l&1?_n(i,[fn(s[0])]):{};e.$set(u)},i(s){t||(Pi(e.$$.fragment,s),t=!0)},o(s){zi(e.$$.fragment,s),t=!1},d(s){hn(e,s)}}}const Xi=Qt("_row"),Wi=Qt("_tabs"),$i=Qt("_panel"),Gi=a=>{if(a.length===0)throw new Error("No children!");const e=a[0],t=Xi(e)||Wi(e)||$i(e),i=t?{}:e,o=t?a:a.slice(1);return console.log(i),{config:i,children:o}},Vo=(...a)=>{const{config:e,children:t}=Gi(a);return{_row:{...e,type:"row",children:t.map(i=>{if(Xi(i))return i._row;if(Wi(i))return i._tabs;if($i(i)){const o=i._panel;return{type:"tabset",children:[i._panel],...(o==null?void 0:o.tabset)??{}}}throw new Error("Uh oh! Unable to determine child")})}}},Jo=(...a)=>{const{config:e,children:t}=Gi(a);return{_tabs:{...e,type:"tabset",children:t.map(({_panel:i})=>i)}}},us=(a,e={})=>{let t=0;const i=new Map,o=new Map,s=new Map,l=new Map,u=new Map,f=(_,c,m)=>{const r=m&&"props"in m?m.props:void 0,n=t++;if(r&&i.set(n,r),m!=null&&m.onCreate&&o.set(n,m.onCreate),_==="svelte"){const d=c;s.has(d)||s.set(d,pn(d)),l.has(n)||l.set(n,d),u.set(n,s.get(d))}else u.set(n,c);return{_panel:{...m,type:"tab",component:n.toString()}}},{_row:T}=a({split:Vo,tabs:Jo,panel:f});return{model:ei.Model.fromJson({global:e,borders:[],layout:T}),factory:_=>{const c=_.getComponent(),m=Number.parseInt(c),r=u.get(m),n=l.get(m),d=o.get(m),h=un.createElement(r,i.get(m));return d&&(n?An.onRegister(n,d):d(h)),h}}};function Zo(a,e,t){let{configuration:i}=e;const o=gn(ei.Layout,qt.createPortal,bn,Tn);return a.$$set=s=>{"configuration"in s&&t(0,i=s.configuration)},[i,o]}class _s extends rn{constructor(e){super(),an(this,e,Zo,jo,tn,{configuration:0})}}export{_s as L,An as a,os as b,us as c,cs as d,ns as e,rs as f,ss as g,ts as h,hs as i,ds as j,ls as m,as as s,is as u};
//# sourceMappingURL=Layout.BqCPlncL.js.map
